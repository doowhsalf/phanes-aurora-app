{"version":3,"sources":["meteor://ðŸ’»app/server/lib/drupal/services.js","meteor://ðŸ’»app/server/lib/fileManager/filemanager.js","meteor://ðŸ’»app/server/lib/chat.js","meteor://ðŸ’»app/server/lib/order.js","meteor://ðŸ’»app/server/configs/initial_adds.js","meteor://ðŸ’»app/server/configs/initial_users.js","meteor://ðŸ’»app/server/methods/_users.js","meteor://ðŸ’»app/server/methods/account.js","meteor://ðŸ’»app/server/methods/chatlinelists.js","meteor://ðŸ’»app/server/methods/contact.js","meteor://ðŸ’»app/server/methods/content.js","meteor://ðŸ’»app/server/methods/filearea.js","meteor://ðŸ’»app/server/methods/index.js","meteor://ðŸ’»app/server/methods/log.js","meteor://ðŸ’»app/server/methods/orders.js","meteor://ðŸ’»app/server/methods/search.js","meteor://ðŸ’»app/server/publications/_users.js","meteor://ðŸ’»app/server/publications/articles.js","meteor://ðŸ’»app/server/publications/chatlines.js","meteor://ðŸ’»app/server/publications/chatrooms.js","meteor://ðŸ’»app/server/publications/index.js","meteor://ðŸ’»app/server/publications/mcc_config.js","meteor://ðŸ’»app/server/publications/programs.js","meteor://ðŸ’»app/server/publications/secrets.js","meteor://ðŸ’»app/server/publications/signalstate.js","meteor://ðŸ’»app/server/routes.js","meteor://ðŸ’»app/server/main.js","meteor://ðŸ’»app/lib/transformers/dateStringTransformer.js","meteor://ðŸ’»app/lib/collections.js","meteor://ðŸ’»app/lib/constants.js","meteor://ðŸ’»app/lib/log.js","meteor://ðŸ’»app/lib/random.js","meteor://ðŸ’»app/lib/user.js","meteor://ðŸ’»app/i18n/tcomb/en.js","meteor://ðŸ’»app/i18n/tcomb/sv.js","meteor://ðŸ’»app/wallaby.js"],"names":["module","export","default","GudrunContentServices","HTTP","link","v","Meteor","DEFCON9","DEFCON7","DEFCON5","DEFCON4","DEFCON3","DEFCON2","DEFCON1","util","USER_ACTION_ACTIVATE","constructor","asyncHttp","promisify","post","sendRequest","url","query","async","console","log","JSON","stringify","startTime","Date","getTime","headers","settings","apiKey","APIKEY","strictSSL","response","executionTime","statusCode","data","localError","Error","sendRequestAsync","test_connection","serviceUrl","drupalTestConnection","replace","queryOrder","searchText","drupalOrderQuery","queryOrderState","state","limit","field_order_state","query_limit","queryOrderByPersonId","field_personid","queryRecentOrders","motherchecks","drupalMotherCheck","queryOrderByOrderId","field_orderid","updateOrderByOrderId","order","drupalOrderUpdate","updateStream","createPersonOrder","drupalOrderCreate","dataReply","getTerms","termtype","drupalGetTax","taxonomy_type","queryTerms","drupalQueryTax","taxonomy_autosearch","queryTermsCountry","dataContext","taxonomy_query_country","queryPersonById","drupalEntityQuery","query_domain","queryPerson","meta","meta_responcemode","meta_query_engine","meta_query_args","queryPersonAdvanced","personadvanced_distinct","queryRoleAdvanced","queryRoles","advancedrole_roles","advancedrole_detailedcategoryrole","advancedrole_basecategoryrole","advancedrole_organisation","advancedrole_countryofjurisdiction","livestream","field_parent_reference","processOrder","request","drupalProcess","field_order_state_request_next","getUserRoles","uid","drupalUserUrl","roles","admin","admin_in_companies","member","member_in_companies","e","getCompanyUsers","companyId","drupalCompanyUsersUrl","field_company_id","company","administrators","field_company_administrators","temp","map","user","concat","members","field_company_members","status","field_company_members_inactive","users","admins","manageUser","action","drupalManageUserUrl","contentServerAction","drupalInsertUser","user_mail","mail","user_name","name","secretQuestion","secretAnswer","pw","addUser","sendQuestion","drupalContactUrl","queryOptions","getArticle","drupalGetArticleUrl","fileareaGetFile","drupalFileareaGetFile","fileareaQuery","drupalFileareaQuery","drupalGetUser","method","value","getUserByAttribute","ChatRooms","ChatLines","Constants","groupBy","xs","key","reduce","rv","x","push","exportDefault","getChatRoomById","id","Order","dateFormat","undefined","testConnectionContent","services","error","orderQuery","orders","process","result","createUpdatePersonOrder","now","OrderProcessMethod","EXPRESS","getNameTypes","chatlines","find","count","Accounts","createUser","email","password","check","Random","DrupalServices","methods","Object","chatUsers","fetch","_id","String","record","findOne","get","locale","defaultLocale","lang","set","save","theme","Boolean","userId","text","updated","update","$set","profile","newUser","avatar_uri","doWork","adminsCompanyId","reason","administratedCompanyId","getAdministratedCompanyId","userid","syncDrupalUser","getDrupalUser","uri","first_name","field_first_name","last_name","field_last_name","information","field_information","telephone","field_telephone_number","currentUid","module1","Match","Persons","SearchLog","staleSessionPurgeInterval","public","inactivityTimeout","staleSessionInactivityTimeout","forceLogout","userObj","accountSetPw","heartbeat","options","setInterval","overdueTimestamp","$lt","$unset","multi","Future","Npm","require","DRUPAL_DEFAULTS","port","dn","searchDN","searchSizeLimit","searchCredentials","createNewUser","defaultDomain","searchResultsProfileMap","base","search","ldapsCertificate","bindToDomain","bindDomain","LDAP","create","_","defaults","prototype","drupalCheck","bindAfterFind","self","hasOwnProperty","ldapAsyncFut","err","tokenResult","return","user_data","username","ldapPass","content","params","loginResult","retObject","code","message","wait","registerLoginHandler","loginRequest","drupal","userOptions","ldapOptions","ldapObj","stampedToken","token","emails","$elemMatch","address","verified","_generateStampedLoginToken","hashStampedToken","_hashStampedToken","$push","setPassword","call","userObject","ChatLineLists","channelId","line","currentUser","currentUserId","currentDate","chatLine","modifiedBy","createdByName","createdBy","modifiedAt","createdAt","lineId","insert","containerId","meta_acting_user","_users","chatlinelists","contact","filearea","account","Articles","OneOf","Users","unblock","content_order","dbQuery","nameElemMatch","NameType","rStart","rStartLastName","rEnd","firstName","regex","RegExp","source","toLowerCase","trim","dir","$regex","lastName","field_pep","field_rca","year","month","day","Array","isArray","field_pep_countries_list","length","filteredCountries","filter","item","index","selected","$in","searchBySSN","ssnNumber","keys","UserId","DateTime","ResultsReturned","list","publish","selector","articleId","autorun","computation","Selector","article","chatLinesSelector","chatLinesUserIds","usersWithAvatars","chatroomId","chatRoomsSelector","chatRoomsUserIds","chatrooms","secrets","articles","mcc","signalstate","MccConfig","mccConfig","facility","allowDiskUse","pipeline","$match","read_proc_status","$group","numOfRead","$sum","$project","aggregate","Programs","Modules","programId","Secrets","SignalState","SignalHistory","signalState","sort","signalId","entityId","SignalHistoryData","FileManager","Picker","route","req","res","next","fileType","fileId","fileName","decodeURIComponent","fileData","readOutputFileAsBuffer","setHeader","end","publications","addInitialData","i18n","startup","urls","resetPassword","absoluteUrl","emailTemplates","siteName","__","from","subject","html","urlTag","onCreateUser","validateLoginAttempt","onLogin","loginInfo","allowed","type","t","moment","DateStringTransformer","formatString","format","is","momentDate","parse","str","toDate","SignalMeta","Mongo","Collection","USER_ACTION_DEACTIVATE","USER_ACTION_ADD","USER_STATUS_ACTIVE","USER_STATUS_INACTIVE","React","CardMode","PERSON","NEWORDER","ORDER","CardStatus","NA","QA","RQA","NEW","FUTURE","OK","OrderProcessStatuses","INIT","PENDING","OPEN100","OPEN110","OPEN500","TIMECHECK","QACHECK","PUBLISH","COMPLETED","SUSPENCE910","SUSPENCE950","SUSPENCE990","CANCELLED","OrderType","NEW_PERSON","MIGRATION","RELATION_UPDATE","RELATION_INSERT","CORE","URI","SSN","ADDRESS","NAME","ROLE_INSERT","ROLE_UPDATE","activeCard","ROLES","Gender","FEMALE","MALE","DEFAULT","datePrecision","UNDEF","YEAR","MONTH","DAY","orderTypeTechnical","NEW_PERSON_ORDER","defaultValues","ORDERID","motherCheckState","WARNING","ERROR_GENERIC","ERROR","personNameTypes","PREVIOUS_NAMES","ALTERNATIVE_NAMES","PRIMARY_NAME","REGISTRED_NAME","LoadingComponent","Log","info","callback","generateString","possible","i","charAt","Math","floor","random","Phone","Email","UserProfile","Astro","Class","fields","validator","Validators","minLength","number","uuid","description","User","collection","nested","_iss","_isa","firstEmail","isServer","extend","language","optional","required","add","remove","up","down","exports","wallaby","load","files","tests","compilers","babel","presets","env","testFramework"],"mappings":"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","file":"/app.js","sourcesContent":["import { HTTP } from \"meteor/http\";\nimport { Meteor } from \"meteor/meteor\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nimport util from \"util\";\nimport { USER_ACTION_ACTIVATE } from \"../../../lib/constants\";\n\nexport default class GudrunContentServices {\n  constructor() {\n    const asyncHttp = util.promisify(HTTP.post);\n\n    this.sendRequest = (url, query, async = false) => {\n      DEFCON3 && console.log(url);\n      DEFCON3 && console.log(\"Query string...\");\n      DEFCON3 && console.log(JSON.stringify(query, null, 2));\n      const startTime = new Date().getTime();\n\n      if (query) {\n        if (query.headers) {\n          query.headers[\"APIKEY\"] = Meteor.settings.apiKey;\n          query.headers[\"strictSSL\"] = false;\n        } else {\n          query.headers = {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          };\n        }\n      } else {\n        query = {\n          headers: {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          },\n        };\n      }\n\n      const response = HTTP.post(url, query);\n      const executionTime = new Date().getTime() - startTime;\n      DEFCON3 && console.log(\"Call to server took: \" + executionTime);\n\n      if (response.statusCode === 200) {\n        DEFCON5 && console.log(response.data);\n        return response.data;\n      } else {\n        let localError = new Meteor.Error(\n          \"Invalid response status code: \" + response.statusCode\n        );\n        DEFCON1 && console.log(response.data);\n        DEFCON1 && console.log(localError);\n        throw localError;\n      }\n    };\n\n    this.sendRequestAsync = async (url, query) => {\n      DEFCON3 && console.log(url);\n      DEFCON3 && console.log(\"Query string...\");\n      DEFCON3 && console.log(JSON.stringify(query, null, 2));\n      const startTime = new Date().getTime();\n\n      if (query) {\n        if (query.headers) {\n          query.headers[\"APIKEY\"] = Meteor.settings.apiKey;\n          query.headers[\"strictSSL\"] = false;\n        } else {\n          query.headers = {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          };\n        }\n      } else {\n        query = {\n          headers: {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          },\n        };\n      }\n\n      const response = await asyncHttp(url, query);\n      const executionTime = new Date().getTime() - startTime;\n      DEFCON3 && console.log(\"Call to server took: \" + executionTime);\n\n      if (response.statusCode === 200) {\n        DEFCON5 && console.log(response.data);\n        return response.data;\n      } else {\n        if (response.statusCode === 400) {\n          DEFCON5 && console.log(response.data);\n          return response.data;\n        } else {\n          let localError = new Meteor.Error(\n            \"Invalid response status code: \" + response.statusCode\n          );\n          DEFCON1 && console.log(response.data);\n          DEFCON1 && console.log(localError);\n          throw localError;\n        }\n      }\n    };\n  }\n\n  test_connection() {\n    let serviceUrl = `${Meteor.settings.drupalTestConnection}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    return this.sendRequest(serviceUrl, {});\n  }\n\n  queryOrder(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        query: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderState(state, limit) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_order_state: state,\n        query_limit: limit,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderByPersonId(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_personid: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryRecentOrders() {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        query_limit: \"50\",\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  motherchecks() {\n    let serviceUrl = `${Meteor.settings.drupalMotherCheck}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {},\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderByOrderId(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_orderid: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  updateOrderByOrderId(order) {\n    let serviceUrl = `${Meteor.settings.drupalOrderUpdate}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    // just pass the order\n\n    DEFCON3 && console.log(\"Checking data in updateOrderByOrderId\");\n    DEFCON3 && console.log(order);\n\n    //order.acting_uid = userObj.uid;\n    DEFCON3 && console.log(\"After...\");\n    DEFCON3 && console.log(order);\n\n    DEFCON3 && console.log(order);\n\n    let updateStream = {\n      order,\n    };\n    updateStream.data = updateStream.order;\n    return this.sendRequest(serviceUrl, updateStream);\n  }\n\n  createPersonOrder(order) {\n    let serviceUrl = `${Meteor.settings.drupalOrderCreate}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let updateStream = {\n      order,\n    };\n    updateStream.data = updateStream.order;\n    DEFCON3 && console.log(updateStream.order);\n\n    let dataReply = this.sendRequest(serviceUrl, updateStream);\n    DEFCON3 && console.log(dataReply);\n    return dataReply;\n  }\n\n  getTerms(termtype) {\n    let serviceUrl = `${Meteor.settings.drupalGetTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryTerms(termtype, searchText) {\n    let serviceUrl = `${Meteor.settings.drupalQueryTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n        taxonomy_autosearch: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryTermsCountry(dataContext) {\n    let serviceUrl = `${Meteor.settings.drupalQueryTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let termtype = \"countries\";\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n        taxonomy_query_country: dataContext,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPersonById(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        field_personid: searchText,\n        query_domain: [\"person\"],\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPerson(searchText, meta) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"1000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"fulltext\",\n        meta_query_args: meta,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPersonAdvanced(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"2000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"personadvanced\",\n        personadvanced_distinct: \"1\",\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryRoleAdvanced(searchText, queryRoles) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    DEFCON3 && console.log(queryRoles);\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"2000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"roleadvanced\",\n        advancedrole_roles: queryRoles.advancedrole_roles,\n        advancedrole_detailedcategoryrole:\n          queryRoles.advancedrole_detailedcategoryrole,\n        advancedrole_basecategoryrole: queryRoles.advancedrole_basecategoryrole,\n        advancedrole_organisation: queryRoles.advancedrole_organisation,\n        advancedrole_countryofjurisdiction:\n          queryRoles.advancedrole_countryofjurisdiction,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  livestream(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_parent_reference: searchText,\n        query_domain: [\"livestream\"],\n        query_limit: \"50\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"livestream\",\n      },\n    };\n\n    DEFCON3 && console.log(query);\n\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  processOrder(request) {\n    let serviceUrl = `${Meteor.settings.drupalProcess}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        field_orderid: request.field_orderid,\n        field_order_state_request_next: request.field_order_state_request_next,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  async getUserRoles(uid) {\n    let serviceUrl = `${Meteor.settings.drupalUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n\n    if (!uid) {\n      return null;\n    }\n\n    let query = {\n      data: { uid },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      //roles contain arrays of company ids\n      const roles = {\n        admin: response && response.admin_in_companies,\n        member: response && response.member_in_companies,\n      };\n      return roles;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUserRoles\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async getCompanyUsers(companyId) {\n    let serviceUrl = `${Meteor.settings.drupalCompanyUsersUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: { field_company_id: companyId },\n    };\n\n    try {\n      const company = await this.sendRequestAsync(serviceUrl, query);\n      DEFCON5 && console.log(\"Company users returned:\");\n\n      let administrators = [];\n      if (company && company.field_company_administrators) {\n        let temp = company.field_company_administrators.map((user) => {\n          return user;\n        });\n        administrators = administrators.concat(temp);\n      }\n\n      let members = [];\n      if (company && company.field_company_members) {\n        let temp = company.field_company_members.map((user) => {\n          user.status = \"active\";\n          return user;\n        });\n        members = members.concat(temp);\n      }\n\n      if (company && company.field_company_members_inactive) {\n        let temp = company.field_company_members_inactive.map((user) => {\n          user.status = \"inactive\";\n          return user;\n        });\n        members = members.concat(temp);\n      }\n      const users = {\n        companyId,\n        admins: administrators,\n        members: members,\n      };\n\n      DEFCON5 && console.log(users);\n      return users;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getCompanyUsers\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async manageUser(uid, action, companyId) {\n    let serviceUrl = `${Meteor.settings.drupalManageUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    const contentServerAction =\n      action === USER_ACTION_ACTIVATE ? \"activateUser\" : \"disableUser\";\n    let query = {\n      data: {\n        uid,\n        action: contentServerAction,\n        field_company_id: companyId,\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in manageUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async drupalInsertUser(user) {\n    let serviceUrl = `${Meteor.settings.drupalInsertUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        user_mail: user.mail,\n        user_name: user.name,\n        secretQuestion: user.secretQuestion,\n        secretAnswer: user.secretAnswer,\n        pw: user.pw,\n        action: \"newUser\",\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in insertUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async addUser(user, companyId) {\n    let serviceUrl = `${Meteor.settings.drupalManageUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        user_mail: user.mail,\n        user_name: user.name,\n        action: \"newUser\",\n        field_company_id: companyId,\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in manageUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async sendQuestion(query) {\n    let serviceUrl = `${Meteor.settings.drupalContactUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in sendQuestion\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async getArticle(query) {\n    let serviceUrl = `${Meteor.settings.drupalGetArticleUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getArticle\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  // async getArticle(query) {\n  //   let serviceUrl = `${Meteor.settings.drupalGetArticleUrl}`;\n  //   serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n  //   let queryOptions = {\n  //     data: query\n  //   };\n  //   try {\n  //     const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n  //     return response;\n  //   } catch (e) {\n  //     DEFCON3 && console.log(\"Error in getArticle\");\n  //     DEFCON3 && console.log(e);\n  //   }\n  // }\n  async fileareaGetFile(query) {\n    let serviceUrl = `${Meteor.settings.drupalFileareaGetFile}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    DEFCON3 && console.log(\"Preparing to get the file...!\");\n    DEFCON3 && console.log(query);\n\n    try {\n      DEFCON3 && console.log(\"Sending Request...!\");\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      DEFCON3 && console.log(\"Get Item back from Request\");\n\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in fileareaGetItem\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async fileareaQuery(query) {\n    let serviceUrl = `${Meteor.settings.drupalFileareaQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    DEFCON3 && console.log(\"fileareaQuery Getting content...!\");\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in fileareaQuery\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async drupalGetUser(uid) {\n    let serviceUrl = `${Meteor.settings.drupalGetUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        method: \"uid\",\n        value: uid,\n      },\n    };\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async getUserByAttribute(method, value) {\n    let serviceUrl = `${Meteor.settings.drupalGetUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        method: method,\n        value: value,\n      },\n    };\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n}\n","/**\n * Created by kacper on 6/8/16.\n */\n/*\n\"use strict\";\n\nexport default function FileManager(baseDirectory) {\n  var path = Npm.require('path');\n  var fs = Npm.require('fs');\n  baseDirectory = baseDirectory.trim('/');\n  let filesRootPath = Meteor.settings.filesRootPath;\n  var basePath = `${filesRootPath}/${baseDirectory}/`;\n  basePath = basePath.replace('//', '/');\n\n  this.readInputFileAsBuffer = function (fileName) {\n    try {\n      var fileBuffer = fs.readFileSync(basePath + fileName);\n      return fileBuffer;\n    }\n    catch (error) {\n      throw new Error(`File ${fileName} not found`);\n    }\n  };\n\n  this.readOutputFileAsBuffer = function (fileName) {\n    var fileBuffer = fs.readFileSync(basePath + 'out/' + fileName);\n    return fileBuffer;\n  };\n\n  this.writeBufferAsInputFile = function (fileName, writeBuffer) {\n    createPathIfDoesNotExist(basePath);\n    fs.writeFileSync(basePath + fileName, writeBuffer);\n  };\n\n  this.writeBufferAsOutputFile = function (fileName, writeBuffer) {\n    let outPath = basePath + 'out/';\n    createPathIfDoesNotExist(outPath);\n    fs.writeFileSync(outPath + fileName, writeBuffer);\n  };\n\n  this.setBaseDirectory = function (baseDirectory) {\n    baseDirectory = baseDirectory.trim('/');\n    basePath = `${filesRootPath}/${baseDirectory}/`;\n  };\n\n  this.getBasePath = function () {\n    return basePath;\n  };\n\n  this.getBaseOutPath = function () {\n    return basePath + 'out';\n  };\n\n  this.listFiles = function () {\n    return fs.readdirSync(basePath).reduce(function (list, file) {\n      var name = path.join(basePath, file);\n      if (!fs.statSync(name).isDirectory()) {\n        list.push(file);\n      }\n      return list;\n    }, []);\n  };\n\n  var createPathIfDoesNotExist = function (path) {\n    var getParentPath = function (path) {\n      //   root/dir1/dir2/ -> root/dir1/dir2 -> root/dir1\n      path = path.replace(/\\/+$/, '');\n      let lastSlashIndex = path.lastIndexOf('/');\n      return path.substring(0, lastSlashIndex);\n\n    };\n\n    if (!fs.existsSync(path)) {\n       DEFCON5 && console.log(`Creating path ${path}`);\n      let parentPath = getParentPath(path);\n      if (!fs.existsSync(parentPath)) {\n        createPathIfDoesNotExist(parentPath)\n      }\n      fs.mkdirSync(path);\n    }\n  }\n\n}\n*/\n","import {ChatRooms, ChatLines} from '/lib/collections';\nimport Constants from '/lib/constants';\nimport {Meteor} from \"meteor/meteor\";\n\nconst groupBy = function(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nexport default {\n\n  getChatRoomById: function(id) {\n\n    return null;\n  }\n}\n","import GudrunContentServices from \"../lib/drupal/services.js\";\nimport {\n  Meteor\n} from \"meteor/meteor\";\nimport Constants from \"/lib/constants\";\nimport dateFormat from \"dateformat\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default class Order {\n  constructor(Meteor = undefined) {\n    this.user = Meteor.user();\n  }\n\n  testConnectionContent() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      services.test_connection();\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  orderQuery(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrder(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryOrderByPersonId(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrderByPersonId(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  process(request) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"Request process of order\");\n      let orders = services.processOrder(request);\n      DEFCON3 && console.log(\"Ok, get some reply\");\n\n      return orders;\n    } catch (error) {\n      DEFCON3 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryRecentOrders() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryRecentOrders();\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryOrderState(state, limit) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"queryOrderState\");\n      let orders = services.queryOrderState(state, limit);\n      DEFCON3 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  motherchecks() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"Sending motherchecks Gundrun\");\n      let orders = services.motherchecks();\n      DEFCON3 && console.log(\"Ok, get something from motherchecks \");\n\n      return orders;\n    } catch (error) {\n      DEFCON3 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n\n\n  queryOrderByOrderId(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrderByOrderId(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  updateOrderByOrderId(order) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let result = services.updateOrderByOrderId(order);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  createUpdatePersonOrder(order) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      // DEFCON5 && console.log(this.user);\n      var now = new Date();\n      order['field_order_state'] = 271;\n      order['field_orderid'] = '';\n      order['field_creator'] = this.user.uid;\n      order['field_responsible'] = this.user.uid;\n      order['field_order_process_method'] = order['field_order_process_method'] ? order['field_order_process_method'] : Constants.OrderProcessMethod.EXPRESS;\n      order['field_effective_date'] = dateFormat(now, \"yyyy-mm-dd\");\n\n\n\n      let result = services.createPersonOrder(order);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n\n  getNameTypes() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting getNameTypes\");\n      let result = services.getTerms(\"nametype\");\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  getTerms(termtype) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting getTerms\");\n      let result = services.getTerms(termtype);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryTerms(termtype, searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting queryTerms\");\n      let result = services.queryTerms(termtype, searchText);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryTermsCountry(dataContext) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting queryTermsCountry\");\n      let result = services.queryTermsCountry(dataContext);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPersonById(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryPersonById(searchText);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPerson(searchText, meta) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff from Gudrun\");\n      DEFCON5 && console.log(\"Check Meta structure\");\n      DEFCON5 && console.log(meta);\n      let orders = services.queryPerson(searchText, meta);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryRoleAdvanced(searchText, queryRoles) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff ADVANCED ROLE from Gudrun\");\n      DEFCON5 && console.log(\"Check queryRoles structure\");\n      DEFCON5 && console.log(queryRoles);\n      let orders = services.queryRoleAdvanced(\n        searchText,\n        queryRoles);\n      DEFCON5 && console.log(\"Ok, get something from ROLE person-object \");\n      DEFCON5 && console.log(orders);\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPersonAdvanced(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff from Gudrun\");\n      let orders = services.queryPersonAdvanced(searchText);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n      DEFCON5 && console.log(orders);\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  livestream(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Get livestream\");\n      let orders = services.livestream(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n}\n","import {chatlines} from '/lib/collections';\n\nexport default function() {}","import { Meteor } from 'meteor/meteor';\n\nexport default () => {\n  if (Meteor.users.find().count() === 0) {\n    Accounts.createUser({ email: 'test@test.com', password: 'test1234' });\n  }\n};\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\n// import _ from 'lodash';\nimport { Random } from \"meteor/random\";\nimport DrupalServices from \"../lib/drupal/services.js\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nexport default function () {\n  Meteor.methods({\n    \"_users.getUserList\"(query) {\n      check(query, Object);\n      DEFCON5 && console.log(\"Running Query to get Users\");\n      DEFCON5 && console.log(query);\n\n      var chatUsers = Meteor.users.find(query).fetch();\n\n      return chatUsers;\n    },\n    \"_users.getLanguagePreference\"(_id) {\n      check(_id, String);\n      let record = Meteor.users.findOne(_id);\n\n      if (record && record.get(\"language\")) return record.get(\"language\");\n\n      const locale = Meteor.settings[\"public\"].defaultLocale;\n      return locale ? locale : \"sv\";\n    },\n\n    \"_users.setLanguagePreference\"(_id, lang) {\n      check(_id, String);\n      check(lang, String);\n      // Meteor.users.update({_id: _id}, {set: {language: lang}})\n      let record = Meteor.users.findOne(_id);\n      if (record) {\n        record.set(\"language\", lang);\n        record.save();\n      }\n    },\n\n    \"_users.getTheme\"(_id) {\n      check(_id, String);\n      let record = Meteor.users.findOne(_id);\n\n      if (record && record.get(\"theme\")) return record.get(\"theme\");\n\n      return true;\n    },\n\n    \"_users.setTheme\"(_id, theme) {\n      check(_id, String);\n      check(theme, Boolean);\n      DEFCON5 && console.log(\"Set Theme for user \" + _id);\n      DEFCON5 && console.log(\"Theme value \" + theme);\n\n      let record = Meteor.users.findOne(_id);\n      if (record) {\n        record.set(\"theme\", theme);\n        record.save();\n      }\n    },\n\n    \"_users.updateProfileDescription\"(userId, text) {\n      check(userId, String);\n      check(text, String);\n\n      if (!this.userId || this.userId !== userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let updated = Meteor.users.update(\n        {\n          _id: userId,\n        },\n        {\n          $set: {\n            profile: text,\n          },\n        }\n      );\n      if (updated) {\n        return \"Description updated\";\n      } else {\n        return \"Description not updated! Please try again.\";\n      }\n    },\n\n    \"_users.updateName\"(userId, text) {\n      check(userId, String);\n      check(text, String);\n\n      if (!this.userId || this.userId !== userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let updated = Meteor.users.update(\n        {\n          _id: userId,\n        },\n        {\n          $set: {\n            name: text,\n          },\n        }\n      );\n      if (updated) {\n        return \"Name updated\";\n      } else {\n        return \"Name not updated! Please try again.\";\n      }\n    },\n    \"_users.anonymize\"(userId) {\n      check(userId, String);\n\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      if (false) {\n        const newUser = {\n          name: Random.id(),\n          \"emails.0.address\": Random.id(),\n          avatar_uri: \"\",\n        };\n        let updated = Meteor.users.update(\n          {\n            _id: userId,\n          },\n          { $set: newUser }\n        );\n        if (updated) {\n          return \"User anonymize successful\";\n        } else {\n          return \"User anonymize failure! Please try again.\";\n        }\n      } else {\n        throw new Meteor.Error(\n          401,\n          \"Access denied - administrator role required\"\n        );\n      }\n    },\n\n    async \"_users.isAdmin\"() {\n      //this allows catching exceptions properly:\n      const doWork = async () => {\n        //TODO: Create a proper Get User Role function for Miclab here... atm all users are the same base user\n        // let adminsCompanyId = await getAdministratedCompanyId();\n        DEFCON5 && console.log(\"Is admin returned:\");\n        DEFCON5 && console.log(adminsCompanyId);\n        return adminsCompanyId && adminsCompanyId > 0;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n\n    async \"_users.getRoles\"() {\n      if (!this.userId) {\n        DEFCON5 && console.log(\"_users.getRoles - Access denied\");\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      const services = new DrupalServices();\n      //TODO: Create a proper Get User Role function for Miclab here... atm all users are the same base user\n      // let adminsCompanyId = await getAdministratedCompanyId();\n      //const roles = await services.getUserRoles(Meteor.user().uid);\n      let roles = [];\n      DEFCON5 && console.log(\"Roles returned:\");\n      DEFCON5 && console.log(roles);\n      return roles;\n    },\n\n    async \"_users.getCompanyUsers\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      return getCompanyUsers();\n    },\n\n    async \"_users.manage\"(uid, action) {\n      check(uid, String);\n      check(action, String);\n\n      //this allows catching exceptions properly:\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON5 && console.log(\"_users.activate - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n\n        const services = new DrupalServices();\n        const administratedCompanyId = await getAdministratedCompanyId();\n        if (administratedCompanyId) {\n          const response = await services.manageUser(\n            uid,\n            action,\n            administratedCompanyId\n          );\n          DEFCON5 && console.log(`Action ${action} for user ${uid} successful`);\n          return response;\n        }\n\n        DEFCON5 && console.log(`Action ${action} for user ${uid} failed`);\n        DEFCON5 && console.log(`User ${this.userId} is not an admin`);\n        return null;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n    async \"_users.createMyAccount\"(user) {\n      check(user, Object);\n      DEFCON3 && console.log(\"_users.createMyAccount - start\");\n      DEFCON3 && console.log(user);\n\n      //this allows catching exceptions properly:\n      const doWork = async () => {\n        const services = new DrupalServices();\n\n        const response = await services.drupalInsertUser(user);\n        try {\n          DEFCON5 && console.log(`Action addUser for user ${user} successful`);\n          DEFCON3 && console.log(\"The response...\");\n          DEFCON3 && console.log(response);\n          return response;\n        } catch (e) {\n          DEFCON3 &&\n            console.log(`Action drupalInsertUser for user ${user} failed`);\n          DEFCON3 && console.log(e);\n          return null;\n        }\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        DEFCON5 && console.log(`Action addUser for user ${user} failed`);\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n    async \"_users.add\"(user) {\n      check(user, Object);\n\n      //this allows catching exceptions properly:\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON5 && console.log(\"_users.activate - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n\n        const services = new DrupalServices();\n        const administratedCompanyId = await getAdministratedCompanyId();\n        if (administratedCompanyId) {\n          const response = await services.addUser(user, administratedCompanyId);\n          DEFCON5 && console.log(`Action addUser for user ${user} successful`);\n          return response;\n        }\n\n        DEFCON5 && console.log(`Action addUser for user ${user} failed`);\n        DEFCON5 && console.log(`User ${this.userId} is not an admin`);\n        return null;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n    async \"_users.syncDrupalUser\"(userid, uid) {\n      check(uid, String);\n      check(userid, String);\n\n      return syncDrupalUser(userid, uid);\n    },\n    async \"_users.syncDrupalUserOld\"(userid, uid) {\n      DEFCON3 && console.log(\"_users.syncDrupalUser\");\n      DEFCON3 && console.log(\"Sync and update user \" + uid);\n\n      check(uid, String);\n\n      //this allows catching exceptions properly:\n      const doWork = async () => {\n        // if (!this.userId) {\n        //   DEFCON5 && console.log(\"_users.syncDrupalUser - Access denied\");\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        const services = new DrupalServices();\n        const response = await services.getDrupalUser(uid);\n        Meteor.users.update(this.userId, {\n          $set: {\n            avatar_uri: response.uri,\n            first_name: response.field_first_name,\n            last_name: response.field_last_name,\n            information: response.field_information,\n            telephone: response.field_telephone_number,\n          },\n        });\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n\n    async \"_users.getUserByAttribute\"(method, value) {\n      check(method, String);\n      check(value, String);\n\n      return getUserByAttribute(method, value);\n    },\n\n    async \"_users.userWithNameExist\"(method, value) {\n      check(method, String);\n      check(value, String);\n\n      result = await getUserByAttribute(method, value);\n      DEFCON3 && console.log(`Checking result `);\n      DEFCON3 && console.log(result);\n\n      return result !== undefined\n        ? result.value !== \"\"\n          ? true\n          : false\n        : false;\n    },\n  });\n}\n\nconst getAdministratedCompanyId = async () => {\n  const currentUid = Meteor.user() && Meteor.user().uid;\n  const services = new DrupalServices();\n  const roles = await services.getUserRoles(currentUid);\n  //get a company that user is admin for?\n  return roles && roles.admin && roles.admin[0];\n};\n\nconst getCompanyUsers = async () => {\n  const services = new DrupalServices();\n  const administratedCompanyId = await getAdministratedCompanyId();\n  if (administratedCompanyId) {\n    const users = await services.getCompanyUsers(administratedCompanyId);\n    return users;\n  }\n  return [];\n};\n\nconst syncDrupalUser = async (userid, uid) => {\n  DEFCON3 && console.log(\"_users.syncDrupalUser\");\n  DEFCON3 && console.log(\"Sync and update user \" + uid);\n\n  //this allows catching exceptions properly:\n\n  // if (!this.userId) {\n  //   DEFCON5 && console.log(\"_users.syncDrupalUser - Access denied\");\n  //   throw new Meteor.Error(401, \"Access denied\");\n  // }\n  const services = new DrupalServices();\n  const response = await services.drupalGetUser(uid);\n  Meteor.users.update(userid, {\n    $set: {\n      avatar_uri: response.uri,\n      first_name: response.field_first_name,\n      last_name: response.field_last_name,\n      information: response.field_information,\n      telephone: response.field_telephone_number,\n    },\n  });\n  return response;\n};\n\nconst getUserByAttribute = async (method, value) => {\n  DEFCON3 && console.log(\"getUserByAttribute\");\n  DEFCON3 &&\n    console.log(`Getting a user with method and value ${method} ${value}`);\n\n  const services = new DrupalServices();\n  const response = await services.getUserByAttribute(method, value);\n  return response;\n};\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON5 && console.log(\"In Account\");\n\nvar staleSessionPurgeInterval =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionPurgeInterval) ||\n  1 * 60 * 1000; // 1min\nvar inactivityTimeout =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionInactivityTimeout) ||\n  30 * 60 * 1000; // 30mins\nvar forceLogout = Meteor.settings && Meteor.settings.public && Meteor.set;\n\nexport default function () {\n  Meteor.methods({\n    async \"account.setPw\"(query) {\n      check(query, Object);\n      let userObj = Meteor.users.findOne(this.userId);\n      query.uid = userObj.uid;\n      DEFCON5 && console.log(\"Account setPw\");\n\n      const doWork = async () => {\n        const services = new DrupalServices();\n        const response = await services.accountSetPw(query);\n        DEFCON5 && console.log(`Method Account setPw`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n    heartbeat: function (options) {\n      DEFCON5 && console.log(`Heartbeat check - if user should reConnect`);\n      var user = Meteor.users.findOne(this.userId);\n      DEFCON5 && console.log(this.userId);\n\n      if (user) {\n        DEFCON5 && console.log(`Get user and update heartbeat...`);\n        DEFCON5 && console.log(user.uid + \" \" + user.name);\n        Meteor.users.update(user._id, { $set: { heartbeat: new Date() } });\n      } else {\n        DEFCON5 && console.log(`This userid is not set...`);\n      }\n      // if (user) {\n      //   DEFCON5 && console.log(`Get user and update heartbeat...`);\n      //   DEFCON5 && console.log(user.uid + \" \" + user.username);\n      //   Meteor.users.update(user._id, { $set: { heartbeat: new Date() } });\n      // }\n    },\n    //\n  });\n}\n\n//\n// periodically purge any stale sessions, removing their login tokens and clearing out the stale heartbeat.\n//\nif (forceLogout !== false) {\n  DEFCON5 && console.log(`HeartBeatCheck Setup...`);\n  DEFCON5 && console.log(staleSessionPurgeInterval);\n\n  Meteor.setInterval(function () {\n    DEFCON5 && console.log(`HeartBeatCheck Server Check...`);\n\n    var now = new Date(),\n      overdueTimestamp = new Date(now - inactivityTimeout);\n    DEFCON5 && console.log(inactivityTimeout);\n    DEFCON5 && console.log(overdueTimestamp);\n    DEFCON5 && console.log(staleSessionPurgeInterval);\n\n    Meteor.users.update(\n      { heartbeat: { $lt: overdueTimestamp } },\n      { $set: { \"services.resume.loginTokens\": [] }, $unset: { heartbeat: 1 } },\n      { multi: true }\n    );\n  }, staleSessionPurgeInterval);\n}\n\nFuture = Npm.require(\"fibers/future\");\n// At a minimum, set up LDAP_DEFAULTS.url and .dn according to\n// your needs. url should appear as 'ldap://your.url.here'\n// dn should appear in normal ldap format of comma separated attribute=value\n// e.g. 'uid=someuser,cn=users,dc=somevalue'\nDRUPAL_DEFAULTS = {\n  url: false,\n  port: \"389\",\n  dn: false,\n  searchDN: false,\n  searchSizeLimit: 100,\n  searchCredentials: false,\n  createNewUser: true,\n  defaultDomain: false,\n  searchResultsProfileMap: false,\n  base: null,\n  search: \"(objectclass=*)\",\n  ldapsCertificate: false,\n  bindToDomain: false,\n  bindDomain: null,\n};\nLDAP = {};\n\n/**\n @class LDAP\n @constructor\n */\nLDAP.create = function (options) {\n  // Set options\n  this.options = _.defaults(options, DRUPAL_DEFAULTS);\n\n  // Make sure options have been set\n  try {\n    // check(this.options.url, String);\n    // check(this.options.dn, String);\n  } catch (e) {\n    throw new Meteor.Error(\n      \"Bad Defaults\",\n      \"Options not set. Make sure to set LDAP_DEFAULTS.url and LDAP_DEFAULTS.dn!\"\n    );\n  }\n\n  // // Because NPM ldapjs module has some binary builds,\n  // // We had to create a wraper package for it and build for\n  // // certain architectures. The package typ:ldap-js exports\n  // // 'MeteorWrapperLdapjs' which is a wrapper for the npm module\n  // this.ldapjs = MeteorWrapperLdapjs;\n};\n\n/**\n * Attempt to bind (authenticate) ldap\n * and perform a dn search if specified\n *\n * @method ldapCheck\n *\n * @param {Object} [options]  Object with username, ldapPass and overrides for LDAP_DEFAULTS object.\n * Additionally the searchBeforeBind parameter can be specified, which is used to search for the DN\n * if not provided.\n * @param {boolean} [bindAfterFind]  Whether or not to try to login with the supplied credentials or\n * just return whether or not the user exists.\n */\nLDAP.create.prototype.drupalCheck = function (options, bindAfterFind) {\n  var self = this;\n  DEFCON3 && console.log(\"Login Check Drupal (NEW)\");\n\n  // DEFCON3 && console.log('drupalCheck');\n  options = options || {};\n\n  if (\n    (options.hasOwnProperty(\"username\") &&\n      options.hasOwnProperty(\"ldapPass\")) ||\n    !bindAfterFind\n  ) {\n    var ldapAsyncFut = new Future();\n\n    try {\n      HTTP.get(Meteor.settings[\"drupalTokenUrl\"], undefined, function (\n        err,\n        tokenResult\n      ) {\n        if (err) {\n          ldapAsyncFut.return({\n            error: err,\n          });\n        } else {\n          var user_data = {\n            username: options.username,\n            password: options.ldapPass,\n          };\n\n          if (!tokenResult.content) {\n            ldapAsyncFut.return({\n              error: new Meteor.Error(\"500\", \"missing token in response\"),\n            });\n            return;\n          }\n\n          // eslint-disable-next-line quote-props\n          const headers = {\n            \"Content-Type\": \"application/json\",\n            \"X-CSRF-Token\": tokenResult.content,\n            strictSSL: \"false\",\n          };\n          var params = { headers, data: user_data };\n          HTTP.post(Meteor.settings[\"drupalLoginUrl\"], params, function (\n            err,\n            loginResult\n          ) {\n            if (err) {\n              ldapAsyncFut.return({\n                error: err,\n              });\n            } else {\n              // DEFCON3 && console.log(loginResult);\n              var retObject = {};\n              try {\n                retObject.username = loginResult.data.user.name;\n                if (!retObject.username) {\n                  throw new Error(\"user name is empty\");\n                }\n                retObject.email = loginResult.data.user.mail;\n                if (!retObject.email) {\n                  throw new Error(\"user email is empty\");\n                }\n                retObject.uid = loginResult.data.user.uid;\n                ldapAsyncFut.return(retObject);\n              } catch (err) {\n                ldapAsyncFut.return({\n                  error: new Meteor.Error(err.code, err.message),\n                });\n              }\n            }\n          });\n        }\n      });\n\n      return ldapAsyncFut.wait();\n    } catch (err) {\n      ldapAsyncFut.return({\n        error: new Meteor.Error(err.code, err.message),\n      });\n    }\n  } else {\n    throw new Meteor.Error(403, \"Missing Auth Parameters\");\n  }\n};\n\n// Register login handler with Meteor\n// Here we create a new LDAP instance with options passed from\n// Meteor.loginWithLDAP on client side\n// @param {Object} loginRequest will consist of username, ldapPass, ldap, and ldapOptions\nAccounts.registerLoginHandler(\"drupal\", function (loginRequest) {\n  // If 'ldap' isn't set in loginRequest object,\n  // then this isn't the proper handler (return undefined)\n  DEFCON3 && console.log(\"REGISTER LOGIN HANDLER REQUEST (NEW):\");\n  DEFCON3 && console.log(loginRequest);\n\n  if (!loginRequest.drupal) {\n    return undefined;\n  }\n\n  // Instantiate LDAP with options\n  var userOptions = loginRequest.ldapOptions || {};\n  Accounts.ldapObj = new LDAP.create(userOptions);\n\n  // Call ldapCheck and get response\n  var response = Accounts.ldapObj.drupalCheck(loginRequest, true);\n  if (response.error) {\n    return {\n      userId: null,\n      error: response.error,\n    };\n  }\n  // Set initial userId and token vals\n  var userId = null;\n  var stampedToken = {\n    token: null,\n  };\n  DEFCON3 && console.log(\"response:\");\n  DEFCON3 && console.log(response);\n\n  // Look to see if user already exists\n  var user = Meteor.users.findOne({\n    // username: response.username\n    \"emails.address\": response.email,\n  });\n  if (!user) {\n    user = Meteor.users.findOne({\n      emails: { $elemMatch: { address: response.email, verified: true } },\n    });\n    if (user) {\n      user.username = response.username;\n    }\n  }\n\n  // Login user if they exist\n  if (user) {\n    userId = user._id;\n\n    // Create hashed token so user stays logged in\n    stampedToken = Accounts._generateStampedLoginToken();\n    var hashStampedToken = Accounts._hashStampedToken(stampedToken);\n    // Update the user's token in mongo\n    Meteor.users.update(userId, {\n      $push: {\n        \"services.resume.loginTokens\": hashStampedToken,\n      },\n    });\n    DEFCON3 && console.log(\"User exists!\");\n    Accounts.setPassword(userId, loginRequest.ldapPass);\n    Meteor.call(\n      \"_users.syncDrupalUser\",\n      userId,\n      response.uid,\n      (err, response) => {\n        // if (callback) {\n        //   if (err) {\n        //     callback(err);\n        //   } else {\n        //     callback(null, response);\n        //   }\n        // }\n        if (err) {\n          DEFCON3 && console.log(\"actions._users.manage error: \" + err);\n        }\n      }\n    );\n  }\n  // Otherwise create user if option is set\n  else if (Accounts.ldapObj.options.createNewUser) {\n    DEFCON3 && console.log(\"Creating new user\");\n    var userObject = {\n      username: response.username,\n    };\n\n    userId = Accounts.createUser(userObject);\n    DEFCON3 && console.log(userObject);\n    Meteor.users.update(userId, {\n      $set: {\n        emails: [\n          {\n            address: response.email,\n            verified: true,\n          },\n        ],\n        uid: response.uid,\n      },\n    });\n    Accounts.setPassword(userId, loginRequest.ldapPass);\n    Meteor.call(\n      \"_users.syncDrupalUser\",\n      userId,\n      response.uid,\n      (err, response) => {\n        // if (callback) {\n        //   if (err) {\n        //     callback(err);\n        //   } else {\n        //     callback(null, response);\n        //   }\n        // }\n        if (err) {\n          DEFCON3 && console.log(\"actions._users.manage error: \" + err);\n        }\n      }\n    );\n  } else {\n    // Ldap success, but no user created\n    DEFCON3 &&\n      console.log(\n        \"Authentication succeeded for \" +\n          response.username +\n          \", but no user exists in Meteor. Either create the user manually or set DRUPA_DEFAULTS.createNewUser to true\"\n      );\n    return {\n      userId: null,\n      error: new Meteor.Error(403, \"User found in LDAP but not in application\"),\n    };\n  }\n\n  return {\n    userId,\n    token: stampedToken.token,\n  };\n});\n","import { ChatLineLists, ChatLines } from '/lib/collections';\nimport { Meteor } from 'meteor/meteor';\nimport { check, Match } from 'meteor/check';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from '/lib/constants';\n DEFCON5 && console.log('In chatlinelists server, getting the stuff');\n\nexport default function() {\n  Meteor.methods({\n    'chatlinelists.addChatLine'(channelId, line) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, 'Access denied');\n      }\n      check(channelId, String);\n      check(line, String);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      let chatLine = {};\n      chatLine.text = line;\n      chatLine.channelId = channelId;\n      chatLine.modifiedBy = currentUser;\n      chatLine.createdByName = currentUser;\n      chatLine.createdBy = currentUserId;\n      chatLine.modifiedAt = currentDate;\n      chatLine.createdAt = currentDate;\n      chatLine.status = 'active';\n\n      let lineId = ChatLines.insert(chatLine);\n\n       DEFCON5 && console.log('In chatlinelists.addChatLine method returning ' + lineId);\n      return lineId;\n    }\n  });\n\n  Meteor.methods({\n    'chatlinelists.removeChatLine'(containerId, lineId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, 'Access denied');\n      }\n      check(containerId, String);\n      check(lineId, String);\n\n      /*\n      if (ArticleStatus.isContainerTypeReadOnly(channelId, Constants.ContainerTypes.CHATLINES)) {\n         DEFCON5 && console.log('In chatlinelists.removeChatLine method and read only channel: ' + channelId);\n        throw new Meteor.Error(\"Line cannot be removed because of channel's state\");\n      }\n*/\n      const currentUser = Meteor.user()._id;\n      const currentDate = new Date();\n\n      ChatLines.update(lineId, {\n        $set: {\n          status: 'deleted',\n          modifiedBy: currentUser,\n          modifiedAt: currentDate\n        }\n      });\n\n       DEFCON5 && console.log('In chatlinelists.removeChatLine method returning ' + lineId);\n      return lineId;\n    }\n  });\n}\n","import {\n  Meteor\n} from \"meteor/meteor\";\nimport {\n  check,\n  Match\n} from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport {\n  Persons,\n  SearchLog\n} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function () {\n  Meteor.methods({\n    async 'contact.sendQuestion'(query) {\n      check(query, Object);\n\n      DEFCON5 && console.log(\"contact.sendQuestion\");\n\n      const doWork = async () => {\n        // any user Can send message - guest as logged in users...\n        \n        // if (!this.userId) {\n        //   DEFCON5 && console.log('contact.sendQuestion - Access denied');\n        //   throw new Meteor.Error(401, 'Access denied');\n        // }\n        const services = new DrupalServices();\n        const response = await services.sendQuestion(query);\n        DEFCON5 && console.log(`Method sendQuestion successful`);\n        return null;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n\n    }\n  });\n}\n","import {\n  Meteor\n} from \"meteor/meteor\";\nimport {\n  check,\n  Match\n} from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport {\n  Persons,\n  SearchLog\n} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function () {\n  Meteor.methods({\n    async 'content.getArticle'(query) {\n      check(query, Object);\n\n      DEFCON5 && console.log(\"content.getArticle\");\n\n      const doWork = async () => {\n        //TODO: Articles should be possible to access anytime\n        // if (!this.userId) {\n        //   DEFCON5 && console.log(\"content.getArticle - Access denied\");\n        //   throw new Meteor.Error(401, 'Access denied');\n        // }\n        const services = new DrupalServices();\n        const response = await services.getArticle(query);\n        DEFCON5 && console.log(`Method getArticle successful`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n\n    }\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON3 && console.log(\"In Search server part\");\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function() {\n  Meteor.methods({\n    async \"filearea.fileareaQuery\"(query) {\n      check(query, Object);\n\n      DEFCON3 && console.log(\"filearea.fileareaQuery\");\n\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON3 && console.log(\"filearea.fileareaQuery - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n        DEFCON3 && console.log(\"Get Current user\");\n        let userObj = Meteor.users.findOne(this.userId);\n        query.meta_acting_user = userObj.uid;\n        DEFCON3 && console.log(`Doing request`);\n        DEFCON3 && console.log(query);\n        const services = new DrupalServices();\n        const response = await services.fileareaQuery(query);\n        DEFCON3 && console.log(`Method fileareaQuery successful`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    }\n  });\n\n  Meteor.methods({\n    async \"filearea.fileareaGetItem\"(query) {\n      check(query, Object);\n\n      DEFCON3 && console.log(\"filearea.fileareaGetItem\");\n\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON3 && console.log(\"filearea.fileareaGetItem - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n\n        DEFCON3 && console.log(\"Get Current user\");\n        let userObj = Meteor.users.findOne(this.userId);\n        query.meta_acting_user = userObj.uid;\n        const services = new DrupalServices();\n        DEFCON3 && console.log(`Doing request`);\n        DEFCON3 && console.log(query);\n\n        const response = await services.fileareaGetFile(query);\n        DEFCON3 && console.log(`Method fileareaGetItem successful`);\n        DEFCON3 && console.log(response);\n\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    }\n  });\n}\n","import _users from \"./_users\";\nimport chatlinelists from \"./chatlinelists\";\nimport orders from \"./orders\";\nimport search from \"./search\";\nimport log from \"./log\";\nimport contact from \"./contact\";\nimport content from \"./content\";\nimport filearea from \"./filearea\";\nimport account from \"./account\";\n\nexport default function() {\n  _users();\n  chatlinelists();\n  orders();\n  search();\n  contact();\n  content();\n  filearea();\n  account();\n}\n","import {Articles} from '/lib/collections';\nimport {Meteor} from 'meteor/meteor';\nimport {check, Match} from 'meteor/check';\nimport Constants from '/lib/constants';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.methods({\n    'log.info' (content) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, 'Access denied')\n      }\n      check(content, Match.OneOf(String, Object));\n\n      if (typeof(content) === 'string') {\n         DEFCON5 && console.log(`INFO: ${content}`);\n      }\n\n      if (typeof(content) === 'object') {\n         DEFCON5 && console.log(`INFO:`);\n         DEFCON5 && console.log(JSON.stringify(content));\n      }\n\n      return 'OK';\n\n    }\n  });\n\n}\n","import {\n  Meteor\n} from \"meteor/meteor\";\nimport {\n  check,\n  Match\n} from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport {\n  Users\n} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nDEFCON5 && console.log(\"In Order server part\");\n\nexport default function () {\n  Meteor.methods({\n    \"orders.testconnection\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(\"orders.testconnection \");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      order.testConnectionContent();\n      DEFCON5 && console.log(\"testConnectionSent\");\n      return true;\n    }\n  });\n  Meteor.methods({\n    \"orders.orderquery\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.orderQuery(searchText);\n      DEFCON5 && console.log(\"OrderQuery sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryOrderByOrderId\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderByOrderId(searchText);\n      DEFCON5 && console.log(\"OrderQuery sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.queryOrderByPersonId\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderByPersonId(searchText);\n      DEFCON5 && console.log(\"OrderQuery for Personid sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.queryRecentOrders\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      //check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryRecentOrders();\n      DEFCON5 && console.log(\"OrderQuery for Personid sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.updateOrderByOrderId\"(content_order) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(content_order);\n\n      check(content_order, Object);\n      //check(content_order.field_orderid, String);\n      let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON5 && console.log(\"orders.update stuff\");\n      DEFCON5 && console.log(content_order);\n      DEFCON5 && console.log(userObj);\n\n      const order = new Order(Meteor);\n      content_order.meta_acting_user = userObj.uid;\n      this.unblock();\n      const response = order.updateOrderByOrderId(content_order);\n      DEFCON5 && console.log(\"Called drupal service and received response\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.createUpdatePersonOrder\"(content_order) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      DEFCON5 && console.log(\"Create Order\");\n      DEFCON5 && console.log(content_order);\n      check(content_order, Object);\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const response = order.createUpdatePersonOrder(content_order);\n      DEFCON5 && console.log(\"Called drupal service and received response\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.getNameTypes\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      DEFCON5 && console.log(\"Server orders.getNameTypes\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.getNameTypes();\n      DEFCON5 && console.log(\"Called drupal service and received Nametypes\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.getTerms\"(termtype) {\n      check(termtype, String);\n\n      DEFCON5 && console.log(\"Server orders.getTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.getTerms(termtype);\n      DEFCON5 && console.log(\"Called drupal service and received getTerms\");\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryTerms\"(termtype, searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(termtype, String);\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Server orders.queryTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.queryTerms(termtype, searchText);\n      DEFCON5 && console.log(\"Called drupal service and received queryTerms\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryTermsCountry\"(dataContext) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(dataContext, String);\n\n      DEFCON5 && console.log(\"Server orders.queryTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.queryTermsCountry(dataContext);\n      DEFCON5 && console.log(\"Called drupal service and received queryTerms\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPersonById\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPersonById(searchText);\n      DEFCON5 && console.log(\"queryPersonById sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPerson\"(searchText, meta) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      check(meta, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPerson(searchText, meta);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPersonAdvanced\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPersonAdvanced(searchText);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryRoleAdvanced\"(searchText, queryRoles) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      check(queryRoles, Object);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryRoleAdvanced(searchText, queryRoles);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.livestream\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      //let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON3 && console.log(\"Livestream check\");\n      DEFCON3 && console.log(this.userId);\n      //DEFCON3 && console.log(userObj);\n\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.livestream(searchText);\n      DEFCON5 && console.log(\"livestream sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.motherchecks\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      //check(searchText, String);\n      //let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON3 && console.log(\"motherchecks check\");\n      DEFCON3 && console.log(this.userId);\n      //DEFCON3 && console.log(userObj);\n\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.motherchecks();\n      DEFCON5 && console.log(\"motherchecks sent\");\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.process\"(query) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(query, Object);\n\n      DEFCON3 && console.log(\"Order Process ServerSide\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.process(query);\n      DEFCON3 && console.log(\"Process Order Request: \");\n      DEFCON3 && console.log(query);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryOrderState\"(state, limit) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON3 && console.log(\"Query Orderstate\");\n\n      check(state, String);\n      check(limit, String);\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderState(state, limit);\n      DEFCON3 && console.log(\"state, limit: \");\n      DEFCON3 && console.log(state);\n      DEFCON3 && console.log(limit);\n\n      return orders;\n    }\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n/**\n * query:\n {\n      firstName: \"\",\n      lastName: \"\",\n      ssnNumber: \"\",\n      year: \"\",\n      month: \"\",\n      day: \"\",\n      field_pep_countries_list,\n      field_pep\n      field_rca\n\n}\n **/\n\nexport default function() {\n  Meteor.methods({\n    \"search.findPerson\"(query) {\n      check(query, Object);\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(\"search.findPerson \");\n\n      let dbQuery = {};\n\n      const nameElemMatch = { NameType: \"PrimÃ¤rt namn\" };\n      // const rStart = /.*\\b/;\n      //const rEnd = /\\b/;\n      // const rStart = /^/;\n      //const rEnd = /$/;\n      const rStart = /\\A/;\n      const rStartLastName = /\\b/;\n      //const rEnd = /\\Z.*/;\n      //const rStart = /\\b/;\n      const rEnd = /\\b/;\n      if (query.firstName) {\n        const regex = new RegExp(\n          rStart.source + query.firstName.toLowerCase().trim() + rEnd.source,\n          \"i\"\n        );\n        DEFCON3 &&\n          console.dir(\n            JSON.stringify(\n              rStart.source + query.firstName.toLowerCase().trim() + rEnd.source\n            )\n          );\n        nameElemMatch[\"FirstName\"] = { $regex: regex };\n      }\n\n      if (query.lastName) {\n        const regex = new RegExp(\n          rStartLastName.source + query.lastName.toLowerCase() + rEnd.source,\n          \"i\"\n        );\n        nameElemMatch[\"LastName\"] = { $regex: regex };\n        DEFCON3 &&\n          console.dir(\n            JSON.stringify(\n              rStart.source + query.lastName.toLowerCase() + rEnd.source\n            )\n          );\n      }\n\n      DEFCON3 && console.dir(JSON.stringify(nameElemMatch));\n\n      dbQuery[\"Names\"] = { $elemMatch: nameElemMatch };\n\n      if (query.field_pep === false || query.field_pep === 0) {\n        dbQuery[\"PEP\"] = \"0\";\n      }\n\n      if (query.field_rca === false || query.field_rca === 0) {\n        dbQuery[\"RCA\"] = \"0\";\n      }\n\n      if (query.year) {\n        dbQuery[\"BirthDateYear\"] = query.year;\n      }\n\n      if (query.month) {\n        dbQuery[\"BirthDateMonth\"] = query.month;\n      }\n\n      if (query.day) {\n        dbQuery[\"BirthDateDay\"] = query.day;\n      }\n\n      if (\n        Array.isArray(query.field_pep_countries_list) &&\n        query.field_pep_countries_list.length > 0\n      ) {\n        const filteredCountries = query.field_pep_countries_list\n          .filter(\n            (item, index) =>\n              query.field_pep_countries_list[index] &&\n              query.field_pep_countries_list[index].selected === true\n          )\n          .map(item => item.name);\n\n        dbQuery[\"PEPCountries.PEPCountryName\"] = { $in: filteredCountries };\n      } else {\n        //no results if no countries selected\n        return [];\n      }\n\n      let searchBySSN = false;\n\n      if (query.ssnNumber) {\n        //the rest doesn't matter if we use ssn\n        dbQuery = { \"SSNs.CurrentSSN\": query.ssnNumber };\n        searchBySSN = true;\n      }\n\n      if (Object.keys(dbQuery).length === 0) {\n        return [];\n      }\n\n      DEFCON3 && console.log(\"DebQuery\");\n      DEFCON3 && console.dir(JSON.stringify(dbQuery));\n      DEFCON3 && console.dir(dbQuery);\n\n      const result = Persons.find(dbQuery).fetch();\n\n      SearchLog.insert({\n        UserId: this.userId,\n        DateTime: new Date(),\n        ResultsReturned: result.length > 0\n      });\n\n      DEFCON3 && console.log(\"search.findPerson done yo\");\n      DEFCON3 && console.log(JSON.stringify(dbQuery));\n      return { list: result, searchBySSN };\n    }\n  });\n}\n","import {Meteor} from 'meteor/meteor';\nimport {check} from 'meteor/check';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('users.all', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n\n    const selector = {\n      status: 'active'\n    };\n    const options = {};\n    const response = Meteor.users.find(selector, options);\n    // DEFCON5 && console.log('Users.Collection');\n    return response;\n  });\n\n  Meteor.publish('users.single', function(_id) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(_id, String);\n    const selector = {\n      _id,\n      status: 'active'\n    };\n    const response = Meteor.users.find(selector);\n     DEFCON5 && console.log('Users.Single');\n    return response;\n  });\n\n  Meteor.publish('users.single.uid', function(uid) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(uid, String);\n    const selector = {\n      uid\n    };\n    const response = Meteor.users.find(selector);\n     DEFCON5 && console.log('Users.Single.Uid');\n    return response;\n  });\n\n  Meteor.publish('users.current', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    // check(_id, String);\n    // if (this.userId) {\n    const selector = {\n      _id: this.userId\n    };\n    const response = Meteor.users.find(selector);\n    //  DEFCON5 && console.log ('publish users.current _id', _id);\n    //  DEFCON5 && console.log ('publish users.current this.userId', this.userId);\n    return response;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Articles } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON3 && console.log(\"Setting up Article stuff\");\n\n  Meteor.publish(\"articles.one\", function (articleId) {\n    DEFCON3 && console.log(\"In article  subscribe function\");\n    check(articleId, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON3 && console.log(\"Subscribing Article\");\n\n      const Selector = {\n        \"field_article_id.value\": articleId,\n        status: \"active\",\n      };\n\n      let article = Articles.find(Selector);\n      DEFCON3 && console.log(article.fetch());\n\n      return article;\n    });\n  });\n}\n","import { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\nimport { ChatLines, Users } from '/lib/collections';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('chatlines.forchannel', function(channelId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(channelId, String);\n     DEFCON5 && console.log('In publication/chatlines.forchannel');\n     DEFCON5 && console.log(channelId);\n\n    this.autorun(function(computation) {\n      const chatLinesSelector = {\n        channelId: channelId,\n        status: 'active'\n      };\n      let chatLinesUserIds = ChatLines.find(chatLinesSelector)\n        .fetch()\n        .map(line => line.createdBy);\n\n       DEFCON5 && console.log('Find chatLinesUserIds');\n\n      const usersWithAvatars = Meteor.users.find(\n        {\n          _id: {\n            $in: chatLinesUserIds\n          }\n        },\n        { avatar_uri: 1 }\n      );\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatLines.find(chatLinesSelector), usersWithAvatars];\n    });\n  });\n\n  Meteor.publish('chatlines.forUser', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    const chatLinesSelector = {\n      createdBy: this.userId\n    };\n    let chatLinesUserIds = ChatLines.find(chatLinesSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatLinesUserIds);\n    return chatLinesUserIds;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { ChatRooms, Users } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  Meteor.publish(\"chatrooms.access\", function (chatroomId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    check(chatroomId, String);\n    DEFCON5 && console.log(\"In publication/chatRooms.forchannel\");\n    DEFCON5 && console.log(chatroomId);\n\n    this.autorun(function (computation) {\n      const chatRoomsSelector = {\n        _id: chatroomId,\n        status: \"active\",\n      };\n\n      DEFCON5 && console.log(\"Find chatRoomsUserIds\");\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatRooms.find(chatRoomsSelector)];\n    });\n  });\n\n  Meteor.publish(\"chatrooms.forUser\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    const chatRoomsSelector = {\n      \"users.userId\": {\n        $in: [this.userId],\n      },\n    };\n    let chatRoomsUserIds = ChatRooms.find(chatRoomsSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatRoomsUserIds);\n    return chatRoomsUserIds;\n  });\n}\n","import _users from \"./_users\";\nimport chatlines from \"./chatlines\";\nimport chatrooms from \"./chatrooms\";\nimport secrets from \"./secrets\";\nimport articles from \"./articles\";\nimport mcc from \"./mcc_config\";\nimport signalstate from \"./signalstate\";\n\nexport default function () {\n  _users();\n  chatlines();\n  chatrooms();\n  secrets();\n  articles();\n  mcc();\n  signalstate();\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { MccConfig } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON7 && console.log(\"Setting up mcc -config\");\n\n  Meteor.publish(\"mccConfig.all\", function () {\n    DEFCON7 && console.log(\"In the subscribe function\");\n\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing MCC Configs\");\n\n      const Selector = {\n        status: \"active\",\n      };\n\n      let mccConfig = MccConfig.find(Selector);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n\n  Meteor.publish(\"mccConfig.one\", function (facility) {\n    DEFCON7 && console.log(\"In mccConfig.one  subscribe function\");\n    check(facility, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing mccConfig\");\n\n      const Selector = {\n        facility: facility,\n        status: \"active\",\n      };\n\n      let mccConfig = MccConfig.find(Selector);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n\n  Meteor.publish(\"mccConfig.CountRead\", function (facility) {\n    DEFCON7 && console.log(\"In mccConfig.CountRead  subscribe function\");\n    check(facility, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing CountRead\");\n\n      var options = {\n        allowDiskUse: true,\n      };\n\n      var pipeline = [\n        {\n          $match: {\n            read_proc_status: \"OK\",\n          },\n        },\n        {\n          $group: {\n            _id: {},\n            numOfRead: {\n              $sum: 1,\n            },\n          },\n        },\n        {\n          $project: {\n            numOfRead: \"$numOfRead\",\n            _id: 0,\n          },\n        },\n      ];\n\n      let mccConfig = MccConfig.aggregate(pipeline, options);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n}\n","import { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\nimport { Programs, Modules } from '/lib/collections';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('program.get', function(programId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(channelId, String);\n     DEFCON5 && console.log('In publication/program.get');\n     DEFCON5 && console.log(channelId);\n\n    this.autorun(function(computation) {\n      const chatLinesSelector = {\n        channelId: channelId,\n        status: 'active'\n      };\n      let chatLinesUserIds = ChatLines.find(chatLinesSelector)\n        .fetch()\n        .map(line => line.createdBy);\n\n       DEFCON5 && console.log('Find chatLinesUserIds');\n\n      const usersWithAvatars = Meteor.users.find(\n        {\n          _id: {\n            $in: chatLinesUserIds\n          }\n        },\n        { avatar_uri: 1 }\n      );\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatLines.find(chatLinesSelector), usersWithAvatars];\n    });\n  });\n\n  Meteor.publish('chatlines.forUser', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    const chatLinesSelector = {\n      createdBy: this.userId\n    };\n    let chatLinesUserIds = ChatLines.find(chatLinesSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatLinesUserIds);\n    return chatLinesUserIds;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Secrets } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON3 && console.log(\"Setting up secrets\");\n\n  Meteor.publish(\"secrets.all\", function () {\n    DEFCON3 && console.log(\"In the subscribe function\");\n\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON3 && console.log(\"Subscribing secrets\");\n\n      const Selector = {\n        status: \"active\",\n      };\n\n      let secrets = Secrets.find(Selector);\n      DEFCON3 && console.log(secrets);\n\n      return secrets;\n    });\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { SignalState, SignalHistory } from \"/lib/collections\";\nimport {\n    DEFCON9,\n    DEFCON7,\n    DEFCON5,\n    DEFCON4,\n    DEFCON3,\n    DEFCON2,\n    DEFCON1,\n} from \"/debug.json\";\n\n// c\n\nexport default function() {\n    DEFCON3 && console.log(\"Setting up signalState\");\n\n    Meteor.publish(\"signalState.all\", function() {\n        DEFCON7 && console.log(\"In the subscribe function\");\n\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON7 && console.log(\"Subscribing SignalState\");\n\n            const Selector = {};\n\n            let signalState = SignalState.find(Selector);\n            DEFCON7 && console.log(signalState);\n\n            return signalState;\n        });\n    });\n\n    Meteor.publish(\"signalState.facility\", function(facility) {\n        DEFCON3 && console.log(\"In facility  subscribe function\");\n        check(facility, String);\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON3 && console.log(\"*** Subscribing facility\");\n\n            const Selector = {\n            _id: new RegExp(facility, \"i\")     \n            };\n\n            var sort = [\n                [\"route\", 1.0]\n            ];\n\n            DEFCON3 && console.log(Selector);\n\n            let signalState = SignalState.find(Selector, { sort: sort });\n            DEFCON3 && console.log(signalState.fetch());\n\n            return signalState;\n        });\n    });\n\n    Meteor.publish(\"signalState.History\", function(signalId) {\n        DEFCON3 && console.log(\"In signalState  subscribe function\");\n        check(signalId, String);\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON3 && console.log(\"Subscribing signalId\");\n\n            const Selector = {\n                entityId: signalId,\n            };\n\n            var sort = [\n                [\"time\", -1.0]\n            ];\n\n            DEFCON3 && console.log(Selector);\n\n            let SignalHistoryData = SignalHistory.find(Selector, {\n                sort: sort,\n                limit: 400,\n            });\n            // DEFCON3 && console.log(SignalHistoryData.fetch());\n\n            return SignalHistoryData;\n        });\n    });\n}","import {Meteor} from 'meteor/meteor';\nimport FileManager from './lib/fileManager/filemanager';\n\nPicker.route('/file/:fileType/:fileId', function (params, req, res, next) {\n  let {fileType, fileId} = params;\n  try {\n    let fileName = decodeURIComponent(fileId);\n    var fileData = new FileManager(fileType).readOutputFileAsBuffer(fileName);\n    res.setHeader('Content-disposition', 'attachment; filename=' + fileName);\n    res.end(fileData);\n  } catch (e) {\n    res.end('File not found!');\n  }\n\n\n});\n","import { Meteor } from 'meteor/meteor';\nimport publications from './publications';\nimport methods from './methods';\nimport addInitialData from './configs/initial_adds.js';\nimport i18n from 'meteor/universe:i18n';\nimport {\n    DEFCON9,\n    DEFCON7,\n    DEFCON5,\n    DEFCON4,\n    DEFCON3,\n    DEFCON2,\n    DEFCON1\n} from \"/debug.json\";\n\npublications();\nmethods();\naddInitialData();\n\n//\nMeteor.startup(() => {\n    // WebApp.rawConnectHandlers.use(function(req, res, next) {\n    //     res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    //     res.setHeader(\"Access-Control-Allow-Headers\", \"Authorization,Content-Type\");\n    //     return next();\n    // });\n\n    Accounts.urls.resetPassword = function(token) {\n        return Meteor.absoluteUrl('reset-password/' + token);\n    };\n\n    Accounts.emailTemplates.siteName = i18n.__('Email_SiteName_Text');\n    Accounts.emailTemplates.from = i18n.__('Email_From_Text');\n\n    Accounts.emailTemplates.resetPassword = {\n        subject(user) {\n            return i18n.__('Email_ResetPassword_Subject')\n        },\n\n        html(user, url) {\n            let urlTag = `<a href=\"${url}\">${url}</a>`;\n            return i18n.__('Email_ResetPassword_Text', { urlTag })\n        }\n    };\n\n    Accounts.onCreateUser((options, user) => {\n        DEFCON5 && console.log('Creating user x');\n\n        user.status = 'active';\n        user.name = options.name;\n        return user;\n\n    });\n\n    Accounts.validateLoginAttempt(function(loginRequest) {\n        if (loginRequest.user) {\n            if (!loginRequest.user.status || loginRequest.user.status != 'active')\n                throw new Meteor.Error(403, i18n.__('Error_Account_NotActive'));\n        }\n        return true;\n    });\n\n    Accounts.onLogin((loginInfo) => {\n\n        if (loginInfo && loginInfo.allowed === true && loginInfo.type !== 'resume') {}\n    });\n\n});","import t from 'tcomb-form'\nimport moment from 'moment'\n\nconst DateStringTransformer = function (formatString) {\n\n  return {\n    format: (value) => {\n      if (t.Date.is(value)) {\n        let momentDate = moment(value);\n        return momentDate.format(formatString);\n      }\n      return value;\n    },\n    parse: (str) => {\n      \"use strict\";\n      return str ? moment.parse(str).toDate() : null\n    }\n  }\n\n};\n\nexport default DateStringTransformer;\n","import { Mongo } from \"meteor/mongo\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/package.json\";\n\nexport const Users = new Mongo.Collection(\"Users\");\n/*export const Persons = new Mongo.Collection(\"Persons\");\nexport const Countries = new Mongo.Collection(\"countries\", {\n  connection: null,\n});\nexport const SearchLog = new Mongo.Collection(\"SearchLog\");*/\nexport const ChatLines = new Mongo.Collection(\"chatlines\");\nexport const ChatRooms = new Mongo.Collection(\"chatrooms\");\nexport const Programs = new Mongo.Collection(\"dm_node_program\");\nexport const Modules = new Mongo.Collection(\"dm_node_module\");\nexport const Secrets = new Mongo.Collection(\"dm_node_secrets\");\nexport const Articles = new Mongo.Collection(\"dm_node_article\");\nexport const SignalState = new Mongo.Collection(\"signal_state\");\nexport const SignalMeta = new Mongo.Collection(\"signal_meta\");\nexport const MccConfig = new Mongo.Collection(\"sunhill_config\");\nexport const SignalHistory = new Mongo.Collection(\"signal_state_history\");\nDEFCON5 && console.log(\"Fixing collections...\");\n","import React from 'react';\n\nexport const USER_ACTION_ACTIVATE = \"activate\";\nexport const USER_ACTION_DEACTIVATE = \"deactivate\";\nexport const USER_ACTION_ADD = \"add\";\nexport const USER_STATUS_ACTIVE = \"active\";\nexport const USER_STATUS_INACTIVE = \"inactive\";\n\nexport default class Constants {\n  static CardMode = {\n    PERSON: '100',\n    NEWORDER: '200',\n    ORDER: '300'\n  };\n\n  static CardStatus = {\n    NA: '0',\n    QA: '1000',\n    RQA: '2000',\n    NEW: '5000',\n    FUTURE: '6000',\n    OK: '8000'\n  };\n\n  static OrderProcessStatuses = {\n    INIT: '0',\n    PENDING: '10',\n    OPEN100: '100',\n    OPEN110: '110',\n    OPEN500: '500',\n    FUTURE: '600',\n    TIMECHECK: '1000',\n    QACHECK: '4000',\n    PUBLISH: '5000',\n    COMPLETED: '8000',\n    SUSPENCE910: '910',\n    SUSPENCE950: '950',\n    SUSPENCE990: '990',\n    CANCELLED: '999'\n  };\n\n  static OrderType = {\n    NEW_PERSON: '100',\n    MIGRATION: '188',\n    RELATION_UPDATE: '189',\n    RELATION_INSERT: '190',\n    CORE: '200',\n    URI: '201',\n    SSN: '202',\n    ADDRESS: '203',\n    NAME: '205',\n    ROLE_INSERT: '206',\n    ROLE_UPDATE: '207'\n  };\n\n  static activeCard = {\n    RELATION_UPDATE: 'RELATION_UPDATE',\n    RELATION_INSERT: 'RELATION_INSERT',\n    ROLE_UPDATE: 'ROLE_UPDATE',\n    ROLE_INSERT: 'ROLE_INSERT',\n    CORE: 'CORE',\n    URI: 'URI',\n    SSN: 'SSN',\n    NAME: 'NAME',\n    ADDRESS: 'ADDRESS',\n    ROLES: 'ROLES'\n  };\n\n  static Gender = {\n    FEMALE: 'K',\n    MALE: 'M',\n  };\n\n  static OrderProcessMethod = {\n    EXPRESS: 'E',\n    DEFAULT: 'D',\n  };\n\n  static datePrecision = {\n    UNDEF: 'u',\n    YEAR: 'Y',\n    MONTH: 'M',\n    DAY: 'D'\n  };\n\n  static orderTypeTechnical = {\n    NEW_PERSON_ORDER: '384'\n  };\n\n  static defaultValues = {\n    ORDERID: '99999999'\n  };\n\n  static motherCheckState = {\n    OK: 0,\n    WARNING: 100,\n    ERROR_GENERIC: 999,\n    ERROR: 999\n  };\n\n  static personNameTypes = {\n    PREVIOUS_NAMES: '1',\n    ALTERNATIVE_NAMES: '2',\n    PRIMARY_NAME: '3',\n    REGISTRED_NAME: '4'\n  };\n\n\n  static LoadingComponent = () => <div> ... </div>;\n\n};\n","import {Meteor} from 'meteor/meteor';\n\nexport default class Log {\n  static info = (content, callback) => {\n    // console.log(`Logging ${content} on server`);\n    Meteor.call('log.info', content, (err, result) => {\n      if (callback) {\n        callback(err, result);\n      }\n    });\n  };\n\n}\n\n\n\n","import {Meteor} from 'meteor/meteor';\n\nexport default class Random {\n  static generateString = (length) => {\n    if (!length) {\n      length = 5;\n    }\n    let text = \"\";\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (let i = 0; i < length; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  };\n\n}\n\n\n\n","// Meteor.users.deny ({\n//   insert: (userId, doc, fields, modifier) => true,\n//   update: (userId, doc, fields, modifier) => true,\n//   remove: (userId, doc, fields, modifier) => true,\n// })\n\nimport _ from 'lodash';\n\nexport const Phone = Astro.Class({\n  name: 'Phone',\n  fields: {\n    name: {\n      type: 'string',\n      validator: [Validators.minLength(3)]\n    },\n    number: {\n      type: 'string',\n      validator: [Validators.minLength(9)]\n    },\n    uuid: {\n      type: 'string'\n    }\n  }\n});\n\nexport const Email = Astro.Class({\n  name: 'Email',\n  fields: {\n    address: {\n      type: 'string'\n      // validator: [\n      //   Validators.minLength(3)\n      // ]\n    },\n    verified: {\n      type: 'string'\n      // validator: [\n      //   Validators.minLength(9)\n      // ]\n    }\n  }\n});\n\nexport const UserProfile = Astro.Class({\n  name: 'UserProfile',\n  fields: {\n    /* Any fields you want to be published to the client */\n    description: {\n      type: 'string'\n    }\n    // lastName: {\n    //   type: 'string',\n    // },\n    // 'phones': {\n    //   type: 'array',\n    //   nested: 'Phone',\n    //   default: function() {\n    //     return [];\n    //   }\n    // },\n    // nickname\n  }\n});\n\nconst User = Astro.Class({\n  name: 'User',\n  collection: Meteor.users,\n  fields: {\n    // emails: {\n    //   type: 'array',\n    //   default: function() {\n    //     return [];\n    //   }\n    // },\n\n    emails: {\n      type: 'array',\n      nested: 'Email',\n      default: function() {\n        return [];\n      }\n    },\n    createdAt: 'date',\n    profile: {\n      type: 'string'\n    },\n    roles: {\n      type: 'array',\n      default: function() {\n        return {};\n      }\n    },\n    _iss: {\n      type: 'boolean'\n    },\n    _isa: {\n      type: 'boolean'\n    },\n\n    avatar_uri: {\n      type: 'string'\n    },\n    status: {\n      type: 'string'\n    },\n    name: {\n      type: 'string'\n    },\n    uid: {\n      type: 'string'\n    }\n  },\n  methods: {\n    firstEmail: function() {\n      return _.get(this, 'emails[0].address', null);\n    }\n    // ,aclIs : function(roleSlug) {\n    //    console.log ('UUser->aclIsInRole role-slug', roleSlug);\n    //    console.log(this.roles)\n    //   return _.contains(this.roles, roleSlug);\n    // }\n  }\n});\n\nif (Meteor.isServer) {\n  User.extend({\n    fields: {\n      services: \"object\",\n      language: \"string\",\n      avatar_uri: \"string\",\n      name: \"string\",\n      uid: \"string\",\n      theme: \"boolean\"\n    },\n  });\n}\n\nexport default User;\n","export default {\n  optional: ' (optional)',\n  required: '',\n  add: 'Add',\n  remove: 'Remove',\n  up: 'Up',\n  down: 'Down'\n}\n","export default {\n  optional: ' (valfri)',\n  required: '',\n  add: 'Foga',\n  remove: 'AvlÃ¤gsna',\n  up: 'Upp',\n  down: 'Ned'\n}\n","module.exports = function (wallaby) {\n  // There is a weird error with the mui and mantra.\n  // See: https://goo.gl/cLH8ib\n  // Using require here seems to be the error.\n  // Renaming it into `load` just fixed the issue.\n  var load = require;\n\n  return {\n    files: [\n      'client/modules/**/components/*.jsx',\n      'client/modules/**/actions/*.js',\n      'client/modules/**/containers/*.js',\n      'client/modules/**/libs/*.js'\n    ],\n    tests: [\n      'client/**/tests/*.js'\n    ],\n    compilers: {\n       '**/*.js*': wallaby.compilers.babel({\n         babel: load('babel-core'),\n         presets: ['es2015', 'stage-2', 'react']\n       })\n    },\n    env: {\n      type: 'node'\n    },\n    testFramework: 'mocha'\n  };\n};\n"]}