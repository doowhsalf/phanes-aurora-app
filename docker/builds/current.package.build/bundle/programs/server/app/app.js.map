{"version":3,"sources":["meteor://ðŸ’»app/server/lib/drupal/services.js","meteor://ðŸ’»app/server/lib/fileManager/filemanager.js","meteor://ðŸ’»app/server/lib/adminrole.js","meteor://ðŸ’»app/server/lib/chat.js","meteor://ðŸ’»app/server/lib/chatroom.js","meteor://ðŸ’»app/server/lib/notices.js","meteor://ðŸ’»app/server/lib/order.js","meteor://ðŸ’»app/server/lib/workgroup.js","meteor://ðŸ’»app/server/configs/app.js","meteor://ðŸ’»app/server/configs/initial_adds.js","meteor://ðŸ’»app/server/configs/initial_users.js","meteor://ðŸ’»app/server/methods/_users.js","meteor://ðŸ’»app/server/methods/account.js","meteor://ðŸ’»app/server/methods/agents.js","meteor://ðŸ’»app/server/methods/chatlinelists.js","meteor://ðŸ’»app/server/methods/chatrooms.js","meteor://ðŸ’»app/server/methods/contact.js","meteor://ðŸ’»app/server/methods/content.js","meteor://ðŸ’»app/server/methods/events.js","meteor://ðŸ’»app/server/methods/filearea.js","meteor://ðŸ’»app/server/methods/index.js","meteor://ðŸ’»app/server/methods/log.js","meteor://ðŸ’»app/server/methods/nodes.js","meteor://ðŸ’»app/server/methods/notices.js","meteor://ðŸ’»app/server/methods/orders.js","meteor://ðŸ’»app/server/methods/search.js","meteor://ðŸ’»app/server/methods/sycorax.js","meteor://ðŸ’»app/server/methods/systemconfig.js","meteor://ðŸ’»app/server/methods/workorders.js","meteor://ðŸ’»app/server/publications/_users.js","meteor://ðŸ’»app/server/publications/agents.js","meteor://ðŸ’»app/server/publications/articles.js","meteor://ðŸ’»app/server/publications/chatlines.js","meteor://ðŸ’»app/server/publications/chatrooms.js","meteor://ðŸ’»app/server/publications/contents.js","meteor://ðŸ’»app/server/publications/index.js","meteor://ðŸ’»app/server/publications/links.js","meteor://ðŸ’»app/server/publications/mcc_config.js","meteor://ðŸ’»app/server/publications/notices.js","meteor://ðŸ’»app/server/publications/programs.js","meteor://ðŸ’»app/server/publications/secrets.js","meteor://ðŸ’»app/server/publications/sensor-mapping.js","meteor://ðŸ’»app/server/publications/signalstate.js","meteor://ðŸ’»app/server/publications/workorders.js","meteor://ðŸ’»app/server/routes.js","meteor://ðŸ’»app/server/main.js","meteor://ðŸ’»app/lib/transformers/dateStringTransformer.js","meteor://ðŸ’»app/lib/collections.js","meteor://ðŸ’»app/lib/constants.js","meteor://ðŸ’»app/lib/log.js","meteor://ðŸ’»app/lib/random.js","meteor://ðŸ’»app/lib/user.js","meteor://ðŸ’»app/i18n/tcomb/en.js","meteor://ðŸ’»app/i18n/tcomb/sv.js","meteor://ðŸ’»app/wallaby.js"],"names":["module","export","default","GudrunContentServices","HTTP","link","v","Meteor","DEFCON9","DEFCON7","DEFCON5","DEFCON4","DEFCON3","DEFCON2","DEFCON1","util","USER_ACTION_ACTIVATE","constructor","asyncHttp","promisify","post","sendRequest","url","query","async","arguments","length","undefined","console","log","JSON","stringify","startTime","Date","getTime","headers","settings","apiKey","APIKEY","strictSSL","response","executionTime","statusCode","data","localError","Error","sendRequestAsync","Promise","asyncApply","await","test_connection","serviceUrl","concat","drupalTestConnection","replace","queryOrder","searchText","drupalOrderQuery","queryOrderState","state","limit","field_order_state","query_limit","queryOrderByPersonId","field_personid","queryRecentOrders","motherchecks","drupalMotherCheck","queryOrderByOrderId","field_orderid","updateOrderByOrderId","order","drupalOrderUpdate","updateStream","createPersonOrder","drupalOrderCreate","dataReply","getTerms","termtype","drupalGetTax","taxonomy_type","queryTerms","drupalQueryTax","taxonomy_autosearch","queryTermsCountry","dataContext","taxonomy_query_country","queryPersonById","drupalEntityQuery","query_domain","queryPerson","meta","meta_responcemode","meta_query_engine","meta_query_args","queryPersonAdvanced","personadvanced_distinct","queryRoleAdvanced","queryRoles","advancedrole_roles","advancedrole_detailedcategoryrole","advancedrole_basecategoryrole","advancedrole_organisation","advancedrole_countryofjurisdiction","livestream","field_parent_reference","processOrder","request","drupalProcess","field_order_state_request_next","getUserRoles","uid","drupalUserUrl","roles","admin","admin_in_companies","member","member_in_companies","e","getCompanyUsers","companyId","drupalCompanyUsersUrl","field_company_id","company","administrators","field_company_administrators","temp","map","user","members","field_company_members","status","field_company_members_inactive","users","admins","manageUser","action","drupalManageUserUrl","contentServerAction","drupalInsertUser","user_mail","mail","user_name","name","secretQuestion","secretAnswer","pw","addUser","sendQuestion","drupalContactUrl","queryOptions","getArticle","drupalGetArticleUrl","fileareaGetFile","drupalFileareaGetFile","fileareaQuery","drupalFileareaQuery","drupalGetUser","method","value","getUserByAttribute","Admins","Workgroups","WorkgroupUsers","PublishingRegions","Articles","Constants","Workgroup","exportDefault","isSuperAdmin","userId","findOne","roleId","UserRoles","SUPER_ADMIN","isRegionAdmin","regionId","regionIds","Array","isArray","push","regionAdmin","$in","REGION_ADMIN","isAnyRegionAdmin","isWorkgroupRegionAdmin","workgroupId","workgroup","field_publishing_region","isArticlesRegionAdmin","articleId","article","publishingRegions","isArticlesWorkgroupAdmin","_id","isWorkgroupAdmin","workgroupAdmin","user_id","workgroup_id","user_group_role","WORKGROUP_ADMIN","result","getAdminRegionIds","find","fetch","region","regionsFromRole","adminRole","getAdminWorkgroupIds","workgroupIds","getRegionAdminsIds","adminsForRegion","getRegionAdminsCursor","ChatRooms","ChatLines","groupBy","xs","key","reduce","rv","x","getChatRoomById","id","_upsertChatroom","activeProgram","userUrl","programUrl","chatRoomType","user_list","currentDate","forEach","item","chatRoom","createdAt","modifiedAt","createdBy","title","subtitle","subTitle","channelId","update","$set","options","upsert","_upsertChatroomsetActiveUser","chatRooms","chatLinesSelector","chatLines","userActiveList","isNewUser","theActiveDate","activeDate","unReadMessages","_unReadMessages","index","lastAction","text","_getNumOfUnreadMessages","chatRoomsSelector","_usersUnReadMessages","totalUnRead","activeUser","date2check","chatLine","_objectSpread","Notices","NoticesUserStatus","addNotice","notice","currentUser","currentUserId","newNotice","modifiedBy","createdByName","noticeId","insert","addNoticeByFields","eventClass","event","what","entity","entityId","entityUri","entityName","avatar_uri","entity_uri","notices","multi","readIt","readAt","_statusId","Order","dateFormat","testConnectionContent","services","error","orderQuery","orders","process","createUpdatePersonOrder","now","OrderProcessMethod","EXPRESS","getNameTypes","check","UserWorkgroupRoles","WorkgroupVouchers","ADMIN_ROLE_NAME","MEMBER_ROLE_NAME","getUserWorkgroupIds","asAdmin","role","wu","getRegionsWorkgroupIds","ids","w","getWorkgroupEntity","getWorkgroupRegionIds","workgroupEntity","addWorkgroupRegion","$addToSet","removeWorkgroupRegion","$pull","updateField","fieldName","values","isUserAdminInWorkgroup","selectedWorkgroups","isOtherUserAdminInWorkgroup","isUserWorkgroupUserAdmin","workgroupUserId","workgroupUser","isUserAdminInAnyGroup","getWorkgroupAdminsIds","adminWorkgroupUsers","addedWorkgroupUserId","currentWorkgroupUserEntity","memberRole","addUserAsSystem","activate","getWorkgroupPublishingName","publishingName","getWorkgroupVoucher","version","version_focus","version_build_date","chatlines","count","Accounts","createUser","email","password","AdminRole","Random","methods","_users.getUserList","Object","chatUsers","_users.getLanguagePreference","String","record","get","locale","defaultLocale","_users.setLanguagePreference","lang","set","save","_users.getTheme","_users.setTheme","theme","Boolean","_users.updateProfileDescription","updated","profile","_users.updateName","_users.updateEmail","_users.anonymize","newUser","module1","Match","Persons","SearchLog","DrupalServices","staleSessionPurgeInterval","public","inactivityTimeout","staleSessionInactivityTimeout","forceLogout","account.setPw","userObj","doWork","accountSetPw","reason","heartbeat","setInterval","overdueTimestamp","$lt","$unset","Future","Npm","require","DRUPAL_DEFAULTS","port","dn","searchDN","searchSizeLimit","searchCredentials","createNewUser","defaultDomain","searchResultsProfileMap","base","search","ldapsCertificate","bindToDomain","bindDomain","LDAP","create","_","defaults","prototype","drupalCheck","bindAfterFind","self","hasOwnProperty","ldapAsyncFut","err","tokenResult","return","user_data","username","ldapPass","content","params","loginResult","retObject","code","message","wait","registerLoginHandler","loginRequest","drupal","userOptions","ldapOptions","ldapObj","stampedToken","token","emails","$elemMatch","address","verified","_generateStampedLoginToken","hashStampedToken","_hashStampedToken","$push","setPassword","call","userObject","isOnline","$gt","ChatRoom","chatlinelists.unreadMessages","chatlinelists.focusChatline","chatlinelists.addChatLine","line","lineId","chatlinelists.removeChatLine","containerId","chatlinelists.checkAccess","chatRoomsUserIds","hasAccessToChatlines","_checkAccess4User","chatroom.get4channel","chatroom.get4user","chatroom.setActiveUser","contact.sendQuestion","Contents","content.cloneArticle","context","documentToClone","revisions","revision","masterLanguage","language","cloneId","NotiseClass","CONTENT_CLONED","content.getArticle","content.update","fieldsToUpdate","updateCount","i18n","__","CONTENT_UPDATED","content.getTypeOfArticles","pipeline","$group","distinctTypes","$project","rawCollection","resolve","reject","aggregate","cursor","toArray","Events","events.getEventsForNode","point_id","startDate","endDate","nodes","processRawData","rawData","oneDayAgo","oneWeekAgo","oneMonthAgo","oneYearAgo","historyData","acc","doc","date","parseInt","timestamp_write","dateString","toISOString","split","timeString","substring","initializeKey","dates","parseFloat","processRawDataOld","filearea.fileareaQuery","meta_acting_user","filearea.fileareaGetItem","_users","chatlinelists","contact","filearea","account","sycorax","chatrooms","events","workorders","systemconfig","log.info","OneOf","Nodes","NodeLinks","nodes.addNode","nodeObject","node","lastUpdated","owner","created","nodes.removeNode","nodeId","nodes.addLink","linkObject","getTreeStructurev1","startNodeId","nodeCollection","nodeLinksCollection","buildNode","links","parentId","children","childNode","childId","getTreeStructure","notices.add","notices.updateReadStatus","noticeStatus","updateStatus","Users","orders.testconnection","unblock","orders.orderquery","orders.queryOrderByOrderId","orders.queryOrderByPersonId","orders.queryRecentOrders","orders.updateOrderByOrderId","content_order","orders.createUpdatePersonOrder","orders.getNameTypes","orders.getTerms","orders.queryTerms","orders.queryTermsCountry","orders.queryPersonById","orders.queryPerson","orders.queryPersonAdvanced","orders.queryRoleAdvanced","orders.livestream","orders.motherchecks","orders.process","orders.queryOrderState","search.findPerson","dbQuery","nameElemMatch","NameType","rStart","rStartLastName","rEnd","firstName","regex","RegExp","source","toLowerCase","trim","dir","$regex","lastName","field_pep","field_rca","year","month","day","field_pep_countries_list","filteredCountries","filter","selected","searchBySSN","ssnNumber","keys","UserId","DateTime","ResultsReturned","list","sycorax.dynamic.async","_doFetchSync","wrapAsync","_doFetch2","_doFetch","sycorax.dynamic","then","json","SystemConfig","systemconfig.get","systemconfig.put","updatedBy","updatedAt","insertedId","numberAffected","WorkOrders","workorder.new","customerOrderId","workorderclass","payload","customerId","workorderId","workorder","contentId","modified","publish","selector","Agents","AgentUserConnections","Mongo","autorun","computation","Selector","agents_connections","objectIdArray","connection","agent_id","ObjectID","objectId","agents","chatLinesUserIds","usersWithAvatars","chatroomId","nodesSelector","queue","seenNodeIds","Set","seenLinkIds","currentId","shift","has","add","_getNodesAndChildren","deepth","maxDeepth","i","child","target","secrets","articles","contents","mcc","Links","linkId","linksSelector","MccConfig","mccConfig","facility","allowDiskUse","$match","read_proc_status","numOfRead","$sum","noticeSelector","notices4User","notices_userstatus","notices4users","Programs","Modules","programId","Secrets","SensorMapping","dataSelector","SignalState","SignalHistory","signalState","sort","signalId","SignalHistoryData","object","Number","projection","myLimit","start","end","execution","FileManager","Picker","route","req","res","next","fileType","fileId","fileName","decodeURIComponent","fileData","readOutputFileAsBuffer","setHeader","publications","addInitialData","AppConfig","startup","release","urls","resetPassword","absoluteUrl","emailTemplates","siteName","from","subject","html","urlTag","onCreateUser","validateLoginAttempt","onLogin","loginInfo","allowed","type","t","moment","DateStringTransformer","formatString","format","is","momentDate","parse","str","toDate","ActionLog","TextsVersions","KeyValues","KeyValueClasses","KeyValueGroups","KeyValueContexts","TagClasses","Tags","Collection","USER_ACTION_DEACTIVATE","USER_ACTION_ADD","USER_STATUS_ACTIVE","USER_STATUS_INACTIVE","React","CardMode","PERSON","NEWORDER","ORDER","CardStatus","NA","QA","RQA","NEW","FUTURE","OK","OrderProcessStatuses","INIT","PENDING","OPEN100","OPEN110","OPEN500","TIMECHECK","QACHECK","PUBLISH","COMPLETED","SUSPENCE910","SUSPENCE950","SUSPENCE990","CANCELLED","OrderType","NEW_PERSON","MIGRATION","RELATION_UPDATE","RELATION_INSERT","CORE","URI","SSN","ADDRESS","NAME","ROLE_INSERT","ROLE_UPDATE","activeCard","ROLES","Gender","FEMALE","MALE","DEFAULT","datePrecision","UNDEF","YEAR","MONTH","DAY","orderTypeTechnical","NEW_PERSON_ORDER","defaultValues","ORDERID","motherCheckState","WARNING","ERROR_GENERIC","ERROR","personNameTypes","PREVIOUS_NAMES","ALTERNATIVE_NAMES","PRIMARY_NAME","REGISTRED_NAME","ARTICLE_ACTION_CONTENT_UPDATE","ARTICLE_STATUS_OPEN","ARTICLE_STATUS_REVIEW","ARTICLE_STATUS_REQUEST_FOR_PUBLICATION","ARTICLE_STATUS_APPROVED_FOR_PUBLICATION","ARTICLE_STATUS_PUBLISHED","CHAT_ACTION_NEW_MESSAGE","GROUP_ACTION_NEW_MEMBER","LoadingComponent","createElement","Log","info","callback","generateString","possible","charAt","Math","floor","random","Phone","Email","UserProfile","Astro","Class","fields","validator","Validators","minLength","number","uuid","description","User","collection","nested","_iss","_isa","firstEmail","isServer","extend","optional","required","remove","up","down","exports","wallaby","load","files","tests","compilers","babel","presets","env","testFramework"],"mappings":"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,kBAAkB,CAAC;QAC1CjB,OAAO,IAAIgB,OAAO,CAACC,GAAG,CAACyF,CAAC,CAAC;MAC3B;IACF,CAAC;EAAA;EACK0C,kBAAkBA,CAACF,MAAM,EAAEC,KAAK;IAAA,OAAAhH,OAAA,CAAAC,UAAA,OAAE;MACtC,IAAIG,UAAU,MAAAC,MAAA,CAAM7C,MAAM,CAAC6B,QAAQ,CAACyH,aAAa,CAAE;MACnD1G,UAAU,GAAGA,UAAU,CAACG,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;MACrD,IAAI/B,KAAK,GAAG;QACVoB,IAAI,EAAE;UACJmH,MAAM,EAAEA,MAAM;UACdC,KAAK,EAAEA;QACT;MACF,CAAC;MAED,IAAI;QACF,MAAMvH,QAAQ,GAAAO,OAAA,CAAAE,KAAA,CAAS,IAAI,CAACH,gBAAgB,CAACK,UAAU,EAAE5B,KAAK,CAAC;QAC/D,OAAOiB,QAAQ;MACjB,CAAC,CAAC,OAAO8E,CAAC,EAAE;QACV1G,OAAO,IAAIgB,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC1CjB,OAAO,IAAIgB,OAAO,CAACC,GAAG,CAACyF,CAAC,CAAC;MAC3B;IACF,CAAC;EAAA;AACH,C;;;;;;;;;;;AC9lBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;ACnFA,IAAI2C,MAAM,EAACC,UAAU,EAACC,cAAc,EAACC,iBAAiB,EAACC,QAAQ;AAACrK,MAAM,CAACK,IAAI,CAAC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","file":"/app.js","sourcesContent":["import { HTTP } from \"meteor/http\";\nimport { Meteor } from \"meteor/meteor\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nimport util from \"util\";\nimport { USER_ACTION_ACTIVATE } from \"../../../lib/constants\";\n\nexport default class GudrunContentServices {\n  constructor() {\n    const asyncHttp = util.promisify(HTTP.post);\n\n    this.sendRequest = (url, query, async = false) => {\n      DEFCON3 && console.log(url);\n      DEFCON3 && console.log(\"Query string...\");\n      DEFCON3 && console.log(JSON.stringify(query, null, 2));\n      const startTime = new Date().getTime();\n\n      if (query) {\n        if (query.headers) {\n          query.headers[\"APIKEY\"] = Meteor.settings.apiKey;\n          query.headers[\"strictSSL\"] = false;\n        } else {\n          query.headers = {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          };\n        }\n      } else {\n        query = {\n          headers: {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          },\n        };\n      }\n\n      const response = HTTP.post(url, query);\n      const executionTime = new Date().getTime() - startTime;\n      DEFCON3 && console.log(\"Call to server took: \" + executionTime);\n\n      if (response.statusCode === 200) {\n        DEFCON5 && console.log(response.data);\n        return response.data;\n      } else {\n        let localError = new Meteor.Error(\n          \"Invalid response status code: \" + response.statusCode\n        );\n        DEFCON1 && console.log(response.data);\n        DEFCON1 && console.log(localError);\n        throw localError;\n      }\n    };\n\n    this.sendRequestAsync = async (url, query) => {\n      DEFCON3 && console.log(url);\n      DEFCON3 && console.log(\"Query string...\");\n      DEFCON3 && console.log(JSON.stringify(query, null, 2));\n      const startTime = new Date().getTime();\n\n      if (query) {\n        if (query.headers) {\n          query.headers[\"APIKEY\"] = Meteor.settings.apiKey;\n          query.headers[\"strictSSL\"] = false;\n        } else {\n          query.headers = {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          };\n        }\n      } else {\n        query = {\n          headers: {\n            APIKEY: Meteor.settings.apiKey,\n            strictSSL: false,\n          },\n        };\n      }\n\n      const response = await asyncHttp(url, query);\n      const executionTime = new Date().getTime() - startTime;\n      DEFCON3 && console.log(\"Call to server took: \" + executionTime);\n\n      if (response.statusCode === 200) {\n        DEFCON5 && console.log(response.data);\n        return response.data;\n      } else {\n        if (response.statusCode === 400) {\n          DEFCON5 && console.log(response.data);\n          return response.data;\n        } else {\n          let localError = new Meteor.Error(\n            \"Invalid response status code: \" + response.statusCode\n          );\n          DEFCON1 && console.log(response.data);\n          DEFCON1 && console.log(localError);\n          throw localError;\n        }\n      }\n    };\n  }\n\n  test_connection() {\n    let serviceUrl = `${Meteor.settings.drupalTestConnection}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    return this.sendRequest(serviceUrl, {});\n  }\n\n  queryOrder(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        query: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderState(state, limit) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_order_state: state,\n        query_limit: limit,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderByPersonId(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_personid: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryRecentOrders() {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        query_limit: \"50\",\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  motherchecks() {\n    let serviceUrl = `${Meteor.settings.drupalMotherCheck}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {},\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryOrderByOrderId(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalOrderQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_orderid: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  updateOrderByOrderId(order) {\n    let serviceUrl = `${Meteor.settings.drupalOrderUpdate}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    // just pass the order\n\n    DEFCON3 && console.log(\"Checking data in updateOrderByOrderId\");\n    DEFCON3 && console.log(order);\n\n    //order.acting_uid = userObj.uid;\n    DEFCON3 && console.log(\"After...\");\n    DEFCON3 && console.log(order);\n\n    DEFCON3 && console.log(order);\n\n    let updateStream = {\n      order,\n    };\n    updateStream.data = updateStream.order;\n    return this.sendRequest(serviceUrl, updateStream);\n  }\n\n  createPersonOrder(order) {\n    let serviceUrl = `${Meteor.settings.drupalOrderCreate}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let updateStream = {\n      order,\n    };\n    updateStream.data = updateStream.order;\n    DEFCON3 && console.log(updateStream.order);\n\n    let dataReply = this.sendRequest(serviceUrl, updateStream);\n    DEFCON3 && console.log(dataReply);\n    return dataReply;\n  }\n\n  getTerms(termtype) {\n    let serviceUrl = `${Meteor.settings.drupalGetTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryTerms(termtype, searchText) {\n    let serviceUrl = `${Meteor.settings.drupalQueryTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n        taxonomy_autosearch: searchText,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryTermsCountry(dataContext) {\n    let serviceUrl = `${Meteor.settings.drupalQueryTax}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let termtype = \"countries\";\n    let query = {\n      data: {\n        taxonomy_type: termtype,\n        taxonomy_query_country: dataContext,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPersonById(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        field_personid: searchText,\n        query_domain: [\"person\"],\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPerson(searchText, meta) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"1000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"fulltext\",\n        meta_query_args: meta,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryPersonAdvanced(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"2000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"personadvanced\",\n        personadvanced_distinct: \"1\",\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  queryRoleAdvanced(searchText, queryRoles) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    DEFCON3 && console.log(queryRoles);\n    let query = {\n      data: {\n        query: searchText,\n        query_domain: [\"person\"],\n        query_limit: \"2000\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"roleadvanced\",\n        advancedrole_roles: queryRoles.advancedrole_roles,\n        advancedrole_detailedcategoryrole:\n          queryRoles.advancedrole_detailedcategoryrole,\n        advancedrole_basecategoryrole: queryRoles.advancedrole_basecategoryrole,\n        advancedrole_organisation: queryRoles.advancedrole_organisation,\n        advancedrole_countryofjurisdiction:\n          queryRoles.advancedrole_countryofjurisdiction,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  livestream(searchText) {\n    let serviceUrl = `${Meteor.settings.drupalEntityQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    //let orderstate = '391';\n    let query = {\n      data: {\n        field_parent_reference: searchText,\n        query_domain: [\"livestream\"],\n        query_limit: \"50\",\n        meta_responcemode: \"querymode\",\n        meta_query_engine: \"livestream\",\n      },\n    };\n\n    DEFCON3 && console.log(query);\n\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  processOrder(request) {\n    let serviceUrl = `${Meteor.settings.drupalProcess}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        field_orderid: request.field_orderid,\n        field_order_state_request_next: request.field_order_state_request_next,\n      },\n    };\n    return this.sendRequest(serviceUrl, query);\n  }\n\n  async getUserRoles(uid) {\n    let serviceUrl = `${Meteor.settings.drupalUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n\n    if (!uid) {\n      return null;\n    }\n\n    let query = {\n      data: { uid },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      //roles contain arrays of company ids\n      const roles = {\n        admin: response && response.admin_in_companies,\n        member: response && response.member_in_companies,\n      };\n      return roles;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUserRoles\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async getCompanyUsers(companyId) {\n    let serviceUrl = `${Meteor.settings.drupalCompanyUsersUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: { field_company_id: companyId },\n    };\n\n    try {\n      const company = await this.sendRequestAsync(serviceUrl, query);\n      DEFCON5 && console.log(\"Company users returned:\");\n\n      let administrators = [];\n      if (company && company.field_company_administrators) {\n        let temp = company.field_company_administrators.map((user) => {\n          return user;\n        });\n        administrators = administrators.concat(temp);\n      }\n\n      let members = [];\n      if (company && company.field_company_members) {\n        let temp = company.field_company_members.map((user) => {\n          user.status = \"active\";\n          return user;\n        });\n        members = members.concat(temp);\n      }\n\n      if (company && company.field_company_members_inactive) {\n        let temp = company.field_company_members_inactive.map((user) => {\n          user.status = \"inactive\";\n          return user;\n        });\n        members = members.concat(temp);\n      }\n      const users = {\n        companyId,\n        admins: administrators,\n        members: members,\n      };\n\n      DEFCON5 && console.log(users);\n      return users;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getCompanyUsers\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async manageUser(uid, action, companyId) {\n    let serviceUrl = `${Meteor.settings.drupalManageUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    const contentServerAction =\n      action === USER_ACTION_ACTIVATE ? \"activateUser\" : \"disableUser\";\n    let query = {\n      data: {\n        uid,\n        action: contentServerAction,\n        field_company_id: companyId,\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in manageUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async drupalInsertUser(user) {\n    let serviceUrl = `${Meteor.settings.drupalInsertUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        user_mail: user.mail,\n        user_name: user.name,\n        secretQuestion: user.secretQuestion,\n        secretAnswer: user.secretAnswer,\n        pw: user.pw,\n        action: \"newUser\",\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in insertUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async addUser(user, companyId) {\n    let serviceUrl = `${Meteor.settings.drupalManageUserUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        user_mail: user.mail,\n        user_name: user.name,\n        action: \"newUser\",\n        field_company_id: companyId,\n      },\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in manageUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n\n  async sendQuestion(query) {\n    let serviceUrl = `${Meteor.settings.drupalContactUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in sendQuestion\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async getArticle(query) {\n    let serviceUrl = `${Meteor.settings.drupalGetArticleUrl}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getArticle\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  // async getArticle(query) {\n  //   let serviceUrl = `${Meteor.settings.drupalGetArticleUrl}`;\n  //   serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n  //   let queryOptions = {\n  //     data: query\n  //   };\n  //   try {\n  //     const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n  //     return response;\n  //   } catch (e) {\n  //     DEFCON3 && console.log(\"Error in getArticle\");\n  //     DEFCON3 && console.log(e);\n  //   }\n  // }\n  async fileareaGetFile(query) {\n    let serviceUrl = `${Meteor.settings.drupalFileareaGetFile}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    DEFCON3 && console.log(\"Preparing to get the file...!\");\n    DEFCON3 && console.log(query);\n\n    try {\n      DEFCON3 && console.log(\"Sending Request...!\");\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      DEFCON3 && console.log(\"Get Item back from Request\");\n\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in fileareaGetItem\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async fileareaQuery(query) {\n    let serviceUrl = `${Meteor.settings.drupalFileareaQuery}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let queryOptions = {\n      data: query,\n    };\n    DEFCON3 && console.log(\"fileareaQuery Getting content...!\");\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, queryOptions);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in fileareaQuery\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async drupalGetUser(uid) {\n    let serviceUrl = `${Meteor.settings.drupalGetUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        method: \"uid\",\n        value: uid,\n      },\n    };\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n  async getUserByAttribute(method, value) {\n    let serviceUrl = `${Meteor.settings.drupalGetUser}`;\n    serviceUrl = serviceUrl.replace(/([^:]\\/)\\/+/g, \"$1\");\n    let query = {\n      data: {\n        method: method,\n        value: value,\n      },\n    };\n\n    try {\n      const response = await this.sendRequestAsync(serviceUrl, query);\n      return response;\n    } catch (e) {\n      DEFCON3 && console.log(\"Error in getUser\");\n      DEFCON3 && console.log(e);\n    }\n  }\n}\n","/**\n * Created by kacper on 6/8/16.\n */\n/*\n\"use strict\";\n\nexport default function FileManager(baseDirectory) {\n  var path = Npm.require('path');\n  var fs = Npm.require('fs');\n  baseDirectory = baseDirectory.trim('/');\n  let filesRootPath = Meteor.settings.filesRootPath;\n  var basePath = `${filesRootPath}/${baseDirectory}/`;\n  basePath = basePath.replace('//', '/');\n\n  this.readInputFileAsBuffer = function (fileName) {\n    try {\n      var fileBuffer = fs.readFileSync(basePath + fileName);\n      return fileBuffer;\n    }\n    catch (error) {\n      throw new Error(`File ${fileName} not found`);\n    }\n  };\n\n  this.readOutputFileAsBuffer = function (fileName) {\n    var fileBuffer = fs.readFileSync(basePath + 'out/' + fileName);\n    return fileBuffer;\n  };\n\n  this.writeBufferAsInputFile = function (fileName, writeBuffer) {\n    createPathIfDoesNotExist(basePath);\n    fs.writeFileSync(basePath + fileName, writeBuffer);\n  };\n\n  this.writeBufferAsOutputFile = function (fileName, writeBuffer) {\n    let outPath = basePath + 'out/';\n    createPathIfDoesNotExist(outPath);\n    fs.writeFileSync(outPath + fileName, writeBuffer);\n  };\n\n  this.setBaseDirectory = function (baseDirectory) {\n    baseDirectory = baseDirectory.trim('/');\n    basePath = `${filesRootPath}/${baseDirectory}/`;\n  };\n\n  this.getBasePath = function () {\n    return basePath;\n  };\n\n  this.getBaseOutPath = function () {\n    return basePath + 'out';\n  };\n\n  this.listFiles = function () {\n    return fs.readdirSync(basePath).reduce(function (list, file) {\n      var name = path.join(basePath, file);\n      if (!fs.statSync(name).isDirectory()) {\n        list.push(file);\n      }\n      return list;\n    }, []);\n  };\n\n  var createPathIfDoesNotExist = function (path) {\n    var getParentPath = function (path) {\n      //   root/dir1/dir2/ -> root/dir1/dir2 -> root/dir1\n      path = path.replace(/\\/+$/, '');\n      let lastSlashIndex = path.lastIndexOf('/');\n      return path.substring(0, lastSlashIndex);\n\n    };\n\n    if (!fs.existsSync(path)) {\n       DEFCON5 && console.log(`Creating path ${path}`);\n      let parentPath = getParentPath(path);\n      if (!fs.existsSync(parentPath)) {\n        createPathIfDoesNotExist(parentPath)\n      }\n      fs.mkdirSync(path);\n    }\n  }\n\n}\n*/\n","import {Admins, Workgroups, WorkgroupUsers, PublishingRegions, Articles} from '/lib/collections';\nimport Constants from '/lib/constants';\nimport Workgroup from \"./workgroup\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nexport default {\n\n  isSuperAdmin: function (userId) {\n\n    const admin = Admins.findOne({status: 'active', userId, roleId: Constants.UserRoles.SUPER_ADMIN});\n    return !!admin;\n  },\n\n  isRegionAdmin: function (userId, regionId) {\n\n    if (!regionId || !userId) {\n      return false;\n    }\n\n    let regionIds = [];\n\n    if (Array.isArray(regionId)) {\n      regionIds = regionId;\n    }\n    else {\n      regionIds.push(regionId)\n    }\n\n    const regionAdmin = Admins.findOne({\n      status: 'active', userId, regionId: {$in: regionIds},\n      roleId: Constants.UserRoles.REGION_ADMIN\n    });\n\n    return !!regionAdmin || this.isSuperAdmin(userId);\n\n  },\n\n  isAnyRegionAdmin: function (userId) {\n\n    if (!userId) {\n      return false;\n    }\n\n    const regionAdmin = Admins.findOne({\n      status: 'active', userId,\n      roleId: Constants.UserRoles.REGION_ADMIN\n    });\n\n    return !!regionAdmin || this.isSuperAdmin(userId);\n\n  }\n  ,\n\n  isWorkgroupRegionAdmin: function (userId, workgroupId) {\n\n    if (!workgroupId || !userId) {\n      return false;\n    }\n\n    const workgroup = Workgroups.findOne({status: 'active', '_id': workgroupId});\n\n    const regionIds = workgroup && workgroup.field_publishing_region\n      ? workgroup.field_publishing_region : [];\n\n\n    const regionAdmin = Admins.findOne({\n      status: 'active', userId, regionId: {$in: regionIds},\n      roleId: Constants.UserRoles.REGION_ADMIN\n    });\n\n    return !!regionAdmin || this.isSuperAdmin(userId);\n\n  }\n  ,\n  isArticlesRegionAdmin: function (userId, articleId) {\n\n    if (!articleId || !userId) {\n      return false;\n    }\n\n    const article = Articles.findOne({status: 'active', '_id': articleId});\n\n    const regionIds = article && article.publishingRegions\n      ? article.publishingRegions : [];\n\n\n    const regionAdmin = Admins.findOne({\n      status: 'active', userId, regionId: {$in: regionIds},\n      roleId: Constants.UserRoles.REGION_ADMIN\n    });\n\n    return !!regionAdmin || this.isSuperAdmin(userId);\n\n  }\n  ,\n\n  isArticlesWorkgroupAdmin: function (userId, articleId) {\n\n    if (!articleId || !userId) {\n      return false;\n    }\n    const article = Articles.findOne({status: 'active', _id: articleId});\n    if (!article || !article.workgroupId) {\n      return false;\n    }\n\n    return this.isWorkgroupAdmin(userId, article.workgroupId);\n  },\n\n  isWorkgroupAdmin: function (userId, workgroupId) {\n\n    if (!workgroupId || !userId) {\n      return false;\n    }\n\n    const workgroupAdmin = WorkgroupUsers.findOne({\n      status: 'active', user_id: userId,\n      workgroup_id: workgroupId,\n      user_group_role: Constants.UserRoles.WORKGROUP_ADMIN\n    });\n\n    const isWorkgroupAdmin = !!workgroupAdmin;\n\n    const workgroup = Workgroups.findOne({status: 'active', '_id': workgroupId});\n\n    const regionIds = workgroup && workgroup.field_publishing_region\n      ? workgroup.field_publishing_region : [];\n    const result = isWorkgroupAdmin || this.isRegionAdmin(userId, regionIds) || this.isSuperAdmin(userId);\n    return result;\n  }\n  ,\n\n  getAdminRegionIds: function (userId) {\n    if (this.isSuperAdmin(userId)) {\n      return PublishingRegions.find({status: 'active'}).fetch().map(region => region._id);\n    }\n\n    const regionsFromRole = Admins.find({\n      status: 'active', userId,\n      roleId: Constants.UserRoles.REGION_ADMIN\n    }).fetch().map(adminRole => adminRole.regionId);\n\n    return regionsFromRole ? regionsFromRole : [];\n\n  },\n\n  getAdminWorkgroupIds: function (userId) {\n    const regionIds = this.getAdminRegionIds(userId);\n    const workgroupIds = Workgroups.find(\n      {\n        status: 'active',\n        'field_publishing_region': {$in: regionIds}\n      })\n      .fetch().map(workgroup => workgroup._id);\n    return workgroupIds;\n\n  },\n\n  getRegionAdminsIds: function (regionId) {\n\n    const adminsForRegion = Admins.find({\n      status: 'active',\n      roleId: Constants.UserRoles.REGION_ADMIN,\n      regionId\n    }).fetch().map(adminRole => adminRole.userId);\n\n    return adminsForRegion ? adminsForRegion : [];\n\n  }\n  ,\n\n  getRegionAdminsCursor: function (regionId) {\n\n    return Admins.find({\n      status: 'active',\n      roleId: Constants.UserRoles.REGION_ADMIN,\n      regionId\n    });\n\n  }\n\n}\n","import {ChatRooms, ChatLines} from '/lib/collections';\nimport Constants from '/lib/constants';\nimport {Meteor} from \"meteor/meteor\";\n\nconst groupBy = function(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nexport default {\n\n  getChatRoomById: function(id) {\n\n    return null;\n  }\n}\n","import { ChatRooms, ChatLines } from \"/lib/collections\";\nimport Constants from \"/lib/constants\";\nimport { Meteor } from \"meteor/meteor\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default {\n  /*\n          Gets all active aritcles' ids for user\n          */\n\n  _upsertChatroom(activeProgram, users, userUrl, programUrl, chatRoomType) {\n    let user_list = [];\n\n    DEFCON3 && console.log(\"Fixing chatroom - users and program\");\n    DEFCON3 && console.log(users);\n    DEFCON3 && console.log(activeProgram);\n    const currentDate = new Date();\n\n    users.forEach((user) => {\n      item = {\n        userId: user,\n      };\n      user_list.push(item);\n    });\n\n    // have to set subtitle to small letters\n    var chatRoom = {\n      createdAt: currentDate,\n      modifiedAt: currentDate,\n      status: \"active\",\n      createdBy: activeProgram.createdBy,\n      url: programUrl,\n      userUrl: userUrl,\n      title: activeProgram.title,\n      subtitle: activeProgram.subTitle,\n      users: user_list,\n      channelId: activeProgram._id,\n      chatRoomType: chatRoomType,\n    };\n\n    const query = { channelId: activeProgram.channelId };\n    const update = { $set: chatRoom };\n    const options = { upsert: true };\n\n    ChatRooms.update(query, update, options);\n  },\n\n  _upsertChatroomsetActiveUser(channelId, userId) {\n    const chatRooms = ChatRooms.find({\n      channelId: channelId,\n    }).fetch();\n\n    DEFCON3 && console.log(\"Getting chatRooms\");\n    DEFCON3 && console.log(chatRooms);\n\n    DEFCON3 && console.log(\"Update active user timestamp\");\n    DEFCON3 && console.log(channelId);\n    DEFCON3 && console.log(userId);\n\n    const chatLinesSelector = {\n      channelId: channelId,\n      status: \"active\",\n    };\n\n    let chatLines = ChatLines.find(chatLinesSelector).fetch();\n    DEFCON3 && console.log(chatLines);\n\n    const currentDate = new Date();\n\n    let item = {};\n    let userActiveList = [];\n    let isNewUser = true;\n    if (chatRooms[0].userActiveList !== undefined) {\n      chatRooms[0].userActiveList.forEach((user) => {\n        isNewUser = user.userId === userId ? false : isNewUser;\n        let theActiveDate =\n            user.userId === userId ? currentDate : user.activeDate,\n          item = {\n            userId: user.userId,\n            activeDate: theActiveDate,\n            unReadMessages: _unReadMessages(theActiveDate, chatLines),\n          };\n        userActiveList.push(item);\n      });\n    }\n\n    if (isNewUser) {\n      DEFCON3 && console.log(\"The new user is a new user\");\n\n      item = {\n        userId: userId,\n        activeDate: currentDate,\n        unReadMessages: _unReadMessages(currentDate, chatLines),\n      };\n      userActiveList.push(item);\n    }\n\n    let index = chatLines.length - 1;\n    DEFCON3 && console.log(\"CHATLINES LENGTH\");\n    DEFCON3 && console.log(index);\n\n    // have to set subtitle to small letters\n    var chatRoom = {\n      modifiedAt: currentDate,\n      lastAction: chatLines[index].text,\n      userActiveList: userActiveList,\n    };\n\n    const query = { channelId: channelId };\n    const update = { $set: chatRoom };\n    const options = { upsert: true };\n\n    ChatRooms.update(query, update, options);\n  },\n\n  _getNumOfUnreadMessages(userId) {\n    const chatRoomsSelector = {\n      status: \"active\",\n      \"users.userId\": {\n        $in: [userId],\n      },\n    };\n\n    const chatRooms = ChatRooms.find(chatRoomsSelector).fetch();\n\n    DEFCON3 && console.log(\"Find check chat room for user...\");\n\n    DEFCON3 && console.log(chatRooms);\n\n    return _usersUnReadMessages(userId, chatRooms);\n  },\n};\n\nfunction _usersUnReadMessages(userId, chatRooms) {\n  let totalUnRead = 0;\n\n  chatRooms.forEach((chatRoom) => {\n    if (chatRoom.userActiveList !== undefined) {\n      chatRoom.userActiveList.forEach((activeUser) => {\n        if (activeUser.userId === userId) {\n          totalUnRead = totalUnRead + activeUser.unReadMessages;\n        }\n      });\n    }\n  });\n  DEFCON3 && console.log(\"Total Unread messages for user\");\n  DEFCON3 && console.log(userId);\n  DEFCON3 && console.log(totalUnRead);\n  return totalUnRead;\n}\n\nfunction _unReadMessages(date2check, chatLines) {\n  DEFCON3 && console.log(\"check unread\");\n  DEFCON3 && console.log(date2check);\n  DEFCON3 && console.log(chatLines);\n\n  let unReadMessages = 0;\n  chatLines.forEach((chatLine) => {\n    if (date2check < chatLine.createdAt) {\n      unReadMessages++;\n    }\n  });\n  DEFCON3 && console.log(\"UnReadMessages\");\n  DEFCON3 && console.log(unReadMessages);\n  return unReadMessages;\n}\n","import { Notices, NoticesUserStatus } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nexport default {\n  addNotice: function (notice, users) {\n    (\"use strict\");\n\n    const currentUser = Meteor.user()._id;\n    const currentUserId = Meteor.user()._id;\n    const currentDate = new Date();\n\n    let newNotice = {};\n    newNotice = {\n      ...notice,\n    };\n    newNotice.modifiedBy = currentUser;\n    newNotice.createdByName = currentUser;\n    newNotice.createdBy = currentUserId;\n    newNotice.modifiedAt = currentDate;\n    newNotice.createdAt = currentDate;\n    newNotice.status = \"active\";\n\n    let noticeId = Notices.insert(newNotice);\n    return noticeId;\n  },\n\n  addNoticeByFields: function (\n    eventClass,\n    event,\n    what,\n    entity,\n    entityId,\n    entityUri,\n    entityName,\n    users\n  ) {\n    (\"use strict\");\n    DEFCON5 && console.log(\"Create a new notice\");\n    DEFCON5 && console.log(eventClass);\n\n    const currentUser = Meteor.user().name;\n    const currentUserId = Meteor.user()._id;\n    const currentDate = new Date();\n    const avatar_uri = Meteor.user().avatar_uri;\n    let noticeId = null;\n    let newNotice = {};\n    newNotice.what = what;\n    newNotice.entity = entity;\n    newNotice.entityId = entityId;\n    newNotice.eventClass = eventClass;\n    newNotice.event = event;\n    newNotice.entityName = entityName;\n    newNotice.entity_uri = entityUri;\n    newNotice.avatar_uri = avatar_uri;\n    newNotice.modifiedBy = currentUserId;\n    newNotice.createdByName = currentUser;\n    newNotice.createdBy = currentUserId;\n    newNotice.modifiedAt = currentDate;\n    newNotice.createdAt = currentDate;\n    newNotice.status = \"active\";\n    DEFCON5 && console.log(newNotice);\n\n    const query = { entityId: entityId, event: event };\n    const update = { $set: newNotice };\n    const options = { upsert: true };\n\n    //let noticeId = Notices.insert(newNotice);\n    let status = Notices.update(query, update, options);\n\n    if (status) {\n      let notices = Notices.find(query).fetch();\n      DEFCON5 && console.log(\"Generated NotiseId\");\n\n      DEFCON5 && console.log(notices);\n      noticeId = notices[0]._id ? notices[0]._id : noticeId;\n      // let user_list = [];\n      DEFCON5 && console.log(\"Checking users\");\n      DEFCON5 && console.log(users);\n\n      if (users !== undefined) {\n        DEFCON5 && console.log(\"Archive previous review \");\n        const query = { noticeId: notices[0]._id };\n        const update = { $set: { status: \"archived\" } };\n        const options = { multi: true };\n        let status = NoticesUserStatus.update(query, update, options);\n\n        users.forEach((userId) => {\n          DEFCON5 && console.log(\"Query for updating user notices\");\n          DEFCON5 && console.log(query);\n          DEFCON5 && console.log(\"Add user to notice\");\n          DEFCON5 && console.log(userId);\n\n          let item = {\n            userId: userId,\n            noticeId: notices[0]._id,\n            modifiedBy: currentUserId,\n            createdByName: currentUser,\n            createdBy: currentUserId,\n            modifiedAt: currentDate,\n            createdAt: currentDate,\n            readIt: false,\n            readAt: null,\n            status: \"active\",\n          };\n          let _statusId = NoticesUserStatus.insert(item);\n        });\n      }\n    }\n\n    return noticeId;\n  },\n};\n\n/*\n var chatRoom = {\n        status: \"active\",\n        createdBy: article.createdBy,\n        url: imageUrl,\n        title: article.name,\n        subtitle: article.subtitle,\n        users: user_list,\n        channelId: article._id,\n        chatRoomType: chatRoomType,\n    };\n\n    const query = { channelId: article._id };\n    const update = { $set: chatRoom };\n    const options = { upsert: true };\n\n    ChatRooms.update(query, update, options);\n\n\n\n\n\n*/\n","import GudrunContentServices from \"../lib/drupal/services.js\";\nimport {\n  Meteor\n} from \"meteor/meteor\";\nimport Constants from \"/lib/constants\";\nimport dateFormat from \"dateformat\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default class Order {\n  constructor(Meteor = undefined) {\n    this.user = Meteor.user();\n  }\n\n  testConnectionContent() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      services.test_connection();\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  orderQuery(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrder(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryOrderByPersonId(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrderByPersonId(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  process(request) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"Request process of order\");\n      let orders = services.processOrder(request);\n      DEFCON3 && console.log(\"Ok, get some reply\");\n\n      return orders;\n    } catch (error) {\n      DEFCON3 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryRecentOrders() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryRecentOrders();\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  queryOrderState(state, limit) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"queryOrderState\");\n      let orders = services.queryOrderState(state, limit);\n      DEFCON3 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n  motherchecks() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON3 && console.log(\"Sending motherchecks Gundrun\");\n      let orders = services.motherchecks();\n      DEFCON3 && console.log(\"Ok, get something from motherchecks \");\n\n      return orders;\n    } catch (error) {\n      DEFCON3 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n\n\n  queryOrderByOrderId(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryOrderByOrderId(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  updateOrderByOrderId(order) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let result = services.updateOrderByOrderId(order);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  createUpdatePersonOrder(order) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      // DEFCON5 && console.log(this.user);\n      var now = new Date();\n      order['field_order_state'] = 271;\n      order['field_orderid'] = '';\n      order['field_creator'] = this.user.uid;\n      order['field_responsible'] = this.user.uid;\n      order['field_order_process_method'] = order['field_order_process_method'] ? order['field_order_process_method'] : Constants.OrderProcessMethod.EXPRESS;\n      order['field_effective_date'] = dateFormat(now, \"yyyy-mm-dd\");\n\n\n\n      let result = services.createPersonOrder(order);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n\n\n  getNameTypes() {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting getNameTypes\");\n      let result = services.getTerms(\"nametype\");\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  getTerms(termtype) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting getTerms\");\n      let result = services.getTerms(termtype);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryTerms(termtype, searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting queryTerms\");\n      let result = services.queryTerms(termtype, searchText);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryTermsCountry(dataContext) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Getting queryTermsCountry\");\n      let result = services.queryTermsCountry(dataContext);\n      DEFCON5 && console.log(\"Ok, update done - check result... \");\n\n      return result;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPersonById(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Sending notification to Gundrun\");\n      let orders = services.queryPersonById(searchText);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPerson(searchText, meta) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff from Gudrun\");\n      DEFCON5 && console.log(\"Check Meta structure\");\n      DEFCON5 && console.log(meta);\n      let orders = services.queryPerson(searchText, meta);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryRoleAdvanced(searchText, queryRoles) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff ADVANCED ROLE from Gudrun\");\n      DEFCON5 && console.log(\"Check queryRoles structure\");\n      DEFCON5 && console.log(queryRoles);\n      let orders = services.queryRoleAdvanced(\n        searchText,\n        queryRoles);\n      DEFCON5 && console.log(\"Ok, get something from ROLE person-object \");\n      DEFCON5 && console.log(orders);\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  queryPersonAdvanced(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Query stuff from Gudrun\");\n      let orders = services.queryPersonAdvanced(searchText);\n      DEFCON5 && console.log(\"Ok, get something from person-object \");\n      DEFCON5 && console.log(orders);\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n  livestream(searchText) {\n    try {\n      let services = new GudrunContentServices();\n      DEFCON5 && console.log(\"Get livestream\");\n      let orders = services.livestream(searchText);\n      DEFCON5 && console.log(\"Ok, get something from order \");\n\n      return orders;\n    } catch (error) {\n      DEFCON5 && console.log(error);\n      throw new Meteor.Error(\"\", \"\", JSON.stringify(error));\n    }\n  }\n}\n","import {check} from 'meteor/check';\nimport {Workgroups, WorkgroupUsers, UserWorkgroupRoles, WorkgroupVouchers} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nconst ADMIN_ROLE_NAME = 'Admin';\nconst MEMBER_ROLE_NAME = 'Member';\n\nexport default class Workgroup {\n\n    constructor(workgroupId, userId) {\n        this.workgroupId = workgroupId;\n        this.userId = userId;\n        this.workgroup = null;\n    }\n\n    static getUserWorkgroupIds(userId, asAdmin) {\n        const role = UserWorkgroupRoles.findOne({name: asAdmin ? ADMIN_ROLE_NAME : MEMBER_ROLE_NAME});\n\n        return WorkgroupUsers\n            .find({\n                status: 'active',\n                user_id: userId,\n                user_group_role: role._id\n            }).fetch().map(wu => wu.workgroup_id);\n    }\n\n    static getRegionsWorkgroupIds(regionIds) {\n\n        const ids = [];\n        if (regionIds) {\n            if (Array.isArray(regionIds)) {\n                ids.concat(regionIds);\n            } else {\n                ids.push(regionIds);\n            }\n\n        }\n\n        const workgroupIds = Workgroups.find({status: 'active', field_publishing_region: {$in: ids}})\n            .fetch().map(w => w._id);\n\n        //DEFCON5 && console.log ('WORKGROUPS FOR REGIONS: ');\n        //DEFCON5 && console.log (regionIds);\n        //DEFCON5 && console.log (workgroupIds);\n        return workgroupIds;\n    }\n\n    getWorkgroupEntity() {\n        if (!this.workgroup) {\n            const workgroup = Workgroups.findOne({_id: this.workgroupId, status: 'active'});\n            this.workgroup = workgroup;\n        }\n        return this.workgroup;\n    }\n\n    getWorkgroupRegionIds() {\n        const workgroupEntity = this.getWorkgroupEntity();\n        if (!workgroupEntity) {\n            return [];\n        }\n\n        return workgroupEntity.field_publishing_region;\n    }\n\n    addWorkgroupRegion(regionId) {\n        if (this.workgroupId && regionId) {\n\n            Workgroups.update(\n                {_id: this.workgroupId},\n                {$addToSet: {field_publishing_region: regionId}});\n\n            Workgroups.update(\n                {_id: this.workgroupId},\n                {$set: {modifiedBy: this.userId, modifiedAt: new Date()}});\n        }\n    }\n\n    removeWorkgroupRegion(regionId) {\n        if (this.workgroupId && regionId) {\n\n            Workgroups.update(\n                {_id: this.workgroupId},\n                {$pull: {field_publishing_region: regionId}});\n\n            Workgroups.update(\n                {_id: this.workgroupId},\n                {$set: {modifiedBy: this.userId, modifiedAt: new Date()}});\n        }\n    }\n\n    updateField(fieldName, value) {\n        const currentUser = this.userId;\n        const currentDate = new Date();\n\n        if (this.workgroupId) {\n\n            const values = {\n                modifiedBy: currentUser,\n                modifiedAt: currentDate,\n            };\n            values[fieldName] = value;\n\n            Workgroups.update({_id: this.workgroupId},\n                {\n                    $set: values\n                })\n        }\n\n    }\n\n    isUserAdminInWorkgroup(workgroupId) {\n        if (!workgroupId) {\n            //console.log(`Checking if user ${this.userId} is admin for workgroup ${this.workgroupId}`);\n        } else {\n            //console.log(`Checking if user ${this.userId} is admin for workgroup ${workgroupId}`);\n        }\n\n        const adminRole = UserWorkgroupRoles.findOne({name: ADMIN_ROLE_NAME});\n        if (adminRole) {\n\n            const selectedWorkgroups = WorkgroupUsers\n                .find({\n                    workgroup_id: workgroupId ? workgroupId : this.workgroupId,\n                    status: 'active',\n                    user_id: this.userId,\n                    user_group_role: adminRole._id\n                }).fetch();\n            return selectedWorkgroups.length === 1;\n        }\n        return false;\n    }\n\n    isOtherUserAdminInWorkgroup(userId) {\n        //console.log(`Checking if user ${userId} is admin for workgroup ${this.workgroupId}`);\n        const adminRole = UserWorkgroupRoles.findOne({name: ADMIN_ROLE_NAME});\n        if (adminRole) {\n\n            const selectedWorkgroups = WorkgroupUsers\n                .find({\n                    workgroup_id: this.workgroupId,\n                    status: 'active',\n                    user_id: userId,\n                    user_group_role: adminRole._id\n                }).fetch();\n            //console.log(selectedWorkgroups.length);\n            return selectedWorkgroups.length === 1;\n        }\n        return false;\n    }\n\n    isUserWorkgroupUserAdmin(workgroupUserId) {\n        //console.log(`Checking if user ${this.userId} is admin for workgroupUser ${workgroupUserId}`);\n\n        let workgroupId = '';\n        // get workgroupId from workgroupUser\n        const workgroupUser = WorkgroupUsers.findOne(workgroupUserId);\n        if (workgroupUser) {\n            workgroupId = workgroupUser.workgroup_id;\n        }\n        return this.isUserAdminInWorkgroup(workgroupId);\n    }\n\n    isUserAdminInAnyGroup() {\n        //console.log(`Checking if user ${this.userId} is admin in any workgroup`);\n        const adminRole = UserWorkgroupRoles.findOne({name: ADMIN_ROLE_NAME});\n        if (adminRole) {\n            const selectedWorkgroups = WorkgroupUsers\n                .find({\n                    status: 'active',\n                    user_id: this.userId,\n                    user_group_role: adminRole._id\n                }).fetch();\n            return selectedWorkgroups.length > 0;\n        }\n        return false;\n    }\n\n    getWorkgroupAdminsIds() {\n        let admins = [];\n\n        const adminRole = UserWorkgroupRoles.findOne({name: ADMIN_ROLE_NAME});\n        if (adminRole) {\n            const adminWorkgroupUsers = WorkgroupUsers\n                .find({\n                    workgroup_id: this.workgroupId,\n                    status: 'active',\n                    user_group_role: adminRole._id\n                }).fetch();\n\n            adminWorkgroupUsers.forEach(workgroupUser => admins.push(workgroupUser.user_id));\n        }\n        return admins;\n    }\n\n    addUser(userId, asAdmin = false) {\n        let addedWorkgroupUserId = '';\n        let currentWorkgroupUserEntity = WorkgroupUsers.findOne({workgroup_id: this.workgroupId, user_id: userId});\n        const currentUser = this.userId;\n        const currentDate = new Date();\n\n        //if we have one just change the status - dont need to store all the changes\n        if (currentWorkgroupUserEntity) {\n            addedWorkgroupUserId = currentWorkgroupUserEntity._id;\n            WorkgroupUsers.update({_id: currentWorkgroupUserEntity._id},\n                {\n                    $set: {\n                        status: 'active',\n                        modifiedBy: currentUser,\n                        modifiedAt: currentDate,\n                    }\n                }\n            );\n        } else {\n\n            const memberRole =\n                asAdmin\n                    ? UserWorkgroupRoles.findOne({name: ADMIN_ROLE_NAME})\n                    : UserWorkgroupRoles.findOne({name: MEMBER_ROLE_NAME});\n\n            const workgroupUser = {\n                workgroup_id: this.workgroupId,\n                user_id: userId,\n                user_group_role: memberRole._id,\n                modifiedBy: currentUser,\n                createdBy: currentUser,\n                modifiedAt: currentDate,\n                createdAt: currentDate,\n                status: 'active'\n            };\n\n            addedWorkgroupUserId = WorkgroupUsers.insert(workgroupUser);\n        }\n        return addedWorkgroupUserId;\n    }\n\n    static addUserAsSystem(workgroupId, userId, activate = true) {\n        //console.log(\"Adding user to workgroup\");\n        //console.log(userId + \" | \" + workgroupId);\n        let addedWorkgroupUserId = '';\n        let currentWorkgroupUserEntity = WorkgroupUsers.findOne({workgroup_id: workgroupId, user_id: userId});\n        const currentUser = 'SYSTEM';\n        const currentDate = new Date();\n\n        //if we have one just change the status - dont need to store all the changes\n        if (currentWorkgroupUserEntity) {\n            addedWorkgroupUserId = currentWorkgroupUserEntity._id;\n            WorkgroupUsers.update({_id: currentWorkgroupUserEntity._id},\n                {\n                    $set: {\n                        status: activate ? 'active' : 'pending',\n                        modifiedBy: currentUser,\n                        modifiedAt: currentDate,\n                    }\n                }\n            );\n        } else {\n\n            const memberRole = UserWorkgroupRoles.findOne({name: MEMBER_ROLE_NAME});\n\n            const workgroupUser = {\n                workgroup_id: workgroupId,\n                user_id: userId,\n                user_group_role: memberRole._id,\n                modifiedBy: currentUser,\n                createdBy: currentUser,\n                modifiedAt: currentDate,\n                createdAt: currentDate,\n                status: activate ? 'active' : 'pending'\n            };\n\n            addedWorkgroupUserId = WorkgroupUsers.insert(workgroupUser);\n        }\n        return addedWorkgroupUserId;\n    }\n\n    getWorkgroupPublishingName() {\n        const workgroup = this.getWorkgroupEntity();\n        return (workgroup && workgroup.publishingName) || '???';\n    }\n\n    getWorkgroupVoucher() {\n        return WorkgroupVouchers.findOne({workgroupId: this.workgroupId, status: 'active'});\n    }\n\n}\n","/* theme stuff */\nimport { version, version_focus, version_build_date } from \"../../package.json\";\n\nexport default {\n  name: \"v\" + version + \" \" + version_focus,\n  version: \"v\" + version,\n  version_build_date: version_build_date\n};\n","import {chatlines} from '/lib/collections';\n\nexport default function() {}","import { Meteor } from 'meteor/meteor';\n\nexport default () => {\n  if (Meteor.users.find().count() === 0) {\n    Accounts.createUser({ email: 'test@test.com', password: 'test1234' });\n  }\n};\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\n// import _ from 'lodash';\nimport AdminRole from \"../lib/adminrole\";\nimport { Random } from \"meteor/random\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nexport default function () {\n  Meteor.methods({\n    \"_users.getUserList\"(query) {\n      check(query, Object);\n      DEFCON5 && console.log(\"Running Query to get Users\");\n      DEFCON5 && console.log(query);\n\n      var chatUsers = Meteor.users.find(query).fetch();\n      DEFCON5 && console.log(chatUsers);\n\n      return chatUsers;\n    },\n    \"_users.getLanguagePreference\"(_id) {\n      check(_id, String);\n      let record = Meteor.users.findOne(_id);\n\n      if (record && record.get(\"language\")) return record.get(\"language\");\n\n      const locale = Meteor.settings[\"public\"].defaultLocale;\n      return locale ? locale : \"sv\";\n    },\n\n    \"_users.setLanguagePreference\"(_id, lang) {\n      check(_id, String);\n      check(lang, String);\n      // Meteor.users.update({_id: _id}, {set: {language: lang}})\n      let record = Meteor.users.findOne(_id);\n      if (record) {\n        record.set(\"language\", lang);\n        record.save();\n      }\n    },\n\n    \"_users.getTheme\"(_id) {\n      check(_id, String);\n      let record = Meteor.users.findOne(_id);\n\n      if (record && record.get(\"theme\")) return record.get(\"theme\");\n\n      return true;\n    },\n\n    \"_users.setTheme\"(_id, theme) {\n      check(_id, String);\n      check(theme, Boolean);\n      DEFCON5 && console.log(\"Set Theme for user \" + _id);\n      DEFCON5 && console.log(\"Theme value \" + theme);\n\n      let record = Meteor.users.findOne(_id);\n      if (record) {\n        record.set(\"theme\", theme);\n        record.save();\n      }\n    },\n\n    \"_users.updateProfileDescription\"(userId, text) {\n      check(userId, String);\n      check(text, String);\n\n      if (\n        !this.userId ||\n        (this.userId !== userId && !AdminRole.isSuperAdmin(this.userId))\n      ) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let updated = Meteor.users.update(\n        { _id: userId },\n        { $set: { profile: text } }\n      );\n      if (updated) {\n        return \"Description updated\";\n      } else {\n        return \"Description not updated! Please try again.\";\n      }\n    },\n\n    \"_users.updateName\"(userId, text) {\n      check(userId, String);\n      check(text, String);\n\n      if (\n        !this.userId ||\n        (this.userId !== userId && !AdminRole.isSuperAdmin(this.userId))\n      ) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let updated = Meteor.users.update(\n        { _id: userId },\n        { $set: { name: text } }\n      );\n      if (updated) {\n        return \"Name updated\";\n      } else {\n        return \"Name not updated! Please try again.\";\n      }\n    },\n\n    \"_users.updateEmail\"(userId, email) {\n      check(userId, String);\n      check(email, String);\n\n      if (\n        !this.userId ||\n        (this.userId !== userId && !AdminRole.isSuperAdmin(this.userId))\n      ) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let updated = Meteor.users.update(\n        { _id: userId },\n        { $set: { \"emails.0.address\": email } }\n      );\n      if (updated) {\n        return \"Email updated\";\n      } else {\n        return \"Email not updated! Please try again.\";\n      }\n    },\n\n    \"_users.anonymize\"(userId) {\n      check(userId, String);\n\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      if (AdminRole.isSuperAdmin(this.userId)) {\n        const newUser = {\n          name: Random.id(),\n          \"emails.0.address\": Random.id() + \"@\" + Random.id() + \".weylan.yt\",\n          avatar_uri: \"\",\n        };\n        let updated = Meteor.users.update({ _id: userId }, { $set: newUser });\n        if (updated) {\n          return \"User anonymize successful\";\n        } else {\n          return \"User anonymize failure! Please try again.\";\n        }\n      } else {\n        throw new Meteor.Error(\n          401,\n          \"Access denied - administrator role required\"\n        );\n      }\n    },\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON5 && console.log(\"In Account\");\n\nvar staleSessionPurgeInterval =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionPurgeInterval) ||\n  1 * 60 * 1000; // 1min\nvar inactivityTimeout =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionInactivityTimeout) ||\n  30 * 60 * 1000; // 30mins\nvar forceLogout = Meteor.settings && Meteor.settings.public && Meteor.set;\n\nexport default function () {\n  Meteor.methods({\n    async \"account.setPw\"(query) {\n      check(query, Object);\n      let userObj = Meteor.users.findOne(this.userId);\n      query.uid = userObj.uid;\n      DEFCON5 && console.log(\"Account setPw\");\n\n      const doWork = async () => {\n        const services = new DrupalServices();\n        const response = await services.accountSetPw(query);\n        DEFCON5 && console.log(`Method Account setPw`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n    heartbeat: function (options) {\n      DEFCON5 && console.log(`Heartbeat check - if user should reConnect`);\n      var user = Meteor.users.findOne(this.userId);\n      DEFCON5 && console.log(this.userId);\n\n      if (user) {\n        DEFCON5 && console.log(`Get user and update heartbeat...`);\n        DEFCON5 && console.log(user.uid + \" \" + user.name);\n        Meteor.users.update(user._id, { $set: { heartbeat: new Date() } });\n      } else {\n        DEFCON5 && console.log(`This userid is not set...`);\n      }\n      // if (user) {\n      //   DEFCON5 && console.log(`Get user and update heartbeat...`);\n      //   DEFCON5 && console.log(user.uid + \" \" + user.username);\n      //   Meteor.users.update(user._id, { $set: { heartbeat: new Date() } });\n      // }\n    },\n    //\n  });\n}\n\n//\n// periodically purge any stale sessions, removing their login tokens and clearing out the stale heartbeat.\n//\nif (forceLogout !== false) {\n  DEFCON5 && console.log(`HeartBeatCheck Setup...`);\n  DEFCON5 && console.log(staleSessionPurgeInterval);\n\n  Meteor.setInterval(function () {\n    DEFCON5 && console.log(`HeartBeatCheck Server Check...`);\n\n    var now = new Date(),\n      overdueTimestamp = new Date(now - inactivityTimeout);\n    DEFCON5 && console.log(inactivityTimeout);\n    DEFCON5 && console.log(overdueTimestamp);\n    DEFCON5 && console.log(staleSessionPurgeInterval);\n\n    Meteor.users.update(\n      { heartbeat: { $lt: overdueTimestamp } },\n      { $set: { \"services.resume.loginTokens\": [] }, $unset: { heartbeat: 1 } },\n      { multi: true }\n    );\n  }, staleSessionPurgeInterval);\n}\n\nFuture = Npm.require(\"fibers/future\");\n// At a minimum, set up LDAP_DEFAULTS.url and .dn according to\n// your needs. url should appear as 'ldap://your.url.here'\n// dn should appear in normal ldap format of comma separated attribute=value\n// e.g. 'uid=someuser,cn=users,dc=somevalue'\nDRUPAL_DEFAULTS = {\n  url: false,\n  port: \"389\",\n  dn: false,\n  searchDN: false,\n  searchSizeLimit: 100,\n  searchCredentials: false,\n  createNewUser: true,\n  defaultDomain: false,\n  searchResultsProfileMap: false,\n  base: null,\n  search: \"(objectclass=*)\",\n  ldapsCertificate: false,\n  bindToDomain: false,\n  bindDomain: null,\n};\nLDAP = {};\n\n/**\n @class LDAP\n @constructor\n */\nLDAP.create = function (options) {\n  // Set options\n  this.options = _.defaults(options, DRUPAL_DEFAULTS);\n\n  // Make sure options have been set\n  try {\n    // check(this.options.url, String);\n    // check(this.options.dn, String);\n  } catch (e) {\n    throw new Meteor.Error(\n      \"Bad Defaults\",\n      \"Options not set. Make sure to set LDAP_DEFAULTS.url and LDAP_DEFAULTS.dn!\"\n    );\n  }\n\n  // // Because NPM ldapjs module has some binary builds,\n  // // We had to create a wraper package for it and build for\n  // // certain architectures. The package typ:ldap-js exports\n  // // 'MeteorWrapperLdapjs' which is a wrapper for the npm module\n  // this.ldapjs = MeteorWrapperLdapjs;\n};\n\n/**\n * Attempt to bind (authenticate) ldap\n * and perform a dn search if specified\n *\n * @method ldapCheck\n *\n * @param {Object} [options]  Object with username, ldapPass and overrides for LDAP_DEFAULTS object.\n * Additionally the searchBeforeBind parameter can be specified, which is used to search for the DN\n * if not provided.\n * @param {boolean} [bindAfterFind]  Whether or not to try to login with the supplied credentials or\n * just return whether or not the user exists.\n */\nLDAP.create.prototype.drupalCheck = function (options, bindAfterFind) {\n  var self = this;\n  DEFCON3 && console.log(\"Login Check Drupal (NEW)\");\n\n  // DEFCON3 && console.log('drupalCheck');\n  options = options || {};\n\n  if (\n    (options.hasOwnProperty(\"username\") &&\n      options.hasOwnProperty(\"ldapPass\")) ||\n    !bindAfterFind\n  ) {\n    var ldapAsyncFut = new Future();\n\n    try {\n      HTTP.get(Meteor.settings[\"drupalTokenUrl\"], undefined, function (\n        err,\n        tokenResult\n      ) {\n        if (err) {\n          ldapAsyncFut.return({\n            error: err,\n          });\n        } else {\n          var user_data = {\n            username: options.username,\n            password: options.ldapPass,\n          };\n\n          if (!tokenResult.content) {\n            ldapAsyncFut.return({\n              error: new Meteor.Error(\"500\", \"missing token in response\"),\n            });\n            return;\n          }\n\n          // eslint-disable-next-line quote-props\n          const headers = {\n            \"Content-Type\": \"application/json\",\n            \"X-CSRF-Token\": tokenResult.content,\n            strictSSL: \"false\",\n          };\n          var params = { headers, data: user_data };\n          HTTP.post(Meteor.settings[\"drupalLoginUrl\"], params, function (\n            err,\n            loginResult\n          ) {\n            if (err) {\n              ldapAsyncFut.return({\n                error: err,\n              });\n            } else {\n              // DEFCON3 && console.log(loginResult);\n              var retObject = {};\n              try {\n                retObject.username = loginResult.data.user.name;\n                if (!retObject.username) {\n                  throw new Error(\"user name is empty\");\n                }\n                retObject.email = loginResult.data.user.mail;\n                if (!retObject.email) {\n                  throw new Error(\"user email is empty\");\n                }\n                retObject.uid = loginResult.data.user.uid;\n                ldapAsyncFut.return(retObject);\n              } catch (err) {\n                ldapAsyncFut.return({\n                  error: new Meteor.Error(err.code, err.message),\n                });\n              }\n            }\n          });\n        }\n      });\n\n      return ldapAsyncFut.wait();\n    } catch (err) {\n      ldapAsyncFut.return({\n        error: new Meteor.Error(err.code, err.message),\n      });\n    }\n  } else {\n    throw new Meteor.Error(403, \"Missing Auth Parameters\");\n  }\n};\n\n// Register login handler with Meteor\n// Here we create a new LDAP instance with options passed from\n// Meteor.loginWithLDAP on client side\n// @param {Object} loginRequest will consist of username, ldapPass, ldap, and ldapOptions\nAccounts.registerLoginHandler(\"drupal\", function (loginRequest) {\n  // If 'ldap' isn't set in loginRequest object,\n  // then this isn't the proper handler (return undefined)\n  DEFCON3 && console.log(\"REGISTER LOGIN HANDLER REQUEST (NEW):\");\n  DEFCON3 && console.log(loginRequest);\n\n  if (!loginRequest.drupal) {\n    return undefined;\n  }\n\n  // Instantiate LDAP with options\n  var userOptions = loginRequest.ldapOptions || {};\n  Accounts.ldapObj = new LDAP.create(userOptions);\n\n  // Call ldapCheck and get response\n  var response = Accounts.ldapObj.drupalCheck(loginRequest, true);\n  if (response.error) {\n    return {\n      userId: null,\n      error: response.error,\n    };\n  }\n  // Set initial userId and token vals\n  var userId = null;\n  var stampedToken = {\n    token: null,\n  };\n  DEFCON3 && console.log(\"response:\");\n  DEFCON3 && console.log(response);\n\n  // Look to see if user already exists\n  var user = Meteor.users.findOne({\n    // username: response.username\n    \"emails.address\": response.email,\n  });\n  if (!user) {\n    user = Meteor.users.findOne({\n      emails: { $elemMatch: { address: response.email, verified: true } },\n    });\n    if (user) {\n      user.username = response.username;\n    }\n  }\n\n  // Login user if they exist\n  if (user) {\n    userId = user._id;\n\n    // Create hashed token so user stays logged in\n    stampedToken = Accounts._generateStampedLoginToken();\n    var hashStampedToken = Accounts._hashStampedToken(stampedToken);\n    // Update the user's token in mongo\n    Meteor.users.update(userId, {\n      $push: {\n        \"services.resume.loginTokens\": hashStampedToken,\n      },\n    });\n    DEFCON3 && console.log(\"User exists!\");\n    Accounts.setPassword(userId, loginRequest.ldapPass);\n    Meteor.call(\n      \"_users.syncDrupalUser\",\n      userId,\n      response.uid,\n      (err, response) => {\n        // if (callback) {\n        //   if (err) {\n        //     callback(err);\n        //   } else {\n        //     callback(null, response);\n        //   }\n        // }\n        if (err) {\n          DEFCON3 && console.log(\"actions._users.manage error: \" + err);\n        }\n      }\n    );\n  }\n  // Otherwise create user if option is set\n  else if (Accounts.ldapObj.options.createNewUser) {\n    DEFCON3 && console.log(\"Creating new user\");\n    var userObject = {\n      username: response.username,\n    };\n\n    userId = Accounts.createUser(userObject);\n    DEFCON3 && console.log(userObject);\n    Meteor.users.update(userId, {\n      $set: {\n        emails: [\n          {\n            address: response.email,\n            verified: true,\n          },\n        ],\n        uid: response.uid,\n      },\n    });\n    Accounts.setPassword(userId, loginRequest.ldapPass);\n    Meteor.call(\n      \"_users.syncDrupalUser\",\n      userId,\n      response.uid,\n      (err, response) => {\n        // if (callback) {\n        //   if (err) {\n        //     callback(err);\n        //   } else {\n        //     callback(null, response);\n        //   }\n        // }\n        if (err) {\n          DEFCON3 && console.log(\"actions._users.manage error: \" + err);\n        }\n      }\n    );\n  } else {\n    // Ldap success, but no user created\n    DEFCON3 &&\n      console.log(\n        \"Authentication succeeded for \" +\n          response.username +\n          \", but no user exists in Meteor. Either create the user manually or set DRUPA_DEFAULTS.createNewUser to true\"\n      );\n    return {\n      userId: null,\n      error: new Meteor.Error(403, \"User found in LDAP but not in application\"),\n    };\n  }\n\n  return {\n    userId,\n    token: stampedToken.token,\n  };\n});\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\n\nDEFCON5 && console.log(\"In Account\");\n\nvar staleSessionPurgeInterval =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionPurgeInterval) ||\n  1 * 60 * 1000; // 1min\nvar inactivityTimeout =\n  (Meteor.settings &&\n    Meteor.settings.public &&\n    Meteor.settings.public.staleSessionInactivityTimeout) ||\n  30 * 60 * 1000; // 30mins\nvar forceLogout = Meteor.settings && Meteor.settings.public && Meteor.set;\n\nexport default function () {\n  Meteor.methods({\n    heartbeat: function (options) {\n      DEFCON5 && console.log(`Heartbeat check - if user should reConnect`);\n      var user = Meteor.users.findOne(this.userId);\n      DEFCON5 && console.log(this.userId);\n\n      if (user) {\n        DEFCON5 && console.log(`Get user and update heartbeat...`);\n        DEFCON5 && console.log(user._id + \" \" + user.name);\n        let updated = Meteor.users.update(\n          { _id: this.userId },\n          {\n            $set: { heartbeat: new Date(), isOnline: true },\n          },\n          function (error) {\n            DEFCON5 && console.log(`Some error occured.`);\n            DEFCON5 && console.log(error);\n          }\n        );\n\n        DEFCON5 && console.log(`Result after update is...`);\n        DEFCON5 && console.log(updated);\n      } else {\n        DEFCON5 && console.log(`This userid is not set...`);\n      }\n      // if (user) {\n      //   DEFCON5 && console.log(`Get user and update heartbeat...`);\n      //   DEFCON5 && console.log(user.uid + \" \" + user.username);\n      //   Meteor.users.update(user._id, { $set: { heartbeat: new Date() } });\n      // }\n    },\n    //\n  });\n}\n\n//\n// periodically purge any stale sessions, removing their login tokens and clearing out the stale heartbeat.\n//\nif (forceLogout !== false) {\n  DEFCON5 && console.log(`HeartBeatChec Check if users still online...`);\n  DEFCON5 && console.log(staleSessionPurgeInterval);\n\n  Meteor.setInterval(function () {\n    DEFCON5 && console.log(`HeartBeatCheck Server Check...`);\n\n    var now = new Date(),\n      overdueTimestamp = new Date(now - inactivityTimeout);\n    DEFCON5 && console.log(inactivityTimeout);\n    DEFCON5 && console.log(overdueTimestamp);\n    DEFCON5 && console.log(staleSessionPurgeInterval);\n    Meteor.users.update(\n      { heartbeat: { $lt: overdueTimestamp } },\n      {\n        $set: { \"services.resume.loginTokens\": [] },\n        $set: { heartbeat: 1, isOnline: false },\n      },\n      { multi: true },\n      function (error) {\n        DEFCON5 && console.log(`Some error occured.`);\n        DEFCON5 && console.log(error);\n      }\n    );\n    Meteor.users.update(\n      { heartbeat: { $gt: overdueTimestamp } },\n      {\n        $set: { isOnline: true },\n      },\n      { multi: true },\n      function (error) {\n        DEFCON5 && console.log(`Some error occured.`);\n        DEFCON5 && console.log(error);\n      }\n    );\n  }, staleSessionPurgeInterval);\n}\n","import { ChatRooms, ChatLines } from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport ChatRoom from \"../lib/chatroom\";\n\nDEFCON5 && console.log(\"In chatlinelists server, getting the stuff\");\n\nexport default function () {\n  Meteor.methods({\n    \"chatlinelists.unreadMessages\"() {\n      DEFCON5 && console.log(\"chatlinelists.unreadMessages for current user \");\n\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      let result = ChatRoom._getNumOfUnreadMessages(this.userId);\n      return result;\n    },\n  });\n  Meteor.methods({\n    \"chatlinelists.focusChatline\"(channelId) {\n      DEFCON5 && console.log(\"chatlinelists.focusChatline \" + channelId);\n\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(channelId, String);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      ChatRoom._upsertChatroomsetActiveUser(channelId, currentUserId);\n\n      return true;\n    },\n  });\n\n  Meteor.methods({\n    \"chatlinelists.addChatLine\"(channelId, line) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(channelId, String);\n      check(line, String);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      let chatLine = {};\n      chatLine.text = line;\n      chatLine.channelId = channelId;\n      chatLine.modifiedBy = currentUser;\n      chatLine.createdByName = currentUser;\n      chatLine.createdBy = currentUserId;\n      chatLine.modifiedAt = currentDate;\n      chatLine.createdAt = currentDate;\n      chatLine.status = \"active\";\n\n      let lineId = ChatLines.insert(chatLine);\n      ChatRoom._upsertChatroomsetActiveUser(channelId, currentUserId);\n\n      DEFCON5 &&\n        console.log(\"In chatlinelists.addChatLine method returning \" + lineId);\n      return lineId;\n    },\n  });\n\n  Meteor.methods({\n    \"chatlinelists.removeChatLine\"(containerId, lineId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(containerId, String);\n      check(lineId, String);\n\n      /*\n      if (ArticleStatus.isContainerTypeReadOnly(channelId, Constants.ContainerTypes.CHATLINES)) {\n         DEFCON5 && console.log('In chatlinelists.removeChatLine method and read only channel: ' + channelId);\n        throw new Meteor.Error(\"Line cannot be removed because of channel's state\");\n      }\n*/\n      const currentUser = Meteor.user()._id;\n      const currentDate = new Date();\n\n      ChatLines.update(lineId, {\n        $set: {\n          status: \"deleted\",\n          modifiedBy: currentUser,\n          modifiedAt: currentDate,\n        },\n      });\n\n      DEFCON5 &&\n        console.log(\n          \"In chatlinelists.removeChatLine method returning \" + lineId\n        );\n      return lineId;\n    },\n  });\n\n  Meteor.methods({\n    \"chatlinelists.checkAccess\"(channelId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(channelId, String);\n      DEFCON3 && console.log(\"Check if use has access to chatroom\");\n      DEFCON3 && console.log(channelId);\n\n      const chatRoomsSelector = {\n        \"users.userId\": {\n          $in: [this.userId],\n        },\n        channelId: channelId,\n      };\n      let chatRoomsUserIds = ChatRooms.find(chatRoomsSelector);\n      DEFCON3 && console.log(chatRoomsUserIds.fetch());\n      let hasAccessToChatlines = chatRoomsUserIds.fetch().length;\n      DEFCON3 && console.log(\"User has access if next value > 0\");\n      DEFCON3 && console.log(hasAccessToChatlines);\n      return hasAccessToChatlines;\n    },\n  });\n}\n\nasync function _checkAccess4User(channelId, userId) {\n  DEFCON3 && console.log(\"Check if user has access to chatroom\");\n  DEFCON3 && console.log(channelId);\n  DEFCON3 && console.log(userId);\n\n  const chatRoomsSelector = {\n    \"users.userId\": {\n      $in: [userId],\n    },\n    channelId: channelId,\n  };\n  let chatRoomsUserIds = ChatRooms.find(chatRoomsSelector);\n  DEFCON3 && console.log(chatRoomsUserIds.fetch());\n  let hasAccessToChatlines = chatRoomsUserIds.fetch().length;\n  DEFCON3 && console.log(\"User has access if next value > 0\");\n  DEFCON3 && console.log(hasAccessToChatlines);\n  return hasAccessToChatlines;\n}\n","import {\n  ChatRooms,\n} from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\n\n\nimport { check, Match } from \"meteor/check\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nDEFCON5 && console.log(\"In chatlinelists server, getting the stuff\");\n\nexport default function () {\n  Meteor.methods({\n    \"chatroom.get4channel\"(channelId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(channelId, String);\n      const chatRooms = ChatRooms.find({\n        channelId: channelId,\n      }).fetch();\n      DEFCON5 && console.log(\"Getting chatRooms\");\n      DEFCON5 && console.log(chatRooms);\n\n      return chatRooms;\n    },\n  });\n  Meteor.methods({\n    \"chatroom.get4user\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      const chatRoomsSelector = {\n        \"users.userId\": {\n          $in: [this.userId],\n        },\n      };\n      let chatRooms = ChatRooms.find(chatRoomsSelector).fetch();\n      DEFCON3 && console.log(\"Getting chatRooms for User\");\n      DEFCON3 && console.log(chatRooms);\n\n      // if there are no chatRooms for this user, create his personal chatRoom for him and his agent.\n      \n\n      return chatRooms;\n    },\n  });\n\n  Meteor.methods({\n    \"chatroom.setActiveUser\"(channelId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      const chatRoomsSelector = {\n        \"users.userId\": {\n          $in: [this.userId],\n        },\n      };\n      let chatRooms = ChatRooms.find(chatRoomsSelector).fetch();\n      DEFCON3 && console.log(\"Getting chatRooms for User\");\n      DEFCON3 && console.log(chatRooms);\n\n      return chatRooms;\n    },\n  });\n}\n","import {\n  Meteor\n} from \"meteor/meteor\";\nimport {\n  check,\n  Match\n} from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport {\n  Persons,\n  SearchLog\n} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function () {\n  Meteor.methods({\n    async 'contact.sendQuestion'(query) {\n      check(query, Object);\n\n      DEFCON5 && console.log(\"contact.sendQuestion\");\n\n      const doWork = async () => {\n        // any user Can send message - guest as logged in users...\n        \n        // if (!this.userId) {\n        //   DEFCON5 && console.log('contact.sendQuestion - Access denied');\n        //   throw new Meteor.Error(401, 'Access denied');\n        // }\n        const services = new DrupalServices();\n        const response = await services.sendQuestion(query);\n        DEFCON5 && console.log(`Method sendQuestion successful`);\n        return null;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n\n    }\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Contents } from \"/lib/collections\";\nimport Constants from \"/lib/constants\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport DrupalServices from \"../lib/drupal/services\";\nimport notices from \"../lib/notices\";\nimport _ from \"lodash\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function () {\n  Meteor.methods({\n    \"content.cloneArticle\": function (_id, context) {\n      check(_id, String);\n      check(context, String);\n\n      console.log(\"content.cloneArticle\");\n\n      // Optional: Add additional security checks here, e.g., this.userId to ensure user is logged in\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"You must be logged in to clone content\");\n      }\n\n      // Assuming you have a collection for your content objects, e.g., Contents\n      const documentToClone = Contents.findOne({ _id: _id });\n\n      if (!documentToClone) {\n        throw new Meteor.Error(404, \"Document not found\");\n      }\n\n      // Ensure revisions exist\n      if (documentToClone.revisions && documentToClone.revisions.length > 0) {\n        documentToClone.revisions = documentToClone.revisions.map(\n          (revision) => {\n            // Check if masterLanguage is equal to the language of the revision\n            if (documentToClone.masterLanguage === revision.language) {\n              // Prepend \"Clone of \" to the title of the matching revision\n              return {\n                ...revision,\n                title: `Clone of ${revision.title}`,\n              };\n            }\n            return revision;\n          }\n        );\n      }\n\n      // Remove the _id property to ensure MongoDB generates a new one for the clone\n      delete documentToClone._id;\n      // get the highest number of the id and add 1\n    \n\n      // Clone the document\n      const cloneId = Contents.insert(documentToClone);\n\n      // Optional: Log the cloning action or notify the user\n      const message =\n        \"Document cloned successfully. New document ID: \" + cloneId;\n      console.log(message);\n\n      // Add a notice about the cloning action\n      notices.addNoticeByFields(\n        Constants.NotiseClass.CONTENT_CLONED,\n        \"Cloned content\",\n        message,\n        \"contents\",\n        cloneId, // Use cloneId for the link to the cloned content\n        \"/content/\" + cloneId,\n        context,\n        [this.userId]\n      );\n\n      return cloneId; // Returns the _id of the cloned document\n    },\n  });\n\n\n  Meteor.methods({\n    async \"content.getArticle\"(query) {\n      check(query, Object);\n\n      DEFCON5 && console.log(\"content.getArticle\");\n\n      const doWork = async () => {\n        // if (!this.userId) {\n        //   DEFCON5 && console.log(\"content.getArticle - Access denied\");\n        //   throw new Meteor.Error(401, 'Access denied');\n        // }\n        const services = new DrupalServices();\n        const response = await services.getArticle(query);\n        DEFCON5 && console.log(`Method getArticle successful`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n  });\n  Meteor.methods({\n    \"content.update\": function (_id, context, fieldsToUpdate) {\n      // Check the arguments for proper types\n      check(_id, String);\n      check(fieldsToUpdate, Object);\n      check(context, String);\n      console.log(\"content.update\");\n      console.log(_id);\n      console.log(fieldsToUpdate);\n      // Optional: add additional security checks here, e.g., this.userId to ensure user is logged in\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"You must be logged in to update content\");\n      }\n\n      // Optional: Validate fieldsToUpdate against a schema or specific rules if necessary\n      // This step depends on your application's needs and the structure of your content objects\n\n      // Assuming you have a collection for your content objects, e.g., Contents\n      // Update the content object with the provided _id and fieldsToUpdate\n      const updateCount = Contents.update(\n        { _id: _id },\n        { $set: fieldsToUpdate }\n      );\n\n      if (updateCount === 0) {\n        throw new Meteor.Error(404, \"Content not found\");\n      }\n      // stringify the fieldsToUpdate object to display the updated fields in the notice\n      const message =\n        i18n.__(\"Content_updated\") + \" \" + JSON.stringify(fieldsToUpdate);\n\n      notices.addNoticeByFields(\n        Constants.NotiseClass.CONTENT_UPDATED,\n        \"Uppdating content fields\",\n        message,\n        \"contents\",\n        _id,\n        \"/content/\" + _id,\n        context,\n        [this.userId]\n      );\n\n      return updateCount; // Returns the number of documents updated\n    },\n  });\n  Meteor.methods({\n    \"content.getTypeOfArticles\": function () {\n      if (!this.userId) {\n        throw new Meteor.Error(\n          401,\n          \"You must be logged in to access content types\"\n        );\n      }\n\n      // Define the pipeline array within the method\n      const pipeline = [\n        {\n          $group: {\n            _id: null,\n            distinctTypes: {\n              $addToSet: \"$typeOfArticle\",\n            },\n          },\n        },\n        {\n          $project: {\n            _id: 0,\n            distinctTypes: 1,\n          },\n        },\n      ];\n\n      const rawCollection = Contents.rawCollection();\n\n      return new Promise((resolve, reject) => {\n        rawCollection\n          .aggregate(pipeline, { cursor: {} })\n          .toArray((error, result) => {\n            if (error) {\n              reject(new Meteor.Error(\"aggregation-error\", error.message));\n            } else {\n              // Assuming the result is an array with one document containing the distinctTypes array\n              resolve(result.length > 0 ? result[0].distinctTypes : []);\n            }\n          });\n      });\n    },\n  });\n}\n","import { Events } from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nDEFCON3 && console.log(\"In Nodes server, getting the stuff\");\n\n// This is the server side method for adding a node\n// make methods for adding a node, deleting a node, and updating a node\n\nexport default function () {\n  Meteor.methods({\n    \"events.getEventsForNode\"(point_id, startDate, endDate) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(point_id, String);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      // use startDate and endDate and set to default if not provided (for endDate set to 20 years from now)\n      startDate = startDate ? startDate : new Date();\n      endDate = endDate ? endDate : new Date() + 631152000000;\n\n      var query = {\n        point_id: point_id,\n      };\n\n      // if the nodeObject has an _id, then we are updating an existing node\n      // so we need to check if the user is the owner of the node\n      const nodes = Events.find(query).fetch();\n      DEFCON4 &&\n        console.log(\"NODE: \", point_id, \" - \", startDate, \" - \", endDate);\n      DEFCON4 && console.log(\"Found nodes: \", processRawData(nodes));\n\n      return processRawData(nodes, startDate, endDate);\n    },\n  });\n}\n\nconst processRawData = (rawData, startDate = null) => {\n  const currentDate = startDate ? new Date(startDate) : new Date();\n  const oneDayAgo = new Date(currentDate - 24 * 60 * 60 * 1000);\n  const oneWeekAgo = new Date(currentDate - 7 * 24 * 60 * 60 * 1000);\n  const oneMonthAgo = new Date(currentDate - 30 * 24 * 60 * 60 * 1000); // Assuming 30 days for simplicity\n  const oneYearAgo = new Date(currentDate - 365 * 24 * 60 * 60 * 1000); // Assuming 365 days for simplicity\n\n  const historyData = rawData.reduce((acc, doc) => {\n    const date = new Date(parseInt(doc.timestamp_write) * 1000);\n    const dateString = date.toISOString().split(\"T\")[0];\n    const timeString = date.toISOString().split(\"T\")[1].substring(0, 5);\n\n    // Helper function to initialize accumulator keys\n    const initializeKey = (key) => {\n      if (!acc[key]) {\n        acc[key] = {\n          dates: [],\n          values: [],\n        };\n      }\n    };\n\n    initializeKey(\"24h\");\n    initializeKey(\"1day\");\n    initializeKey(\"1week\");\n    initializeKey(\"1month\");\n    initializeKey(\"1year\");\n\n    // Filter data into different time intervals\n    if (date > oneDayAgo) {\n      acc[\"24h\"].dates.push(`${dateString} ${timeString}`);\n      acc[\"24h\"].values.push(parseFloat(doc.value));\n    }\n    if (\n      date.toISOString().split(\"T\")[0] ===\n      currentDate.toISOString().split(\"T\")[0]\n    ) {\n      acc[\"1day\"].dates.push(timeString);\n      acc[\"1day\"].values.push(parseFloat(doc.value));\n    }\n    if (date > oneWeekAgo) {\n      acc[\"1week\"].dates.push(`${dateString} ${timeString}`);\n      acc[\"1week\"].values.push(parseFloat(doc.value));\n    }\n    if (date > oneMonthAgo) {\n      acc[\"1month\"].dates.push(`${dateString} ${timeString}`);\n      acc[\"1month\"].values.push(parseFloat(doc.value));\n    }\n    if (date > oneYearAgo) {\n      acc[\"1year\"].dates.push(`${dateString} ${timeString}`);\n      acc[\"1year\"].values.push(parseFloat(doc.value));\n    }\n\n    return acc;\n  }, {});\n\n  return historyData;\n};\n\nconst processRawDataOld = (rawData, startDate, endDate) => {\n  const historyData = rawData.reduce((acc, doc) => {\n    const date = new Date(parseInt(doc.timestamp_write) * 1000);\n    const dateString = date.toISOString().split(\"T\")[0];\n    const timeString = date.toISOString().split(\"T\")[1].substring(0, 5);\n\n    if (!acc[\"1day\"]) {\n      acc[\"1day\"] = {\n        dates: [],\n        values: [],\n      };\n    }\n\n    if (!acc[\"24h\"]) {\n      acc[\"24h\"] = {\n        dates: [],\n        values: [],\n      };\n    }\n\n    acc[\"1day\"].dates.push(timeString);\n    acc[\"1day\"].values.push(parseFloat(doc.value));\n\n    acc[\"24h\"].dates.push(`${dateString} ${timeString}`);\n    acc[\"24h\"].values.push(parseFloat(doc.value));\n\n    return acc;\n  }, {});\n\n  return historyData;\n};\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nimport DrupalServices from \"../lib/drupal/services\";\n\nDEFCON3 && console.log(\"In Search server part\");\n\n/**\n * query:\n {\n    name,\n    email,\n    email2,\n    phone,\n    content\n}\n **/\n\nexport default function() {\n  Meteor.methods({\n    async \"filearea.fileareaQuery\"(query) {\n      check(query, Object);\n\n      DEFCON3 && console.log(\"filearea.fileareaQuery\");\n\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON3 && console.log(\"filearea.fileareaQuery - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n        DEFCON3 && console.log(\"Get Current user\");\n        let userObj = Meteor.users.findOne(this.userId);\n        query.meta_acting_user = userObj.uid;\n        DEFCON3 && console.log(`Doing request`);\n        DEFCON3 && console.log(query);\n        const services = new DrupalServices();\n        const response = await services.fileareaQuery(query);\n        DEFCON3 && console.log(`Method fileareaQuery successful`);\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    }\n  });\n\n  Meteor.methods({\n    async \"filearea.fileareaGetItem\"(query) {\n      check(query, Object);\n\n      DEFCON3 && console.log(\"filearea.fileareaGetItem\");\n\n      const doWork = async () => {\n        if (!this.userId) {\n          DEFCON3 && console.log(\"filearea.fileareaGetItem - Access denied\");\n          throw new Meteor.Error(401, \"Access denied\");\n        }\n\n        DEFCON3 && console.log(\"Get Current user\");\n        let userObj = Meteor.users.findOne(this.userId);\n        query.meta_acting_user = userObj.uid;\n        const services = new DrupalServices();\n        DEFCON3 && console.log(`Doing request`);\n        DEFCON3 && console.log(query);\n\n        const response = await services.fileareaGetFile(query);\n        DEFCON3 && console.log(`Method fileareaGetItem successful`);\n        DEFCON3 && console.log(response);\n\n        return response;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    }\n  });\n}\n","import _users from \"./_users\";\nimport chatlinelists from \"./chatlinelists\";\nimport orders from \"./orders\";\nimport search from \"./search\";\nimport log from \"./log\";\nimport contact from \"./contact\";\nimport content from \"./content\";\nimport filearea from \"./filearea\";\nimport account from \"./account\";\nimport sycorax from \"./sycorax\";\nimport nodes from \"./nodes\";\nimport chatrooms from \"./chatrooms\";\nimport events from \"./events\";\nimport workorders from \"./workorders\";\nimport notices from \"./notices\";\nimport systemconfig from \"./systemconfig\";\nexport default function() {\n  _users();\n  chatlinelists();\n  orders();\n  search();\n  contact();\n  content();\n  filearea();\n  account();\n  sycorax();\n  nodes();\n  chatrooms();\n  events();\n  workorders();\n  notices();\n  systemconfig();\n}\n","import {Articles} from '/lib/collections';\nimport {Meteor} from 'meteor/meteor';\nimport {check, Match} from 'meteor/check';\nimport Constants from '/lib/constants';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.methods({\n    'log.info' (content) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, 'Access denied')\n      }\n      check(content, Match.OneOf(String, Object));\n\n      if (typeof(content) === 'string') {\n         DEFCON5 && console.log(`INFO: ${content}`);\n      }\n\n      if (typeof(content) === 'object') {\n         DEFCON5 && console.log(`INFO:`);\n         DEFCON5 && console.log(JSON.stringify(content));\n      }\n\n      return 'OK';\n\n    }\n  });\n\n}\n","import { Nodes, NodeLinks } from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\n\nDEFCON3 && console.log(\"In Nodes server, getting the stuff\");\n\n// This is the server side method for adding a node\n// make methods for adding a node, deleting a node, and updating a node\n\nexport default function () {\n  Meteor.methods({\n    \"nodes.addNode\"(nodeObject) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(nodeObject, Object);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      DEFCON4 && console.log(\"In nodes.addNode, Upsert node: \", nodeObject);\n\n      // if the nodeObject has an _id, then we are updating an existing node\n      if (nodeObject._id) {\n        // if the nodeObject has an _id, then we are updating an existing node\n        // so we need to check if the user is the owner of the node\n        const node = Nodes.findOne({ _id: nodeObject._id });\n\n        // we dont need to check if owner is same as current user\n        // if (node.owner !== currentUserId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        // upsert the node\n        Nodes.upsert(\n          { _id: nodeObject._id },\n          { $set: { ...nodeObject, lastUpdated: currentDate } }\n        );\n      } else {\n        // if the nodeObject does not have an _id, then we are adding a new node\n        // so we need to add the owner and created fields\n        Nodes.insert({\n          ...nodeObject,\n          owner: currentUser,\n          created: currentDate,\n          lastUpdated: currentDate,\n        });\n      }\n    },\n  });\n\n  Meteor.methods({\n    \"nodes.removeNode\"(nodeId) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(nodeId, String);\n\n      const currentUser = Meteor.user()._id;\n      const currentDate = new Date();\n\n      Nodes.update(nodeId, {\n        $set: {\n          status: \"archived\",\n          modifiedBy: currentUser,\n          modifiedAt: currentDate,\n        },\n      });\n\n      DEFCON5 &&\n        console.log(\n          \"In removeNode method on server, removed node with id: \" + nodeId\n        );\n      return nodeId;\n    },\n  });\n  // store a link between two nodes\n  Meteor.methods({\n    \"nodes.addLink\"(linkObject) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(linkObject, Object);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      DEFCON4 && console.log(\"In nodes.addLink, Upsert link: \", linkObject);\n\n      // if the linkObject has an _id, then we are updating an existing link\n      if (linkObject._id) {\n        // if the linkObject has an _id, then we are updating an existing link\n        // so we need to check if the user is the owner of the link\n        const link = NodeLinks.findOne({ _id: linkObject._id });\n        // we dont need to check if owner is same as current user\n        // if (link.owner !== currentUserId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        // upsert the link\n        NodeLinks.upsert(\n          { _id: linkObject._id },\n          { $set: { ...linkObject, lastUpdated: currentDate } }\n        );\n      } else {\n        // if the linkObject does not have an _id, then we are adding a new link\n        // so we need to add the owner and created fields\n        NodeLinks.insert({\n          ...linkObject,\n          owner: currentUser,\n          created: currentDate,\n          lastUpdated: currentDate,\n        });\n      }\n    },\n  });\n  Meteor.methods({\n    getTreeStructurev1: function (startNodeId) {\n      check(startNodeId, String);\n      DEFCON2 && console.log(\"In getTreeStructure method on server\");\n      DEFCON2 && console.log(\" startNodeId: \" + startNodeId);\n\n      const nodeCollection = Nodes; // Assuming you've defined Nodes as your collection\n      const nodeLinksCollection = NodeLinks;\n\n      function buildNode(_id) {\n        const node = nodeCollection.findOne({ _id });\n        if (!node) {\n          return null;\n        }\n\n        const links = nodeLinksCollection.find({ parentId: _id }).fetch();\n\n        const children = [];\n        for (const link of links) {\n          const childNode = buildNode(link.childId);\n          if (childNode) {\n            children.push(childNode);\n          }\n        }\n\n        return {\n          ...node,\n          children,\n        };\n      }\n      console.log(\"buildNode(startNodeId)\");\n      console.log(buildNode(startNodeId));\n      return buildNode(startNodeId);\n    },\n  });\n  Meteor.methods({\n    getTreeStructure: function (startNodeId) {\n      check(startNodeId, String);\n      // DEFCON2 && console.log(\"In getTreeStructure method on server\");\n      // DEFCON2 && console.log(\" startNodeId: \" + startNodeId);\n\n      const nodeCollection = Nodes; // Assuming you've defined Nodes as your collection\n      const nodeLinksCollection = NodeLinks;\n\n      function buildNode(_id) {\n        // DEFCON2 && console.log(\"Building node for _id: \" + _id);\n\n        const node = nodeCollection.findOne({ _id });\n        if (!node) {\n          return null;\n        }\n\n        const links = nodeLinksCollection.find({ parentId: _id }).fetch();\n\n        // DEFCON2 && console.log(`Found ${links.length} links for node ${_id}`);\n\n        const children = [];\n        for (const link of links) {\n          /*DEFCON2 &&\n            console.log(`Processing link with childId: ${link.childId}`);*/\n          const childNode = buildNode(link.childId); // Removed await because Meteor's Mongo API is synchronous\n          if (childNode) {\n            children.push(childNode);\n          }\n        }\n\n        return {\n          ...node,\n          children,\n        };\n      }\n      //DEFCON2 && console.log(\"buildNode(startNodeId)\");\n      //DEFCON2 && console.log(buildNode(startNodeId));\n      return buildNode(startNodeId);\n    },\n  });\n}\n","import { NoticesUserStatus } from \"/lib/collections\";\nimport { addNotice } from \"../lib/notices\";\n\nimport { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nDEFCON5 && console.log(\"In chatlinelists server, getting the stuff\");\n\nexport default function () {\n  Meteor.methods({\n    \"notices.add\"(notice, users) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(notice, Object);\n      check(users, Object);\n\n      const currentUser = Meteor.user()._id;\n      const currentUserId = Meteor.user()._id;\n      const currentDate = new Date();\n\n      let newNotice = {};\n      newNotice = {\n        ...notice,\n      };\n      newNotice.modifiedBy = currentUser;\n      newNotice.createdByName = currentUser;\n      newNotice.createdBy = currentUserId;\n      newNotice.modifiedAt = currentDate;\n      newNotice.createdAt = currentDate;\n      newNotice.status = \"active\";\n      // let noticeId = Notices.insert(newNotice);\n\n      DEFCON5 && console.log(\"Inserted a new notice\");\n      DEFCON5 && console.log(newNotice);\n      return addNotice(newNotice, users);\n    },\n  });\n  Meteor.methods({\n    \"notices.updateReadStatus\"(noticeStatus) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(\"****** notices.updateReadStatus\");\n      DEFCON5 && console.log(noticeStatus);\n      check(noticeStatus, Object);\n      const currentDate = new Date();\n      let updateStatus = NoticesUserStatus.update(\n        { _id: noticeStatus._id },\n        {\n          $set: {\n            readIt: noticeStatus.readIt,\n            readAt: currentDate,\n            modifiedAt: currentDate,\n          },\n        }\n      );\n      return updateStatus;\n    },\n  });\n}\n","import {\n  Meteor\n} from \"meteor/meteor\";\nimport {\n  check,\n  Match\n} from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport {\n  Users\n} from '/lib/collections';\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\nDEFCON5 && console.log(\"In Order server part\");\n\nexport default function () {\n  Meteor.methods({\n    \"orders.testconnection\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(\"orders.testconnection \");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      order.testConnectionContent();\n      DEFCON5 && console.log(\"testConnectionSent\");\n      return true;\n    }\n  });\n  Meteor.methods({\n    \"orders.orderquery\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.orderQuery(searchText);\n      DEFCON5 && console.log(\"OrderQuery sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryOrderByOrderId\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderByOrderId(searchText);\n      DEFCON5 && console.log(\"OrderQuery sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.queryOrderByPersonId\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderByPersonId(searchText);\n      DEFCON5 && console.log(\"OrderQuery for Personid sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.queryRecentOrders\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      //check(searchText, String);\n\n      DEFCON5 && console.log(\"orders.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryRecentOrders();\n      DEFCON5 && console.log(\"OrderQuery for Personid sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n\n  Meteor.methods({\n    \"orders.updateOrderByOrderId\"(content_order) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(content_order);\n\n      check(content_order, Object);\n      //check(content_order.field_orderid, String);\n      let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON5 && console.log(\"orders.update stuff\");\n      DEFCON5 && console.log(content_order);\n      DEFCON5 && console.log(userObj);\n\n      const order = new Order(Meteor);\n      content_order.meta_acting_user = userObj.uid;\n      this.unblock();\n      const response = order.updateOrderByOrderId(content_order);\n      DEFCON5 && console.log(\"Called drupal service and received response\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.createUpdatePersonOrder\"(content_order) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      DEFCON5 && console.log(\"Create Order\");\n      DEFCON5 && console.log(content_order);\n      check(content_order, Object);\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const response = order.createUpdatePersonOrder(content_order);\n      DEFCON5 && console.log(\"Called drupal service and received response\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.getNameTypes\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n\n      DEFCON5 && console.log(\"Server orders.getNameTypes\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.getNameTypes();\n      DEFCON5 && console.log(\"Called drupal service and received Nametypes\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.getTerms\"(termtype) {\n      check(termtype, String);\n\n      DEFCON5 && console.log(\"Server orders.getTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.getTerms(termtype);\n      DEFCON5 && console.log(\"Called drupal service and received getTerms\");\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryTerms\"(termtype, searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(termtype, String);\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Server orders.queryTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.queryTerms(termtype, searchText);\n      DEFCON5 && console.log(\"Called drupal service and received queryTerms\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryTermsCountry\"(dataContext) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(dataContext, String);\n\n      DEFCON5 && console.log(\"Server orders.queryTerms\");\n      const order = new Order(Meteor);\n      this.unblock();\n      const response = order.queryTermsCountry(dataContext);\n      DEFCON5 && console.log(\"Called drupal service and received queryTerms\");\n      DEFCON5 && console.log(response);\n\n      return response;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPersonById\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPersonById(searchText);\n      DEFCON5 && console.log(\"queryPersonById sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPerson\"(searchText, meta) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      check(meta, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPerson(searchText, meta);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryPersonAdvanced\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryPersonAdvanced(searchText);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryRoleAdvanced\"(searchText, queryRoles) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      check(queryRoles, Object);\n\n      DEFCON5 && console.log(\"Person.Query stuff\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryRoleAdvanced(searchText, queryRoles);\n      DEFCON5 && console.log(\"queryPerson sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.livestream\"(searchText) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(searchText, String);\n      //let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON3 && console.log(\"Livestream check\");\n      DEFCON3 && console.log(this.userId);\n      //DEFCON3 && console.log(userObj);\n\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.livestream(searchText);\n      DEFCON5 && console.log(\"livestream sent with search string : \".searchText);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.motherchecks\"() {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      //check(searchText, String);\n      //let userObj = Meteor.users.findOne(this.userId);\n\n      DEFCON3 && console.log(\"motherchecks check\");\n      DEFCON3 && console.log(this.userId);\n      //DEFCON3 && console.log(userObj);\n\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.motherchecks();\n      DEFCON5 && console.log(\"motherchecks sent\");\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.process\"(query) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      check(query, Object);\n\n      DEFCON3 && console.log(\"Order Process ServerSide\");\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.process(query);\n      DEFCON3 && console.log(\"Process Order Request: \");\n      DEFCON3 && console.log(query);\n\n      return orders;\n    }\n  });\n  Meteor.methods({\n    \"orders.queryOrderState\"(state, limit) {\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON3 && console.log(\"Query Orderstate\");\n\n      check(state, String);\n      check(limit, String);\n\n      const order = new Order(Meteor);\n\n      this.unblock();\n      const orders = order.queryOrderState(state, limit);\n      DEFCON3 && console.log(\"state, limit: \");\n      DEFCON3 && console.log(state);\n      DEFCON3 && console.log(limit);\n\n      return orders;\n    }\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport Order from \"../lib/order.js\";\nimport { Persons, SearchLog } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nimport Constants from \"/lib/constants\";\n\nDEFCON5 && console.log(\"In Search server part\");\n\n/**\n * query:\n {\n      firstName: \"\",\n      lastName: \"\",\n      ssnNumber: \"\",\n      year: \"\",\n      month: \"\",\n      day: \"\",\n      field_pep_countries_list,\n      field_pep\n      field_rca\n\n}\n **/\n\nexport default function() {\n  Meteor.methods({\n    \"search.findPerson\"(query) {\n      check(query, Object);\n      if (!this.userId) {\n        throw new Meteor.Error(401, \"Access denied\");\n      }\n      DEFCON5 && console.log(\"search.findPerson \");\n\n      let dbQuery = {};\n\n      const nameElemMatch = { NameType: \"PrimÃ¤rt namn\" };\n      // const rStart = /.*\\b/;\n      //const rEnd = /\\b/;\n      // const rStart = /^/;\n      //const rEnd = /$/;\n      const rStart = /\\A/;\n      const rStartLastName = /\\b/;\n      //const rEnd = /\\Z.*/;\n      //const rStart = /\\b/;\n      const rEnd = /\\b/;\n      if (query.firstName) {\n        const regex = new RegExp(\n          rStart.source + query.firstName.toLowerCase().trim() + rEnd.source,\n          \"i\"\n        );\n        DEFCON3 &&\n          console.dir(\n            JSON.stringify(\n              rStart.source + query.firstName.toLowerCase().trim() + rEnd.source\n            )\n          );\n        nameElemMatch[\"FirstName\"] = { $regex: regex };\n      }\n\n      if (query.lastName) {\n        const regex = new RegExp(\n          rStartLastName.source + query.lastName.toLowerCase() + rEnd.source,\n          \"i\"\n        );\n        nameElemMatch[\"LastName\"] = { $regex: regex };\n        DEFCON3 &&\n          console.dir(\n            JSON.stringify(\n              rStart.source + query.lastName.toLowerCase() + rEnd.source\n            )\n          );\n      }\n\n      DEFCON3 && console.dir(JSON.stringify(nameElemMatch));\n\n      dbQuery[\"Names\"] = { $elemMatch: nameElemMatch };\n\n      if (query.field_pep === false || query.field_pep === 0) {\n        dbQuery[\"PEP\"] = \"0\";\n      }\n\n      if (query.field_rca === false || query.field_rca === 0) {\n        dbQuery[\"RCA\"] = \"0\";\n      }\n\n      if (query.year) {\n        dbQuery[\"BirthDateYear\"] = query.year;\n      }\n\n      if (query.month) {\n        dbQuery[\"BirthDateMonth\"] = query.month;\n      }\n\n      if (query.day) {\n        dbQuery[\"BirthDateDay\"] = query.day;\n      }\n\n      if (\n        Array.isArray(query.field_pep_countries_list) &&\n        query.field_pep_countries_list.length > 0\n      ) {\n        const filteredCountries = query.field_pep_countries_list\n          .filter(\n            (item, index) =>\n              query.field_pep_countries_list[index] &&\n              query.field_pep_countries_list[index].selected === true\n          )\n          .map(item => item.name);\n\n        dbQuery[\"PEPCountries.PEPCountryName\"] = { $in: filteredCountries };\n      } else {\n        //no results if no countries selected\n        return [];\n      }\n\n      let searchBySSN = false;\n\n      if (query.ssnNumber) {\n        //the rest doesn't matter if we use ssn\n        dbQuery = { \"SSNs.CurrentSSN\": query.ssnNumber };\n        searchBySSN = true;\n      }\n\n      if (Object.keys(dbQuery).length === 0) {\n        return [];\n      }\n\n      DEFCON3 && console.log(\"DebQuery\");\n      DEFCON3 && console.dir(JSON.stringify(dbQuery));\n      DEFCON3 && console.dir(dbQuery);\n\n      const result = Persons.find(dbQuery).fetch();\n\n      SearchLog.insert({\n        UserId: this.userId,\n        DateTime: new Date(),\n        ResultsReturned: result.length > 0\n      });\n\n      DEFCON3 && console.log(\"search.findPerson done yo\");\n      DEFCON3 && console.log(JSON.stringify(dbQuery));\n      return { list: result, searchBySSN };\n    }\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check, Match } from \"meteor/check\";\nimport fetch from \"node-fetch\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\nexport default  function () {\n  Meteor.methods({\n    \"sycorax.dynamic.async\": function (context) {\n      check(context, String);\n      DEFCON3 && console.log(\"sycorax.dynamic.async\");\n      DEFCON3 && console.log(context);\n\n      // Assuming \"processLdapLogin\" exists somewhere else ...\n      var _doFetchSync = Meteor.wrapAsync(_doFetch2);\n      var data = _doFetch(context);\n      DEFCON3 && console.log(\"Reply data to Host\");\n      DEFCON3 && console.log(data);\n      return data;\n    },\n    \"sycorax.dynamic\"(context) {\n      // if (!this.userId) {\n      //   throw new Meteor.Error(401, \"Access denied\");\n      // }\n      check(context, String);\n      DEFCON3 && console.log(\"sycorax.dynamic\");\n      DEFCON3 && console.log(context);\n\n      DEFCON3 && console.log(\"Making request to Sycorax\");\n       _doFetch(context).then((data) => {\n        DEFCON3 && console.log(\"Reply data to Host\");\n        DEFCON3 && console.log(data);\n        return data;\n      });\n\n      DEFCON3 && console.log(\"Did the request to Sycorax\");\n    },\n  });\n}\n\nasync function _doFetch(url) {\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nfunction _doFetch2(context) {\n  fetch(context, {})\n    .then((response) => response.json())\n    .then((data) => {\n      DEFCON3 && console.log(\"Reply data\");\n      DEFCON3 && console.log(data);\n      return data;\n    });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { SystemConfig } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  Meteor.methods({\n    \"systemconfig.get\"(key) {\n      check(key, String); // Corrected to check the 'key' parameter\n\n      DEFCON5 && console.log(\"Method systemconfig.get\");\n\n      const response = SystemConfig.findOne({ _id: key });\n      // if there is no response the key is not founb but we don't throw an error just return null\n\n      if (!response) {\n        DEFCON5 && console.log(`No system config found with key: ${key}`);\n      }\n\n      return response;\n    },\n    \"systemconfig.put\"(key, fieldsToUpdate) {\n      check(key, String);\n      check(fieldsToUpdate, Object);\n      DEFCON5 && console.log(\"systemconfig.put\");\n\n      if (!this.userId) {\n        throw new Meteor.Error(\n          401,\n          \"You must be logged in to update system config\"\n        );\n      }\n\n      // user and when the record was updated\n      fieldsToUpdate.updatedBy = this.userId;\n      fieldsToUpdate.updatedAt = new Date();\n\n      // Using the upsert option\n      const result = SystemConfig.update(\n        { _id: key },\n        { $set: fieldsToUpdate },\n        { upsert: true } // This is the key change\n      );\n\n      if (result) {\n        if (result.insertedId) {\n          DEFCON5 &&\n            console.log(\n              `New system config created with ID: ${result.insertedId}`\n            );\n        } else {\n          DEFCON5 &&\n            console.log(\n              `System config updated. Number of documents affected: ${result.numberAffected}`\n            );\n        }\n      } else {\n        throw new Meteor.Error(\n          \"update-failed\",\n          \"Failed to update or insert system config\"\n        );\n      }\n\n      return result; // Returns the result of the update operation\n    },\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\n// import _ from 'lodash';\nimport { Random } from \"meteor/random\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport { WorkOrders } from \"/lib/collections\";\n\nexport default function () {\n  Meteor.methods({\n    async \"workorder.new\"(customerOrderId, workorderclass, payload) {\n      check(customerOrderId, String);\n      check(workorderclass, String);\n      check(payload, Object);\n\n      DEFCON5 && console.log(\"workorder.new\");\n\n      const doWork = async () => {\n        // create a new mongo document with the payload and the workorderclass\n        // also create a readable workorderId created by yyyymmddhhmmss + the first 4 chars of the workorderclass\n        // use the workorderId as the _id of the mongo document\n        // return the workorderId\n\n        // first make the workoreder id string\n\n\n        // get agent information from collection bil_agent based on customerId in the payload\n        let query = {\n          _id: payload.customerId,\n        };\n\n        let workorderId =\n          new Date()\n            .toISOString()\n            .replace(/[^0-9]/g, \"\")\n            .substring(0, 14) + workorderclass.substring(0, 6);\n\n        // now create the mongo document\n        let workorder = {\n          _id: workorderId,\n          contentId: customerOrderId,\n          workorderclass: workorderclass,\n          payload: payload,\n          status: 1000,\n          created: new Date(),\n          modified: new Date(),\n          createdBy: Meteor.userId(),\n          modifiedBy: Meteor.userId(),\n        };\n\n        DEFCON5 && console.log(workorder);\n\n        // now insert the document\n        let result = WorkOrders.insert(workorder);\n\n        DEFCON5 && console.log(\"workorder.new result: \");\n        DEFCON5 && console.log(result);\n\n        // now return the workorderId\n        return workorderId;\n      };\n\n      try {\n        return await doWork();\n      } catch (e) {\n        throw new Meteor.Error(e.error, e.reason);\n      }\n    },\n  });\n}\n","import {Meteor} from 'meteor/meteor';\nimport {check} from 'meteor/check';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('users.all', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n\n    const selector = {\n      status: 'active'\n    };\n    const options = {};\n    const response = Meteor.users.find(selector, options);\n    // DEFCON5 && console.log('Users.Collection');\n    return response;\n  });\n\n  Meteor.publish('users.single', function(_id) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(_id, String);\n    const selector = {\n      _id,\n      status: 'active'\n    };\n    const response = Meteor.users.find(selector);\n     DEFCON5 && console.log('Users.Single');\n    return response;\n  });\n\n  Meteor.publish('users.single.uid', function(uid) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(uid, String);\n    const selector = {\n      uid\n    };\n    const response = Meteor.users.find(selector);\n     DEFCON5 && console.log('Users.Single.Uid');\n    return response;\n  });\n\n  Meteor.publish('users.current', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    // check(_id, String);\n    // if (this.userId) {\n    const selector = {\n      _id: this.userId\n    };\n    const response = Meteor.users.find(selector);\n    //  DEFCON5 && console.log ('publish users.current _id', _id);\n    //  DEFCON5 && console.log ('publish users.current this.userId', this.userId);\n    return response;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Agents, AgentUserConnections } from \"/lib/collections\";\nimport { Mongo } from \"meteor/mongo\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON3 && console.log(\"Setting up Agent stuff\");\n\n  Meteor.publish(\"agents.for.user\", function (userId) {\n    DEFCON3 && console.log(\"In agent  subscribe function\");\n    check(userId, String);\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    this.autorun(function (computation) {\n      DEFCON3 && console.log(\"Subscribing agent\");\n      DEFCON3 && console.log(\"Searching for agents for user \" + userId);\n\n      const Selector = {\n        user_id: userId,\n      };\n\n      let agents_connections = AgentUserConnections.find(Selector);\n      DEFCON3 && console.log(\"Agent list\");\n\n      DEFCON3 && console.log(agents_connections.fetch());\n      // subscribe for all agents that are connected to this user where id is object id and stored with ObjectId(\"641717047908426fab3d9497\"\n      const objectIdArray = agents_connections\n        .fetch()\n        .map((connection) => {\n          // Check that the _id field is a valid ObjectId string\n          if (\n            typeof connection.agent_id === \"string\" &&\n            connection.agent_id.length === 24\n          ) {\n            // Convert the string to an ObjectId instance\n            return new Mongo.ObjectID(connection.agent_id);\n          } else {\n            // Return null if the _id field is not a valid ObjectId string\n            return null;\n          }\n        })\n        .filter((objectId) => objectId !== null);\n\n      // Find documents where the _id field matches any value in the objectIdArray\n\n      let agents = Agents.find({ _id: { $in: objectIdArray } });\n\n      DEFCON3 && console.log(\"Agent connections\");\n      DEFCON3 && console.log(agents.fetch());\n\n      return agents;\n    });\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Articles } from \"/lib/collections\";\n\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON3 && console.log(\"Setting up Article stuff\");\n\n  Meteor.publish(\"articles.one\", function (articleId) {\n    DEFCON3 && console.log(\"In article  subscribe function\");\n    check(articleId, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON3 && console.log(\"Subscribing Article\");\n\n      const Selector = {\n        \"field_article_id.value\": articleId,\n        status: \"active\",\n      };\n\n      let article = Articles.find(Selector);\n      DEFCON3 && console.log(article.fetch());\n\n      return article;\n    });\n  });\n}\n","import { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\nimport { ChatLines, Users } from '/lib/collections';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('chatlines.forchannel', function(channelId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(channelId, String);\n     DEFCON5 && console.log('In publication/chatlines.forchannel');\n     DEFCON5 && console.log(channelId);\n\n    this.autorun(function(computation) {\n      const chatLinesSelector = {\n        channelId: channelId,\n        status: 'active'\n      };\n      let chatLinesUserIds = ChatLines.find(chatLinesSelector)\n        .fetch()\n        .map(line => line.createdBy);\n\n       DEFCON5 && console.log('Find chatLinesUserIds');\n\n      const usersWithAvatars = Meteor.users.find(\n        {\n          _id: {\n            $in: chatLinesUserIds\n          }\n        },\n        { avatar_uri: 1 }\n      );\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatLines.find(chatLinesSelector), usersWithAvatars];\n    });\n  });\n\n  Meteor.publish('chatlines.forUser', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    const chatLinesSelector = {\n      createdBy: this.userId\n    };\n    let chatLinesUserIds = ChatLines.find(chatLinesSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatLinesUserIds);\n    return chatLinesUserIds;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { ChatRooms, Users } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  Meteor.publish(\"chatrooms.access\", function (chatroomId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    check(chatroomId, String);\n    DEFCON5 && console.log(\"In publication/chatRooms.forchannel\");\n    DEFCON5 && console.log(chatroomId);\n\n    this.autorun(function (computation) {\n      const chatRoomsSelector = {\n        _id: chatroomId,\n        status: \"active\",\n      };\n\n      DEFCON5 && console.log(\"Find chatRoomsUserIds\");\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatRooms.find(chatRoomsSelector)];\n    });\n  });\n\n  Meteor.publish(\"chatrooms.forUser\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    const chatRoomsSelector = {\n      \"users.userId\": {\n        $in: [this.userId],\n      },\n    };\n    let chatRoomsUserIds = ChatRooms.find(chatRoomsSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatRoomsUserIds);\n    return chatRoomsUserIds;\n  });\n}\n","// subscribe on node and node children\nimport { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Contents } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\n//subscribe on nodes and node children\nexport default function () {\n  // subscribe on all nodes\n  Meteor.publish(\"contents.all\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    DEFCON5 && console.log(\"Contents.all\");\n\n    this.autorun(function (computation) {\n      const nodesSelector = {\n        \n      };\n\n      DEFCON5 && console.log(\"Get all nodes\");\n\n      return [Contents.find(nodesSelector)];\n    });\n  });\n\n  Meteor.publish(\"contents.get\", function (nodeId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    check(nodeId, String);\n    DEFCON5 && console.log(\"In publication/Content.get\");\n    DEFCON5 && console.log(nodeId);\n\n    this.autorun(function (computation) {\n      const nodesSelector = {\n        _id: nodeId,\n      };\n\n      DEFCON5 && console.log(\"Find node with id: \", nodeId);\n      return [Contents.find(nodesSelector)];\n    });\n  });\n  Meteor.publish(\"Contents.getTree\", function (nodeId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    check(nodeId, String);\n    DEFCON5 && console.log(\"In publication/Contents.getTree\");\n    DEFCON5 && console.log(nodeId);\n\n    const queue = [nodeId];\n    const seenNodeIds = new Set();\n    const seenLinkIds = new Set();\n\n    while (queue.length) {\n      const currentId = queue.shift();\n\n      if (seenNodeIds.has(currentId)) continue;\n\n      seenNodeIds.add(currentId);\n\n      const links = NodeLinks.find({ parentId: currentId }).fetch();\n\n      for (const link of links) {\n        if (!seenLinkIds.has(link._id)) {\n          seenLinkIds.add(link._id);\n          queue.push(link.childId);\n        }\n      }\n    }\n\n    \n\n    DEFCON5 && console.log(\"Found nodes and links:\", seenNodeIds, seenLinkIds);\n\n    return [\n      Contents.find({ _id: { $in: [...seenNodeIds] } }),\n      NodeLinks.find({ _id: { $in: [...seenLinkIds] } }),\n    ];\n\n\n  });\n}\n\n// function that reads the node and returns the node and all children based on the NodeLinks collection\nfunction _getNodesAndChildren(nodeId, deepth, maxDeepth) {\n  // get the node\n  const node = Contents.findOne({ _id: nodeId });\n  // get the children of the node based on the NodeLinks collection\n  const children = NodeLinks.find({ source: nodeId }).fetch();\n\n  // if the deepth is less than the maxDeepth, get the next level of nodes\n  if (deepth < maxDeepth) {\n    // loop through the children\n    for (let i = 0; i < children.length; i++) {\n      // get the children of the children\n      const child = _getNodesAndChildren(\n        children[i].target,\n        deepth + 1,\n        maxDeepth\n      );\n      // add the children to the children array\n      children[i].children = child;\n    }\n  }\n  // return the node and the children\n  return { node, children };\n}\n","import _users from \"./_users\";\nimport chatlines from \"./chatlines\";\nimport chatrooms from \"./chatrooms\";\nimport secrets from \"./secrets\";\nimport articles from \"./articles\";\nimport contents from \"./contents\";\nimport workorders from \"./workorders\";\nimport notices from \"./notices\";\nimport mcc from \"./mcc_config\";\nexport default function () {\n  _users();\n  chatlines();\n  chatrooms();\n  secrets();\n  articles();\n  mcc();\n  contents();\n  workorders();\n  notices();\n}\n","// subscribe on link children\nimport { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Nodes, Links } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\n//subscribe on links and link children\nexport default function () {\n  // subscribe on all links\n  Meteor.publish(\"links.all\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    DEFCON5 && console.log(\"links.all\");\n    DEFCON5 && console.log(linkId);\n\n    this.autorun(function (computation) {\n      const linksSelector = {\n        status: \"active\",\n      };\n\n      DEFCON5 && console.log(\"Get all links\");\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [Nodes.find(linksSelector)];\n    });\n  });\n\n  Meteor.publish(\"links.access\", function (linkId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    check(linkId, String);\n    DEFCON5 && console.log(\"In publication/links.access\");\n    DEFCON5 && console.log(linkId);\n\n    this.autorun(function (computation) {\n      const linksSelector = {\n        _id: linkId,\n        status: \"active\",\n      };\n\n      DEFCON5 && console.log(\"Find links\");\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [Nodes.find(linksSelector)];\n    });\n  });\n}\n\n// function that reads the link and returns the link and all children based on the links collection\nfunction _getNodesAndChildren(linkId, deepth, maxDeepth) {\n  // get the link\n  const link = Nodes.findOne({ _id: linkId });\n  // get the children of the link based on the links collection\n  const children = Links.find({ source: linkId }).fetch();\n\n  // if the deepth is less than the maxDeepth, get the next level of links\n    if (deepth < maxDeepth) {\n        // loop through the children\n        for (let i = 0; i < children.length; i++) {\n            // get the children of the children\n            const child = _getNodesAndChildren(children[i].target, deepth + 1, maxDeepth);\n            // add the children to the children array\n            children[i].children = child;\n        }\n    }\n  // return the link and the children\n  return { link, children };\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { MccConfig } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON7 && console.log(\"Setting up mcc -config\");\n\n  Meteor.publish(\"mccConfig.all\", function () {\n    DEFCON7 && console.log(\"In the subscribe function\");\n\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing MCC Configs\");\n\n      const Selector = {\n        status: \"active\",\n      };\n\n      let mccConfig = MccConfig.find(Selector);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n\n  Meteor.publish(\"mccConfig.one\", function (facility) {\n    DEFCON7 && console.log(\"In mccConfig.one  subscribe function\");\n    check(facility, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing mccConfig\");\n\n      const Selector = {\n        facility: facility,\n        status: \"active\",\n      };\n\n      let mccConfig = MccConfig.find(Selector);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n\n  Meteor.publish(\"mccConfig.CountRead\", function (facility) {\n    DEFCON7 && console.log(\"In mccConfig.CountRead  subscribe function\");\n    check(facility, String);\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON7 && console.log(\"Subscribing CountRead\");\n\n      var options = {\n        allowDiskUse: true,\n      };\n\n      var pipeline = [\n        {\n          $match: {\n            read_proc_status: \"OK\",\n          },\n        },\n        {\n          $group: {\n            _id: {},\n            numOfRead: {\n              $sum: 1,\n            },\n          },\n        },\n        {\n          $project: {\n            numOfRead: \"$numOfRead\",\n            _id: 0,\n          },\n        },\n      ];\n\n      let mccConfig = MccConfig.aggregate(pipeline, options);\n      DEFCON7 && console.log(mccConfig);\n\n      return mccConfig;\n    });\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { NoticesUserStatus, Notices, Users } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  Meteor.publish(\"notices.forUser\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    // check(userId, String);\n    DEFCON5 && console.log(\"notices.forUser\");\n\n    this.autorun(function (computation) {\n      const noticeSelector = {\n        status: \"active\",\n        userId: this.userId,\n      };\n      DEFCON5 && console.log(\"Query\");\n      DEFCON5 && console.log(noticeSelector);\n\n      const notices4User = NoticesUserStatus.find(noticeSelector)\n        .fetch()\n        .map((line) => line.noticeId);\n\n      DEFCON5 && console.log(notices4User);\n\n      const notices = Notices.find(\n        {\n          _id: {\n            $in: notices4User,\n          },\n        },\n        { avatar_uri: 1 }\n      );\n\n      const notices_userstatus = NoticesUserStatus.find(noticeSelector);\n\n      DEFCON5 && console.log(\"Find notices\");\n      DEFCON5 && console.log(notices.fetch());\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [notices, notices_userstatus];\n    });\n  });\n  Meteor.publish(\"notices.forUserAndArticle\", function (articleId) {\n    check(articleId, String);\n\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    // check(userId, String);\n    DEFCON5 && console.log(\"notices.forUserAndArticle\");\n\n    this.autorun(function (computation) {\n      const noticeSelector = {\n        status: \"active\",\n        userId: this.userId,\n      };\n      DEFCON5 && console.log(\"Query\");\n      DEFCON5 && console.log(noticeSelector);\n\n      const notices4User = NoticesUserStatus.find(noticeSelector)\n        .fetch()\n        .map((line) => line.noticeId);\n\n      DEFCON5 && console.log(notices4User);\n\n      const notices = Notices.find(\n        {\n          status: \"active\",\n          entity: \"article\",\n          entityId: articleId,\n          _id: {\n            $in: notices4User,\n          },\n        },\n        { avatar_uri: 1 }\n      );\n\n      const notices_userstatus = NoticesUserStatus.find(noticeSelector);\n\n      DEFCON5 && console.log(\"Find notices\");\n      DEFCON5 && console.log(notices.fetch());\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [notices, notices_userstatus];\n    });\n  });\n\n  Meteor.publish(\"notices.forAllUsersAndArticle\", function (articleId) {\n    check(articleId, String);\n\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    // check(userId, String);\n    DEFCON5 && console.log(\"notices.forUserAndArticle\");\n\n    this.autorun(function (computation) {\n      let notices4users = Notices.find(\n        {\n          status: \"active\",\n          entity: \"article\",\n          entityId: articleId,\n        },\n        { avatar_uri: 1 }\n      )\n        .fetch()\n        .map((line) => line._id);\n\n      const noticeSelector = {\n        status: \"active\",\n        noticeId: {\n          $in: notices4users,\n        },\n      };\n\n      const notices_userstatus = NoticesUserStatus.find(noticeSelector);\n      const notices = Notices.find(\n        {\n          status: \"active\",\n          entity: \"article\",\n          entityId: articleId,\n        },\n        { avatar_uri: 1 }\n      );\n      DEFCON5 && console.log(\"Find notices\");\n      DEFCON5 && console.log(notices.fetch());\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [notices, notices_userstatus];\n    });\n  });\n\n  Meteor.publish(\"notices.forArticle\", function (articleId) {\n    check(articleId, String);\n\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    // check(userId, String);\n    DEFCON5 && console.log(\"notices.forArticle\");\n\n    this.autorun(function (computation) {\n      const notices = Notices.find(\n        {\n          entity: \"article\",\n          entityId: articleId,\n          status: \"active\",\n        },\n        { avatar_uri: 1 }\n      );\n\n      DEFCON5 && console.log(\"Find notices\");\n      DEFCON5 && console.log(notices.fetch());\n\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [notices];\n    });\n  });\n}\n","import { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\nimport { Programs, Modules } from '/lib/collections';\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1\n} from \"/debug.json\";\nexport default function() {\n  Meteor.publish('program.get', function(programId) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    check(channelId, String);\n     DEFCON5 && console.log('In publication/program.get');\n     DEFCON5 && console.log(channelId);\n\n    this.autorun(function(computation) {\n      const chatLinesSelector = {\n        channelId: channelId,\n        status: 'active'\n      };\n      let chatLinesUserIds = ChatLines.find(chatLinesSelector)\n        .fetch()\n        .map(line => line.createdBy);\n\n       DEFCON5 && console.log('Find chatLinesUserIds');\n\n      const usersWithAvatars = Meteor.users.find(\n        {\n          _id: {\n            $in: chatLinesUserIds\n          }\n        },\n        { avatar_uri: 1 }\n      );\n      // DEFCON5 && console.log(usersWithAvatars);\n      return [ChatLines.find(chatLinesSelector), usersWithAvatars];\n    });\n  });\n\n  Meteor.publish('chatlines.forUser', function() {\n    if (!this.userId) {\n      throw new Meteor.Error(401, 'Access denied');\n    }\n    const chatLinesSelector = {\n      createdBy: this.userId\n    };\n    let chatLinesUserIds = ChatLines.find(chatLinesSelector);\n    // DEFCON5 && console.log(\"Find users\");\n    // DEFCON5 && console.log(chatLinesUserIds);\n    return chatLinesUserIds;\n  });\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Secrets } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nexport default function () {\n  DEFCON3 && console.log(\"Setting up secrets\");\n\n  Meteor.publish(\"secrets.all\", function () {\n    DEFCON3 && console.log(\"In the subscribe function\");\n\n    // if (!this.userId) {\n    //   throw new Meteor.Error(401, \"Access denied\");\n    // }\n    this.autorun(function (computation) {\n      DEFCON3 && console.log(\"Subscribing secrets\");\n\n      const Selector = {\n        status: \"active\",\n      };\n\n      let secrets = Secrets.find(Selector);\n      DEFCON3 && console.log(secrets);\n\n      return secrets;\n    });\n  });\n}\n","// subscribe on node and node children\nimport { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { SensorMapping } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\n\n//subscribe on nodes and node children\nexport default function () {\n  // subscribe on all nodes\n  Meteor.publish(\"sensormapping.all\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n    DEFCON5 && console.log(\"sensormapping.all\");\n\n    this.autorun(function (computation) {\n      const dataSelector = {\n      };\n\n      DEFCON3 && console.log(\"Get all SensorMapping\");\n      // var sort = [[\"timestamp_read\", -1.0]];\n      let nodes = SensorMapping.find(dataSelector, {\n        limit: 1500,\n      });\n      return [nodes];\n    });\n  });\n}\n\n","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { SignalState, SignalHistory } from \"/lib/collections\";\nimport {\n    DEFCON9,\n    DEFCON7,\n    DEFCON5,\n    DEFCON4,\n    DEFCON3,\n    DEFCON2,\n    DEFCON1,\n} from \"/debug.json\";\n\n// c\n\nexport default function() {\n    DEFCON3 && console.log(\"Setting up signalState\");\n\n    Meteor.publish(\"signalState.all\", function() {\n        DEFCON7 && console.log(\"In the subscribe function\");\n\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON7 && console.log(\"Subscribing SignalState\");\n\n            const Selector = {};\n\n            let signalState = SignalState.find(Selector);\n            DEFCON7 && console.log(signalState);\n\n            return signalState;\n        });\n    });\n\n    Meteor.publish(\"signalState.facility\", function(facility) {\n        DEFCON3 && console.log(\"In facility  subscribe function\");\n        check(facility, String);\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON3 && console.log(\"*** Subscribing facility\");\n\n            const Selector = {\n            _id: new RegExp(facility, \"i\")     \n            };\n\n            var sort = [\n                [\"route\", 1.0]\n            ];\n\n            DEFCON3 && console.log(Selector);\n\n            let signalState = SignalState.find(Selector, { sort: sort });\n            DEFCON3 && console.log(signalState.fetch());\n\n            return signalState;\n        });\n    });\n\n    Meteor.publish(\"signalState.History\", function(signalId) {\n        DEFCON3 && console.log(\"In signalState  subscribe function\");\n        check(signalId, String);\n        // if (!this.userId) {\n        //   throw new Meteor.Error(401, \"Access denied\");\n        // }\n        this.autorun(function(computation) {\n            DEFCON3 && console.log(\"Subscribing signalId\");\n\n            const Selector = {\n                entityId: signalId,\n            };\n\n            var sort = [\n                [\"time\", -1.0]\n            ];\n\n            DEFCON3 && console.log(Selector);\n\n            let SignalHistoryData = SignalHistory.find(Selector, {\n                sort: sort,\n                limit: 400,\n            });\n            // DEFCON3 && console.log(SignalHistoryData.fetch());\n\n            return SignalHistoryData;\n        });\n    });\n}","import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { WorkOrders } from \"/lib/collections\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/debug.json\";\nimport { object } from \"prop-types\";\nexport default function () {\n  Meteor.publish(\"workorders.open.search\", function (dataSelector, limit) {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n\n    DEFCON5 && console.log(\"workorders.open.search\");\n    DEFCON5 && console.log(dataSelector);\n    DEFCON5 && console.log(limit);\n    check(dataSelector, Object);\n    check(limit, Number);\n\n    this.autorun(function (computation) {\n      var projection = {};\n\n      var sort = [[\"Created\", -1]];\n\n      let myLimit = limit ? limit : 200;\n\n      DEFCON5 && console.log(\"Get the node\");\n      // make a time to calculate the time it takes to get the node\n      let start = new Date().getTime();\n      // DEFCON5 && console.log(usersWithAvatars);\n      let nodes = WorkOrders.find(dataSelector, {\n        projection,\n        sort,\n        limit: myLimit,\n      });\n      let end = new Date().getTime();\n      let execution = end - start;\n      DEFCON5 && console.log(\"Execution time: \" + execution);\n      DEFCON5 && console.log(\"DONE Get the node\");\n      DEFCON5 && console.log(\"Number of nodes: \" + nodes.count());\n      // DEFCON5 && console.log(nodes.fetch());\n      return [nodes];\n    });\n  });\n  Meteor.publish(\"workorders.search\", function () {\n    if (!this.userId) {\n      throw new Meteor.Error(401, \"Access denied\");\n    }\n\n    DEFCON5 && console.log(\"workorders.search\");\n\n    this.autorun(function (computation) {\n      var projection = {};\n      var dataSelector = {};\n      var sort = [[\"created\", -1]];\n      var limit = 200;\n\n      let myLimit = limit ? limit : 200;\n\n      DEFCON5 && console.log(\"Get the node\");\n      // make a time to calculate the time it takes to get the node\n      let start = new Date().getTime();\n      // DEFCON5 && console.log(usersWithAvatars);\n      let nodes = WorkOrders.find(dataSelector, {\n        projection,\n        sort,\n        limit: myLimit,\n      });\n      let end = new Date().getTime();\n      let execution = end - start;\n      DEFCON5 && console.log(\"Execution time: \" + execution);\n      DEFCON5 && console.log(\"DONE Get the node\");\n      DEFCON5 && console.log(\"Number of nodes: \" + nodes.count());\n      // DEFCON5 && console.log(nodes.fetch());\n      return [nodes];\n    });\n  });\n}\n","import {Meteor} from 'meteor/meteor';\nimport FileManager from './lib/fileManager/filemanager';\n\nPicker.route('/file/:fileType/:fileId', function (params, req, res, next) {\n  let {fileType, fileId} = params;\n  try {\n    let fileName = decodeURIComponent(fileId);\n    var fileData = new FileManager(fileType).readOutputFileAsBuffer(fileName);\n    res.setHeader('Content-disposition', 'attachment; filename=' + fileName);\n    res.end(fileData);\n  } catch (e) {\n    res.end('File not found!');\n  }\n\n\n});\n","import { Meteor } from 'meteor/meteor';\nimport publications from './publications';\nimport methods from './methods';\nimport addInitialData from './configs/initial_adds.js';\nimport i18n from 'meteor/universe:i18n';\nimport {\n    DEFCON9,\n    DEFCON7,\n    DEFCON5,\n    DEFCON4,\n    DEFCON3,\n    DEFCON2,\n    DEFCON1\n} from \"/debug.json\";\nimport AppConfig from \"./configs/app\";\n\npublications();\nmethods();\naddInitialData();\n\n//\nMeteor.startup(() => {\n  // WebApp.rawConnectHandlers.use(function(req, res, next) {\n  //     res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n  //     res.setHeader(\"Access-Control-Allow-Headers\", \"Authorization,Content-Type\");\n  //     return next();\n  // });\n  // });\n  DEFCON2 && console.log(\"* * * * * * * * * * * * * * * * * * * * \");\n  DEFCON2 && console.log(\"Starting Neptune POD Meteor server sequence\");\n  DEFCON2 && console.log(AppConfig.name);\n  DEFCON2 && console.log(AppConfig.version_build_date);\n  DEFCON2 && console.log(\"Running on \" + Meteor.release);\n  DEFCON2 && console.log(\"* * * * * * * * * * * * * * * * * * * * \");\n  Accounts.urls.resetPassword = function (token) {\n    return Meteor.absoluteUrl(\"reset-password/\" + token);\n  };\n\n  Accounts.emailTemplates.siteName = i18n.__(\"Email_SiteName_Text\");\n  Accounts.emailTemplates.from = i18n.__(\"Email_From_Text\");\n\n  Accounts.emailTemplates.resetPassword = {\n    subject(user) {\n      return i18n.__(\"Email_ResetPassword_Subject\");\n    },\n\n    html(user, url) {\n      let urlTag = `<a href=\"${url}\">${url}</a>`;\n      return i18n.__(\"Email_ResetPassword_Text\", { urlTag });\n    },\n  };\n\n  Accounts.onCreateUser((options, user) => {\n    DEFCON5 && console.log(\"Creating user x\");\n\n    user.status = \"active\";\n    user.name = options.name;\n    return user;\n  });\n\n  Accounts.validateLoginAttempt(function (loginRequest) {\n    if (loginRequest.user) {\n      if (!loginRequest.user.status || loginRequest.user.status != \"active\")\n        throw new Meteor.Error(403, i18n.__(\"Error_Account_NotActive\"));\n    }\n    return true;\n  });\n\n  Accounts.onLogin((loginInfo) => {\n    if (\n      loginInfo &&\n      loginInfo.allowed === true &&\n      loginInfo.type !== \"resume\"\n    ) {\n    }\n  });\n});","import t from 'tcomb-form'\nimport moment from 'moment'\n\nconst DateStringTransformer = function (formatString) {\n\n  return {\n    format: (value) => {\n      if (t.Date.is(value)) {\n        let momentDate = moment(value);\n        return momentDate.format(formatString);\n      }\n      return value;\n    },\n    parse: (str) => {\n      \"use strict\";\n      return str ? moment.parse(str).toDate() : null\n    }\n  }\n\n};\n\nexport default DateStringTransformer;\n","import { Mongo } from \"meteor/mongo\";\nimport {\n  DEFCON9,\n  DEFCON7,\n  DEFCON5,\n  DEFCON4,\n  DEFCON3,\n  DEFCON2,\n  DEFCON1,\n} from \"/package.json\";\n\nexport const Users = new Mongo.Collection(\"Users\");\n\nexport const SystemConfig = new Mongo.Collection(\"systemconfig\");\nexport const ActionLog = new Mongo.Collection(\"actionLog\");\nexport const TextsVersions = new Mongo.Collection(\"textsversions\");\nexport const Notices = new Mongo.Collection(\"notices\");\nexport const NoticesUserStatus = new Mongo.Collection(\"notices_userstatus\");\n\nexport const ChatLines = new Mongo.Collection(\"chatlines\");\nexport const ChatRooms = new Mongo.Collection(\"chatrooms\");\n\n// make collections for keyvalue, keyvalue_class, keyvalue_group, keyvalue_context\nexport const KeyValues = new Mongo.Collection(\"keyvalues\");\nexport const KeyValueClasses = new Mongo.Collection(\"keyvalueClasses\");\nexport const KeyValueGroups = new Mongo.Collection(\"keyvalueGroups\");\nexport const KeyValueContexts = new Mongo.Collection(\"keyvalueContexts\");\n//\n\nexport const Contents = new Mongo.Collection(\"contents\");\nexport const WorkOrders = new Mongo.Collection(\"workorders\");\n\nexport const TagClasses = new Mongo.Collection(\"tagclasses\");\nexport const Tags = new Mongo.Collection(\"tags\");\n\nDEFCON5 && console.log(\"Fixing collections...\");\n","import React from \"react\";\n\nexport const USER_ACTION_ACTIVATE = \"activate\";\nexport const USER_ACTION_DEACTIVATE = \"deactivate\";\nexport const USER_ACTION_ADD = \"add\";\nexport const USER_STATUS_ACTIVE = \"active\";\nexport const USER_STATUS_INACTIVE = \"inactive\";\n\nexport default class Constants {\n  static CardMode = {\n    PERSON: \"100\",\n    NEWORDER: \"200\",\n    ORDER: \"300\",\n  };\n\n  static CardStatus = {\n    NA: \"0\",\n    QA: \"1000\",\n    RQA: \"2000\",\n    NEW: \"5000\",\n    FUTURE: \"6000\",\n    OK: \"8000\",\n  };\n\n  static OrderProcessStatuses = {\n    INIT: \"0\",\n    PENDING: \"10\",\n    OPEN100: \"100\",\n    OPEN110: \"110\",\n    OPEN500: \"500\",\n    FUTURE: \"600\",\n    TIMECHECK: \"1000\",\n    QACHECK: \"4000\",\n    PUBLISH: \"5000\",\n    COMPLETED: \"8000\",\n    SUSPENCE910: \"910\",\n    SUSPENCE950: \"950\",\n    SUSPENCE990: \"990\",\n    CANCELLED: \"999\",\n  };\n\n  static OrderType = {\n    NEW_PERSON: \"100\",\n    MIGRATION: \"188\",\n    RELATION_UPDATE: \"189\",\n    RELATION_INSERT: \"190\",\n    CORE: \"200\",\n    URI: \"201\",\n    SSN: \"202\",\n    ADDRESS: \"203\",\n    NAME: \"205\",\n    ROLE_INSERT: \"206\",\n    ROLE_UPDATE: \"207\",\n  };\n\n  static activeCard = {\n    RELATION_UPDATE: \"RELATION_UPDATE\",\n    RELATION_INSERT: \"RELATION_INSERT\",\n    ROLE_UPDATE: \"ROLE_UPDATE\",\n    ROLE_INSERT: \"ROLE_INSERT\",\n    CORE: \"CORE\",\n    URI: \"URI\",\n    SSN: \"SSN\",\n    NAME: \"NAME\",\n    ADDRESS: \"ADDRESS\",\n    ROLES: \"ROLES\",\n  };\n\n  static Gender = {\n    FEMALE: \"K\",\n    MALE: \"M\",\n  };\n\n  static OrderProcessMethod = {\n    EXPRESS: \"E\",\n    DEFAULT: \"D\",\n  };\n\n  static datePrecision = {\n    UNDEF: \"u\",\n    YEAR: \"Y\",\n    MONTH: \"M\",\n    DAY: \"D\",\n  };\n\n  static orderTypeTechnical = {\n    NEW_PERSON_ORDER: \"384\",\n  };\n\n  static defaultValues = {\n    ORDERID: \"99999999\",\n  };\n\n  static motherCheckState = {\n    OK: 0,\n    WARNING: 100,\n    ERROR_GENERIC: 999,\n    ERROR: 999,\n  };\n\n  static personNameTypes = {\n    PREVIOUS_NAMES: \"1\",\n    ALTERNATIVE_NAMES: \"2\",\n    PRIMARY_NAME: \"3\",\n    REGISTRED_NAME: \"4\",\n  };\n\n  static NotiseClass = {\n    CONTENT_UPDATED: \"content_updated\",\n    CONTENT_CLONED: \"content_cloned\",\n    ARTICLE_ACTION_CONTENT_UPDATE: \"article_action_content_update\",\n    ARTICLE_STATUS_OPEN: \"article_status_open\",\n    ARTICLE_STATUS_REVIEW: \"article_status_review\",\n    ARTICLE_STATUS_REQUEST_FOR_PUBLICATION:\n      \"article_status_request_for_publication\",\n    ARTICLE_STATUS_APPROVED_FOR_PUBLICATION:\n      \"article_status_approved_for_publication\",\n    ARTICLE_STATUS_PUBLISHED: \"article_status_published\",\n    CHAT_ACTION_NEW_MESSAGE: \"chat_action_new_message\",\n    GROUP_ACTION_NEW_MEMBER: \"group_action_new_member\",\n  };\n\n  static LoadingComponent = () => <div> ... </div>;\n}\n","import {Meteor} from 'meteor/meteor';\n\nexport default class Log {\n  static info = (content, callback) => {\n    // console.log(`Logging ${content} on server`);\n    Meteor.call('log.info', content, (err, result) => {\n      if (callback) {\n        callback(err, result);\n      }\n    });\n  };\n\n}\n\n\n\n","import {Meteor} from 'meteor/meteor';\n\nexport default class Random {\n  static generateString = (length) => {\n    if (!length) {\n      length = 5;\n    }\n    let text = \"\";\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (let i = 0; i < length; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  };\n\n}\n\n\n\n","// Meteor.users.deny ({\n//   insert: (userId, doc, fields, modifier) => true,\n//   update: (userId, doc, fields, modifier) => true,\n//   remove: (userId, doc, fields, modifier) => true,\n// })\n\nimport _ from 'lodash';\n\nexport const Phone = Astro.Class({\n  name: 'Phone',\n  fields: {\n    name: {\n      type: 'string',\n      validator: [Validators.minLength(3)]\n    },\n    number: {\n      type: 'string',\n      validator: [Validators.minLength(9)]\n    },\n    uuid: {\n      type: 'string'\n    }\n  }\n});\n\nexport const Email = Astro.Class({\n  name: 'Email',\n  fields: {\n    address: {\n      type: 'string'\n      // validator: [\n      //   Validators.minLength(3)\n      // ]\n    },\n    verified: {\n      type: 'string'\n      // validator: [\n      //   Validators.minLength(9)\n      // ]\n    }\n  }\n});\n\nexport const UserProfile = Astro.Class({\n  name: 'UserProfile',\n  fields: {\n    /* Any fields you want to be published to the client */\n    description: {\n      type: 'string'\n    }\n    // lastName: {\n    //   type: 'string',\n    // },\n    // 'phones': {\n    //   type: 'array',\n    //   nested: 'Phone',\n    //   default: function() {\n    //     return [];\n    //   }\n    // },\n    // nickname\n  }\n});\n\nconst User = Astro.Class({\n  name: 'User',\n  collection: Meteor.users,\n  fields: {\n    // emails: {\n    //   type: 'array',\n    //   default: function() {\n    //     return [];\n    //   }\n    // },\n\n    emails: {\n      type: 'array',\n      nested: 'Email',\n      default: function() {\n        return [];\n      }\n    },\n    createdAt: 'date',\n    profile: {\n      type: 'string'\n    },\n    roles: {\n      type: 'array',\n      default: function() {\n        return {};\n      }\n    },\n    _iss: {\n      type: 'boolean'\n    },\n    _isa: {\n      type: 'boolean'\n    },\n\n    avatar_uri: {\n      type: 'string'\n    },\n    status: {\n      type: 'string'\n    },\n    name: {\n      type: 'string'\n    },\n    uid: {\n      type: 'string'\n    }\n  },\n  methods: {\n    firstEmail: function() {\n      return _.get(this, 'emails[0].address', null);\n    }\n    // ,aclIs : function(roleSlug) {\n    //    console.log ('UUser->aclIsInRole role-slug', roleSlug);\n    //    console.log(this.roles)\n    //   return _.contains(this.roles, roleSlug);\n    // }\n  }\n});\n\nif (Meteor.isServer) {\n  User.extend({\n    fields: {\n      services: \"object\",\n      language: \"string\",\n      avatar_uri: \"string\",\n      name: \"string\",\n      uid: \"string\",\n      theme: \"boolean\"\n    },\n  });\n}\n\nexport default User;\n","export default {\n  optional: ' (optional)',\n  required: '',\n  add: 'Add',\n  remove: 'Remove',\n  up: 'Up',\n  down: 'Down'\n}\n","export default {\n  optional: ' (valfri)',\n  required: '',\n  add: 'Foga',\n  remove: 'AvlÃ¤gsna',\n  up: 'Upp',\n  down: 'Ned'\n}\n","module.exports = function (wallaby) {\n  // There is a weird error with the mui and mantra.\n  // See: https://goo.gl/cLH8ib\n  // Using require here seems to be the error.\n  // Renaming it into `load` just fixed the issue.\n  var load = require;\n\n  return {\n    files: [\n      'client/modules/**/components/*.jsx',\n      'client/modules/**/actions/*.js',\n      'client/modules/**/containers/*.js',\n      'client/modules/**/libs/*.js'\n    ],\n    tests: [\n      'client/**/tests/*.js'\n    ],\n    compilers: {\n       '**/*.js*': wallaby.compilers.babel({\n         babel: load('babel-core'),\n         presets: ['es2015', 'stage-2', 'react']\n       })\n    },\n    env: {\n      type: 'node'\n    },\n    testFramework: 'mocha'\n  };\n};\n"]}