<!--
	THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=custom-gauge&theme=dark&code=G4QwTgBA-gDiB2BTANgSQLYgOaIKoCUAZCAXgnwHkKAVKABQEFqAJCAaggHIB6AExAAuIbiADOoxAO4BLdFm4BjAK6iBAe3QBaLCCU5NcJMgB0MeFk4BuAFChIUBLMHS18ACJKwz16QgBGAAYgmztoR0wBF3dPb3hcGH4BRF9A4NtwMPgnSNcAUTFpc3jE5LJOAEclcEiFVHgKJQErdPtQZAp4fBBeaQQAWRAAD18AJjTQqDVGxDAunpVR8YyoQqRZ7ukFsj8AdgCQ5Zg1QqSwOrW5zdFfABZ9luhC0WleRDoEFEut_zuD-2UwGBEPABG5BCA6q9hmR7gAzJTwBQ5eAQIHwV5nJLoAAUcC86FEABoICAYNIAJQQADe1ggEFCbQ6lwQvlJ0mMbSUiGxfnJNjpoQUajUYF41zIbOMQpFvGxAG1JZzuQFycTGZ0NggALp82n0jJHZDgXLo5kosjS0WiOUAZi1_P1kCcOAAygIAJ7IUrUvV052IABc0EMKAw2DwREJvoggyDeJABKlwtFLvdoilw000Cmpy-ROj7rj4AT6ctvFTpfdECzk2m63m-bpdIA7i8BAALIO13MbBYAKggIyjTYg7cQ0iw7YEXZzMzzEAHIz1AF8HUCBJ4UTSRx6YIGuFgwFMYJxh02FO3pMheGig3Lo3TtyOm7v95x_aeH03VJ79_63b-Z7PhACjINIMDvB2QZPsBdKvkGnASEiIqfrB37tqS-4wWhIGxhA8aJmWFYZkBOEKIW-HFoRyblmmUruqRaFgDOdZ5oxsFgAEXarHOvaNjhdKqNUDDmF6QYBOxwHArwIlYGJ1aGsapqavAknPgIXjwM8yIIdJsleqhAkQMCpwAGJHug0HGei-n7gEEDLl-I6OWhLnPsu7HYTu7p7ghH5qT-8n_h6XpqaB4GQZ2PoCfBXCGu6WCuIZaGiBhvnRUZRwnKIQaYAA1m8USnHQxwgqIuJUUS-FqEaYAmrwZrkk5TYec1dKIIMGkgNBbVNopdXKT0CBxjVSkNSpak7pp2lRAh_X1WayU4SZMzmRoVnzYNvTwOJDm9a1Am8J4hRYEG8KIsiEDYmyHhgCdlJebBN3HeYxgSAILppdyvUjpwWVlUtAn5YVrjFaVAjlQRVXPXdr04AIuSdV42J_aNA3jUN8CcOSTVGRAuoCW5wFEy1nnNbFnAKNIYCgYggPoZhPUCQoeFQ0mMrESzk0gRRbNEXR5Hc8xjxaS8bwfMgebNQdsGBVhvWwleyAIQAxLC6v0yOqXdGozYAELIJ4QYjAArNz2u8LrFDq-9AAa4nmxhlvNtbsLvQAmg7vUW7rADCNUighYBYAARiA2I7AAbISgQ7DHkdxwExg3OSnDS1-Msjo9cE-W-SSdZrxlI91GVoeqZpBuXE29V1os6VwVeY4X7UgqtFlWY3227STzkBSF8sxR104QMD1BD9incIKqCugy60gAF77ibEkzyCADq46TsPewrwJrOVezKYC4M3O8wf_OVtzivIMrXDByH2IScvMcAJwqs3JJgVgO1cAoK1gB_YAMwaggGQAwL-P9ODoBeLwAy3N_5rUstSCAag4BUw9N3aWakjqw1OhAc6SIohXRhvdUuT0yS3ROm9SQAEvTYh-lwfOTRuZ0lHuPEhcNJCIy6ijSeWMca9QJrBHue0RxahXDYRyBDLpCngEAsAAhqBqBKrVEqJxsRogxKgLE7x8RVS8A2YkBjtoPT1OuTcEB7wjgGB2JM5VjFTwXKiPi7BUTSRmNoxA6BdElkPrRUsJ9oyaBse2N6hQNEqUpAOYxCwOCaI8To8-NFObuj1PaawUiESEJ8MDOgRUZhqLKho9xmIvE-IJMSTaGMTEZXMWAFEVjzyuHkYo5RaNCkCGKeiBJZTKrEm7LxQx1VaoLUiaRWRLSlEqPAB0-hwF4mlO8X0r8Az6xXHYlUs0riQnGDoKgJxScAg2mjNPEcEzgFTPaeDLpWjEl6P6f9U45xBnrOGWNRqaTJHWGkUQthnUJ6gKZJEjK3BuAQAAGqgJeIIZI3QeiRCASSLIEQiEKFAQoYweppCwiunwiAAAeasgRTEjlAcAlGStEA6GQBAHBJ19S304K4vhQi3J1JRNiAF7QNSYwgGCqAfCBiDCif4II5JjDqFMtIQYiBZQqlcZwAApM0RyqDLpkCfOEWI-RnjmC7Fq5EOqTrFBhWeA1URbqxH1ci2IlrkRmptciO1UQTVJGtdkC1MRkSusQA6j1eQChFASDC91KKA26qwD6s8iQxCSCZt-KYNN9xyjlH4YkfgTaRy1OIukMt1A1UiDAaCMsEByUQAwQY0gcpkIpkqJaQkFG2S9lrdsuszqgIkKRaBP9d5NkwHhAVgKeXbSFSuM8MTRAVqrfGnO6VOB1tIqlNt-CO2IDHXqfqxazwSDuogatjTHxfgpsoVQGh6ZlkKDCisWI5po3pgszxSCH1YmjG5cRq5rDvTqKcNo2Ifk-GxCSx0EAkCdRdImv-vgU1pogDso8CJZRwYQJbHEIrB3crNEK8k2aHToHdL7DCCjqECAoDAZE2JsIxvejOhNng_5BlAx9CDa7nIrl1B5CANoggqksEAA
	âš  Please be aware that this chart is not an official demo of Apache ECharts but is made by user-generated code.
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
  <div id="container" style="height: 100%"></div>

  
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.3/dist/extension/dataTool.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
  <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.3/dist/extension/bmap.min.js"></script>
  -->

  <script type="text/javascript">
    var dom = document.getElementById('container');
    var myChart = echarts.init(dom, 'dark', {
      renderer: 'canvas',
      useDirtyRect: false
    });
    var app = {};
    var ROOT_PATH = 'https://echarts.apache.org/examples';
    var option;

    var _panelImageURL = ROOT_PATH + '/data/asset/img/custom-gauge-panel.png';
var _animationDuration = 1000;
var _animationDurationUpdate = 1000;
var _animationEasingUpdate = 'quarticInOut';
var _valOnRadianMax = 200;
var _outerRadius = 200;
var _innerRadius = 170;
var _pointerInnerRadius = 40;
var _insidePanelRadius = 140;
var _currentDataIndex = 0;
function renderItem(params, api) {
  var valOnRadian = api.value(1);
  var coords = api.coord([api.value(0), valOnRadian]);
  var polarEndRadian = coords[3];
  var imageStyle = {
    image: _panelImageURL,
    x: params.coordSys.cx - _outerRadius,
    y: params.coordSys.cy - _outerRadius,
    width: _outerRadius * 2,
    height: _outerRadius * 2
  };
  return {
    type: 'group',
    children: [
      {
        type: 'image',
        style: imageStyle,
        clipPath: {
          type: 'sector',
          shape: {
            cx: params.coordSys.cx,
            cy: params.coordSys.cy,
            r: _outerRadius,
            r0: _innerRadius,
            startAngle: 0,
            endAngle: -polarEndRadian,
            transition: 'endAngle',
            enterFrom: { endAngle: 0 }
          }
        }
      },
      {
        type: 'image',
        style: imageStyle,
        clipPath: {
          type: 'polygon',
          shape: {
            points: makePionterPoints(params, polarEndRadian)
          },
          extra: {
            polarEndRadian: polarEndRadian,
            transition: 'polarEndRadian',
            enterFrom: { polarEndRadian: 0 }
          },
          during: function (apiDuring) {
            apiDuring.setShape(
              'points',
              makePionterPoints(params, apiDuring.getExtra('polarEndRadian'))
            );
          }
        }
      },
      {
        type: 'circle',
        shape: {
          cx: params.coordSys.cx,
          cy: params.coordSys.cy,
          r: _insidePanelRadius
        },
        style: {
          fill: '#fff',
          shadowBlur: 25,
          shadowOffsetX: 0,
          shadowOffsetY: 0,
          shadowColor: 'rgba(76,107,167,0.4)'
        }
      },
      {
        type: 'text',
        extra: {
          valOnRadian: valOnRadian,
          transition: 'valOnRadian',
          enterFrom: { valOnRadian: 0 }
        },
        style: {
          text: makeText(valOnRadian),
          fontSize: 50,
          fontWeight: 700,
          x: params.coordSys.cx,
          y: params.coordSys.cy,
          fill: 'rgb(0,50,190)',
          align: 'center',
          verticalAlign: 'middle',
          enterFrom: { opacity: 0 }
        },
        during: function (apiDuring) {
          apiDuring.setStyle(
            'text',
            makeText(apiDuring.getExtra('valOnRadian'))
          );
        }
      }
    ]
  };
}
function convertToPolarPoint(renderItemParams, radius, radian) {
  return [
    Math.cos(radian) * radius + renderItemParams.coordSys.cx,
    -Math.sin(radian) * radius + renderItemParams.coordSys.cy
  ];
}
function makePionterPoints(renderItemParams, polarEndRadian) {
  return [
    convertToPolarPoint(renderItemParams, _outerRadius, polarEndRadian),
    convertToPolarPoint(
      renderItemParams,
      _outerRadius,
      polarEndRadian + Math.PI * 0.03
    ),
    convertToPolarPoint(renderItemParams, _pointerInnerRadius, polarEndRadian)
  ];
}
function makeText(valOnRadian) {
  // Validate additive animation calc.
  if (valOnRadian < -10) {
    alert('illegal during val: ' + valOnRadian);
  }
  return ((valOnRadian / _valOnRadianMax) * 100).toFixed(0) + '%';
}
option = {
  animationEasing: _animationEasingUpdate,
  animationDuration: _animationDuration,
  animationDurationUpdate: _animationDurationUpdate,
  animationEasingUpdate: _animationEasingUpdate,
  dataset: {
    source: [[1, 156]]
  },
  tooltip: {},
  angleAxis: {
    type: 'value',
    startAngle: 0,
    show: false,
    min: 0,
    max: _valOnRadianMax
  },
  radiusAxis: {
    type: 'value',
    show: false
  },
  polar: {},
  series: [
    {
      type: 'custom',
      coordinateSystem: 'polar',
      renderItem: renderItem
    }
  ]
};
setInterval(function () {
  var nextSource = [[1, Math.round(Math.random() * _valOnRadianMax)]];
  myChart.setOption({
    dataset: {
      source: nextSource
    }
  });
}, 3000);


    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>